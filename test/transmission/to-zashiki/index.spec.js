import debug from 'debug'

import { expect } from 'chai'

import transform from 'shinkansen-transmission/transmission/to-zashiki'

describe('shinkansen-transmission/transmission/to-zashiki', () => {
  before(() => debug.disable())

  it('is a function', () => {
    expect(transform)
      .to.be.a('function')
  })

  describe('With values', () => {
    describe('With params', () => {
      it('transforms', () => {
        const schema = {
          $id: 'https://example.com/geographical-location.schema.json',
          $schema: 'http://json-schema.org/draft-07/schema#',
          title: 'Latitude and Longitude',
          description: 'A geographical coordinate',
          required: ['latitude', 'longitude'],
          type: 'object',
          properties: {
            stringTypeSubSchema: {
              title: 'String type sub schema',
              type: 'string',
              minLength: 1,
              maxLength: 10
            },
            numberTypeSubSchema: {
              title: 'Number type sub schema',
              type: 'number',
              min: 1,
              max: 10
            },
            arrayTypeSubSchema: {
              title: 'Array type sub schema',
              type: 'array',
              items: [
                {
                  type: 'string'
                }
              ]
            },
            objectTypeSubSchema: {
              title: 'Object type sub schema',
              type: 'object',
              properties: {
                one: { type: 'string' },
                two: { type: 'number' }
              }
            },
            booleanTypeSubSchema: {
              title: 'Boolean type sub schema',
              type: 'boolean'
            },
            nullTypeSubSchema: {
              title: 'Null type sub schema',
              type: 'null'
            },
            latitude: {
              title: 'Latitude',
              type: 'number',
              minimum: -90,
              maximum: 90,
              multipleOf: 42.0
            },
            longitude: {
              title: 'Longitude',
              type: 'number',
              minimum: -180,
              maximum: 180,
              exclusiveMinimum: true,
              exclusiveMaximum: true
            }
          }
        }

        const values = {
          '#/stringTypeSubSchema': 'string',
          '#/numberTypeSubSchema': '1',
          '#/arrayTypeSubSchema/0': 'string',
          '#/objectTypeSubSchema/one': 'string',
          '#/objectTypeSubSchema/two': '2',
          '#/booleanTypeSubSchema': 'true',
          '#/nullTypeSubSchema': 'null'
        }

        const params = {
          '#/stringTypeSubSchema': { meta: { component: 'string component' } },
          '#/numberTypeSubSchema': { meta: { component: 'number component' } },
          '#/arrayTypeSubSchema': { meta: { component: 'array component' } },
          '#/arrayTypeSubSchema/0': { meta: { component: 'array type index component' } },
          '#/objectTypeSubSchema': { meta: { component: 'object component' } },
          '#/objectTypeSubSchema/one': { meta: { component: 'object type key component' } },
          '#/objectTypeSubSchema/two': { meta: { component: 'object type key component' } },
          '#/booleanTypeSubSchema': { meta: { component: 'boolean component' } },
          '#/nullTypeSubSchema': { meta: { component: 'null component' } }
        }

        return expect(transform(schema, values, params))
          .to.eql({
            meta: {
              schema,
              type: 'object',
              uri: '#/'
            },
            elements: {
              description: 'A geographical coordinate',
              fields: [
                {
                  meta: {
                    maxLength: 10,
                    minLength: 1,
                    name: 'stringTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      maxLength: 10,
                      minLength: 1,
                      title: 'String type sub schema',
                      type: 'string'
                    },
                    type: 'string',
                    uri: '#/stringTypeSubSchema',
                    value: 'string',
                    component: 'string component'
                  },
                  elements: {
                    field: {
                      name: '#/stringTypeSubSchema',
                      maxLength: 10,
                      minLength: 1,
                      required: false,
                      value: 'string'
                    },
                    title: 'String type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'numberTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      max: 10,
                      min: 1,
                      title: 'Number type sub schema',
                      type: 'number'
                    },
                    type: 'number',
                    uri: '#/numberTypeSubSchema',
                    value: '1',
                    component: 'number component'
                  },
                  elements: {
                    field: {
                      name: '#/numberTypeSubSchema',
                      required: false,
                      value: '1'
                    },
                    title: 'Number type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'arrayTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      items: [
                        {
                          type: 'string'
                        }
                      ],
                      title: 'Array type sub schema',
                      type: 'array'
                    },
                    type: 'array',
                    uri: '#/arrayTypeSubSchema',
                    component: 'array component'
                  },
                  elements: {
                    fields: [
                      {
                        meta: {
                          required: false,
                          rootSchema: schema,
                          schema: {
                            type: 'string'
                          },
                          type: 'string',
                          uri: '#/arrayTypeSubSchema/0',
                          value: 'string',
                          component: 'array type index component',
                          item: 0
                        },
                        elements: {
                          field: {
                            name: '#/arrayTypeSubSchema/0',
                            required: false,
                            value: 'string'
                          }
                        }
                      }
                    ],
                    title: 'Array type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'objectTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      properties: {
                        one: { type: 'string' },
                        two: { type: 'number' }
                      },
                      title: 'Object type sub schema',
                      type: 'object'
                    },
                    type: 'object',
                    uri: '#/objectTypeSubSchema',
                    component: 'object component'
                  },
                  elements: {
                    fields: [
                      {
                        meta: {
                          name: 'one',
                          required: false,
                          rootSchema: schema,
                          schema: {
                            type: 'string'
                          },
                          type: 'string',
                          uri: '#/objectTypeSubSchema/one',
                          value: 'string',
                          component: 'object type key component'
                        },
                        elements: {
                          field: {
                            name: '#/objectTypeSubSchema/one',
                            required: false,
                            value: 'string'
                          }
                        }
                      },
                      {
                        meta: {
                          name: 'two',
                          required: false,
                          rootSchema: schema,
                          schema: {
                            type: 'number'
                          },
                          type: 'number',
                          uri: '#/objectTypeSubSchema/two',
                          value: '2',
                          component: 'object type key component'
                        },
                        elements: {
                          field: {
                            name: '#/objectTypeSubSchema/two',
                            required: false,
                            value: '2'
                          }
                        }
                      }
                    ],
                    title: 'Object type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'booleanTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      title: 'Boolean type sub schema',
                      type: 'boolean'
                    },
                    type: 'boolean',
                    uri: '#/booleanTypeSubSchema',
                    value: 'true',
                    component: 'boolean component'
                  },
                  elements: {
                    field: {
                      name: '#/booleanTypeSubSchema',
                      required: false,
                      value: 'true'
                    },
                    title: 'Boolean type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'nullTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      title: 'Null type sub schema',
                      type: 'null'
                    },
                    type: 'null',
                    uri: '#/nullTypeSubSchema',
                    value: 'null',
                    component: 'null component'
                  },
                  elements: {
                    field: {
                      name: '#/nullTypeSubSchema',
                      required: false,
                      value: 'null'
                    },
                    title: 'Null type sub schema'
                  }
                },
                {
                  meta: {
                    max: 90,
                    min: -90,
                    name: 'latitude',
                    required: true,
                    rootSchema: schema,
                    schema: {
                      maximum: 90,
                      minimum: -90,
                      multipleOf: 42,
                      title: 'Latitude',
                      type: 'number'
                    },
                    step: 42,
                    type: 'number',
                    uri: '#/latitude'
                  },
                  elements: {
                    field: {
                      name: '#/latitude',
                      max: 90,
                      min: -90,
                      required: true,
                      step: 42
                    },
                    title: 'Latitude'
                  }
                },
                {
                  meta: {
                    isExclusiveMax: true,
                    isExclusiveMin: true,
                    max: 180,
                    min: -180,
                    name: 'longitude',
                    required: true,
                    rootSchema: schema,
                    schema: {
                      exclusiveMaximum: true,
                      exclusiveMinimum: true,
                      maximum: 180,
                      minimum: -180,
                      title: 'Longitude',
                      type: 'number'
                    },
                    type: 'number',
                    uri: '#/longitude'
                  },
                  elements: {
                    field: {
                      name: '#/longitude',
                      max: 180,
                      min: -180,
                      required: true
                    },
                    title: 'Longitude'
                  }
                }
              ],
              title: 'Latitude and Longitude'
            }
          })
      })

      describe('Transforming `string` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string', enum: ['string (1)', 'string (2)', 'string (3)'] }

            const values = {
              '#/': '2'
            }

            const params = {
              '#/': { meta: { component: 'string component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  selectedItems: [2],
                  component: 'string component'
                },
                elements: {
                  enum: {
                    items: [
                      'string (1)',
                      'string (2)',
                      'string (3)'
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `anyOf`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string', anyOf: [{ const: 'string (1)' }, { const: 'string (2)' }, { const: 'string (3)' }] }

            const values = {
              '#/': '2'
            }

            const params = {
              '#/': { meta: { component: 'string component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  selectedItems: [2],
                  component: 'string component'
                },
                elements: {
                  anyOf: {
                    items: [
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (1)' },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'string (1)'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (2)' },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'string (2)'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (3)' },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: 'string (3)'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `oneOf`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string', oneOf: [{ const: 'string (1)' }, { const: 'string (2)' }, { const: 'string (3)' }] }

            const values = {
              '#/': '2'
            }

            const params = {
              '#/': { meta: { component: 'string component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  selectedItems: [2],
                  component: 'string component'
                },
                elements: {
                  oneOf: {
                    items: [
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (1)' },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'string (1)'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (2)' },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'string (2)'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (3)' },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: 'string (3)'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `allOf`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string', allOf: [{ minLength: 1 }, { const: 'string' }, { maxLength: 20 }] }

            const values = {
              '#/': 'string'
            }

            const params = {
              '#/': { meta: { component: 'string component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  value: 'string',
                  component: 'string component'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'string'
                  }
                }
              })
          })
        })

        describe('Without `enum` or `anyOf` or `oneOf` or `allOf`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string' }

            const values = {
              '#/': 'string'
            }

            const params = {
              '#/': { meta: { component: 'string component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  value: 'string',
                  component: 'string component'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'string'
                  }
                }
              })
          })
        })
      })

      describe('Transforming `number` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number', enum: [1, 2, 3] }

            const values = {
              '#/': '2'
            }

            const params = {
              '#/': { meta: { component: 'number component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  selectedItems: [2],
                  component: 'number component'
                },
                elements: {
                  enum: {
                    items: [
                      1,
                      2,
                      3
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `anyOf`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number', anyOf: [{ const: 1 }, { const: 2 }, { const: 3 }] }

            const values = {
              '#/': '2'
            }

            const params = {
              '#/': { meta: { component: 'number component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  selectedItems: [2],
                  component: 'number component'
                },
                elements: {
                  anyOf: {
                    items: [
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 1 },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: '1'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 2 },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: '2'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 3 },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: '3'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `oneOf`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number', oneOf: [{ const: 1 }, { const: 2 }, { const: 3 }] }

            const values = {
              '#/': '2'
            }

            const params = {
              '#/': { meta: { component: 'number component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  selectedItems: [2],
                  component: 'number component'
                },
                elements: {
                  oneOf: {
                    items: [
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 1 },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: '1'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 2 },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: '2'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 3 },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: '3'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `allOf`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number', allOf: [{ minimum: 1 }, { const: 2 }, { maximum: 3 }] }

            const values = {
              '#/': '1'
            }

            const params = {
              '#/': { meta: { component: 'number component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  value: '1',
                  component: 'number component'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: '1'
                  }
                }
              })
          })
        })

        describe('Without `enum` or `anyOf` or `oneOf` or `allOf`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number' }

            const values = {
              '#/': '1'
            }

            const params = {
              '#/': { meta: { component: 'number component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  value: '1',
                  component: 'number component'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: '1'
                  }
                }
              })
          })
        })
      })

      describe('Transforming `array` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `array` type schemas (`items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'string',
                  enum: [
                    'string (1)',
                    'string (2)',
                    'string (3)'
                  ]
                }
              ]
            }

            const values = {
              '#/0': '2'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string',
                          enum: [
                            'string (1)',
                            'string (2)',
                            'string (3)'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        selectedItems: [2],
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        enum: {
                          items: [
                            'string (1)',
                            'string (2)',
                            'string (3)'
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: [2]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'number',
                  enum: [
                    1,
                    2,
                    3
                  ]
                }
              ]
            }

            const values = {
              '#/0': '2'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'number',
                        schema: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        selectedItems: [2],
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        enum: {
                          items: [
                            1,
                            2,
                            3
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: [2]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'boolean',
                  enum: [
                    true,
                    false
                  ]
                }
              ]
            }

            const values = {
              '#/0': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'boolean',
                          enum: [
                            true,
                            false
                          ]
                        },
                        selectedItems: [1],
                        type: 'boolean',
                        uri: '#/0'
                      },
                      elements: {
                        enum: {
                          items: [true, false],
                          name: '#/0',
                          required: false,
                          selectedItems: [1]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'null',
                  enum: [null]
                }
              ]
            }

            const values = {
              '#/0': '0'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'null',
                          enum: [
                            null
                          ]
                        },
                        selectedItems: [0],
                        type: 'null',
                        uri: '#/0'
                      },
                      elements: {
                        enum: {
                          items: [null],
                          name: '#/0',
                          required: false,
                          selectedItems: [0]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'number',
                  enum: [
                    1,
                    2,
                    3
                  ]
                },
                {
                  type: 'string',
                  enum: [
                    'array type index string type (1)',
                    'array type index string type (2)',
                    'array type index string type (3)'
                  ]
                },
                {
                  type: 'boolean',
                  enum: [
                    true,
                    false
                  ]
                },
                {
                  type: 'null',
                  enum: [null]
                }
              ]
            }

            const values = {
              '#/0': '2',
              '#/1': '2',
              '#/2': '1',
              '#/3': '0'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/1': { meta: { component: 'array type index component' } },
              '#/2': { meta: { component: 'array type index component' } },
              '#/3': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        enum: {
                          items: [
                            1,
                            2,
                            3
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: [2]
                        }
                      },
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        },
                        selectedItems: [2],
                        type: 'number',
                        uri: '#/0'
                      }
                    },
                    {
                      meta: {
                        component: 'array type index component',
                        item: 1,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          enum: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ],
                          type: 'string'
                        },
                        selectedItems: [2],
                        type: 'string',
                        uri: '#/1'
                      },
                      elements: {
                        enum: {
                          items: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ],
                          name: '#/1',
                          required: false,
                          selectedItems: [2]
                        }
                      }
                    },
                    {
                      meta: {
                        component: 'array type index component',
                        item: 2,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'boolean',
                          enum: [
                            true,
                            false
                          ]
                        },
                        selectedItems: [1],
                        type: 'boolean',
                        uri: '#/2'
                      },
                      elements: {
                        enum: {
                          items: [true, false],
                          name: '#/2',
                          required: false,
                          selectedItems: [1]
                        }
                      }
                    },
                    {
                      meta: {
                        component: 'array type index component',
                        item: 3,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'null',
                          enum: [
                            null
                          ]
                        },
                        selectedItems: [0],
                        type: 'null',
                        uri: '#/3'
                      },
                      elements: {
                        enum: {
                          items: [null],
                          name: '#/3',
                          required: false,
                          selectedItems: [0]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': '2'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              selectedItems: [2],
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': '2'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [2],
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'boolean',
                      enum: [
                        true,
                        false
                      ]
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'boolean',
                              enum: [
                                true,
                                false
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              selectedItems: [1],
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [1]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'null',
                      enum: [null]
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': '0'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'null',
                              enum: [null]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              selectedItems: [0],
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [0]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'object',
                      properties: {
                        one: {
                          type: 'string',
                          enum: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ]
                        },
                        two: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        }
                      }
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0/one': '1',
              '#/0/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string',
                                  enum: [
                                    'array type index string type (1)',
                                    'array type index string type (2)',
                                    'array type index string type (3)'
                                  ]
                                },
                                two: {
                                  type: 'number',
                                  enum: [
                                    1,
                                    2,
                                    3
                                  ]
                                }
                              }
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  enum: [
                                                    'array type index string type (1)',
                                                    'array type index string type (2)',
                                                    'array type index string type (3)'
                                                  ],
                                                  type: 'string'
                                                },
                                                two: {
                                                  enum: [
                                                    1,
                                                    2,
                                                    3
                                                  ],
                                                  type: 'number'
                                                }
                                              },
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: [1]
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  enum: [
                                                    'array type index string type (1)',
                                                    'array type index string type (2)',
                                                    'array type index string type (3)'
                                                  ],
                                                  type: 'string'
                                                },
                                                two: {
                                                  enum: [
                                                    1,
                                                    2,
                                                    3
                                                  ],
                                                  type: 'number'
                                                }
                                              },
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: [1]
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'object',
                      properties: {
                        one: {
                          type: 'string',
                          enum: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ]
                        },
                        two: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        }
                      },
                      required: [
                        'one'
                      ]
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0/one': '1',
              '#/0/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string',
                                  enum: [
                                    'array type index string type (1)',
                                    'array type index string type (2)',
                                    'array type index string type (3)'
                                  ]
                                },
                                two: {
                                  type: 'number',
                                  enum: [
                                    1,
                                    2,
                                    3
                                  ]
                                }
                              },
                              required: [
                                'one'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: true,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  enum: [
                                                    'array type index string type (1)',
                                                    'array type index string type (2)',
                                                    'array type index string type (3)'
                                                  ],
                                                  type: 'string'
                                                },
                                                two: {
                                                  enum: [
                                                    1,
                                                    2,
                                                    3
                                                  ],
                                                  type: 'number'
                                                }
                                              },
                                              required: [
                                                'one'
                                              ],
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: [1]
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  enum: [
                                                    'array type index string type (1)',
                                                    'array type index string type (2)',
                                                    'array type index string type (3)'
                                                  ],
                                                  type: 'string'
                                                },
                                                two: {
                                                  enum: [
                                                    1,
                                                    2,
                                                    3
                                                  ],
                                                  type: 'number'
                                                }
                                              },
                                              required: [
                                                'one'
                                              ],
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: [1]
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    },
                    {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    {
                      type: 'boolean',
                      enum: [
                        true,
                        false
                      ]
                    },
                    {
                      type: 'null',
                      enum: [null]
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': '2',
              '#/0/1': '2',
              '#/0/2': '1',
              '#/0/3': '0'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } },
              '#/0/1': { meta: { component: 'array type index array type index component' } },
              '#/0/2': { meta: { component: 'array type index array type index component' } },
              '#/0/3': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            },
                            {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            {
                              type: 'boolean',
                              enum: [
                                true,
                                false
                              ]
                            },
                            {
                              type: 'null',
                              enum: [null]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [2],
                              type: 'number',
                              uri: '#/0/0'
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 1,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              selectedItems: [2],
                              type: 'string',
                              uri: '#/0/1'
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/1',
                                required: false,
                                selectedItems: [2]
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 2,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              selectedItems: [1],
                              type: 'boolean',
                              uri: '#/0/2'
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/2',
                                required: false,
                                selectedItems: [1]
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 3,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              selectedItems: [0],
                              type: 'null',
                              uri: '#/0/3'
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/3',
                                required: false,
                                selectedItems: [0]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  }
                }
              ]
            }

            const values = {
              '#/0/0': '2'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'string',
                            enum: [
                              'array type index string type (1)',
                              'array type index string type (2)',
                              'array type index string type (3)'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              selectedItems: [2],
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  }
                }
              ]
            }

            const values = {
              '#/0/0': '2'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'number',
                            enum: [
                              1,
                              2,
                              3
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [2],
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'boolean',
                    enum: [
                      true,
                      false
                    ]
                  }
                }
              ]
            }

            const values = {
              '#/0/0': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'boolean',
                            enum: [
                              true,
                              false
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              selectedItems: [1],
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [1]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'null',
                    enum: [null]
                  }
                }
              ]
            }

            const values = {
              '#/0/0': '0'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'null',
                            enum: [null]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              selectedItems: [0],
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [0]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string',
                        enum: [
                          'array type index string type (1)',
                          'array type index string type (2)',
                          'array type index string type (3)'
                        ]
                      },
                      two: {
                        type: 'number',
                        enum: [
                          1,
                          2,
                          3
                        ]
                      }
                    }
                  }
                }
              ]
            }

            const values = {
              '#/0/0/one': '1',
              '#/0/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              two: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              }
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: [1]
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: [1]
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string',
                        enum: [
                          'array type index string type (1)',
                          'array type index string type (2)',
                          'array type index string type (3)'
                        ]
                      },
                      two: {
                        type: 'number',
                        enum: [
                          1,
                          2,
                          3
                        ]
                      }
                    },
                    required: [
                      'one'
                    ]
                  }
                }
              ]
            }

            const values = {
              '#/0/0/one': '1',
              '#/0/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              two: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              }
                            },
                            required: [
                              'one'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: true,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: [1]
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: [1]
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    two: {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  }
                }
              ]
            }

            const values = {
              '#/0/one': '1',
              '#/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/one': { meta: { component: 'array type index object type key component' } },
              '#/0/two': { meta: { component: 'array type index object type key component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            two: {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/one',
                                required: false,
                                selectedItems: [1]
                              }
                            },
                            meta: {
                              component: 'array type index object type key component',
                              name: 'one',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              selectedItems: [1],
                              type: 'string',
                              uri: '#/0/one'
                            }
                          },
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/two',
                                required: false,
                                selectedItems: [1]
                              }
                            },
                            meta: {
                              component: 'array type index object type key component',
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [1],
                              type: 'number',
                              uri: '#/0/two'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    two: {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  },
                  required: [
                    'one'
                  ]
                }
              ]
            }

            const values = {
              '#/0/one': '1',
              '#/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/one': { meta: { component: 'array type index object type key component' } },
              '#/0/two': { meta: { component: 'array type index object type key component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            two: {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          },
                          required: [
                            'one'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/one',
                                required: true,
                                selectedItems: [1]
                              }
                            },
                            meta: {
                              component: 'array type index object type key component',
                              name: 'one',
                              required: true,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              selectedItems: [1],
                              type: 'string',
                              uri: '#/0/one'
                            }
                          },
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/two',
                                required: false,
                                selectedItems: [1]
                              }
                            },
                            meta: {
                              component: 'array type index object type key component',
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [1],
                              type: 'number',
                              uri: '#/0/two'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'string',
                enum: [
                  'array type index string type (1)',
                  'array type index string type (2)',
                  'array type index string type (3)'
                ]
              }
            }

            const values = {
              '#/0': '2'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          enum: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ],
                          type: 'string'
                        },
                        selectedItems: [2],
                        type: 'string',
                        uri: '#/0'
                      },
                      elements: {
                        enum: {
                          items: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: [2]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'number',
                enum: [
                  1,
                  2,
                  3
                ]
              }
            }

            const values = {
              '#/0': '2'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        enum: {
                          items: [
                            1,
                            2,
                            3
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: [2]
                        }
                      },
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        },
                        selectedItems: [2],
                        type: 'number',
                        uri: '#/0'
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'boolean',
                enum: [
                  true,
                  false
                ]
              }
            }

            const values = {
              '#/0': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'boolean',
                        schema: {
                          type: 'boolean',
                          enum: [
                            true,
                            false
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        selectedItems: [1],
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        enum: {
                          items: [true, false],
                          name: '#/0',
                          required: false,
                          selectedItems: [1]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'null',
                enum: [null]
              }
            }

            const values = {
              '#/0': '0'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'null',
                        schema: {
                          type: 'null',
                          enum: [null]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        selectedItems: [0],
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        enum: {
                          items: [null],
                          name: '#/0',
                          required: false,
                          selectedItems: [0]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  }
                ]
              }
            }

            const values = {
              '#/0/0': '2'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              selectedItems: [2],
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  }
                ]
              }
            }

            const values = {
              '#/0/0': '2'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [2],
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'boolean',
                    enum: [
                      true,
                      false
                    ]
                  }
                ]
              }
            }

            const values = {
              '#/0/0': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'boolean',
                              enum: [
                                true,
                                false
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              selectedItems: [1],
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [1]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'null',
                    enum: [null]
                  }
                ]
              }
            }

            const values = {
              '#/0/0': '0'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'null',
                              enum: [null]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              selectedItems: [0],
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [0]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string',
                        enum: [
                          'array type index string type (1)',
                          'array type index string type (2)',
                          'array type index string type (3)'
                        ]
                      },
                      two: {
                        type: 'number',
                        enum: [
                          1,
                          2,
                          3
                        ]
                      }
                    }
                  }
                ]
              }
            }

            const values = {
              '#/0/0/one': '1',
              '#/0/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string',
                                  enum: [
                                    'array type index string type (1)',
                                    'array type index string type (2)',
                                    'array type index string type (3)'
                                  ]
                                },
                                two: {
                                  type: 'number',
                                  enum: [
                                    1,
                                    2,
                                    3
                                  ]
                                }
                              }
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: [1]
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: [1]
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string',
                        enum: [
                          'array type index string type (1)',
                          'array type index string type (2)',
                          'array type index string type (3)'
                        ]
                      },
                      two: {
                        type: 'number',
                        enum: [
                          1,
                          2,
                          3
                        ]
                      }
                    },
                    required: [
                      'one'
                    ]
                  }
                ]
              }
            }

            const values = {
              '#/0/0/one': '1',
              '#/0/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string',
                                  enum: [
                                    'array type index string type (1)',
                                    'array type index string type (2)',
                                    'array type index string type (3)'
                                  ]
                                },
                                two: {
                                  type: 'number',
                                  enum: [
                                    1,
                                    2,
                                    3
                                  ]
                                }
                              },
                              required: [
                                'one'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: true,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: [1]
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: [1]
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  },
                  {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  },
                  {
                    type: 'boolean',
                    enum: [
                      true,
                      false
                    ]
                  },
                  {
                    type: 'null',
                    enum: [null]
                  }
                ]
              }
            }

            const values = {
              '#/0/0': '2',
              '#/0/1': '2',
              '#/0/2': '1',
              '#/0/3': '0'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } },
              '#/0/1': { meta: { component: 'array type index array type index component' } },
              '#/0/2': { meta: { component: 'array type index array type index component' } },
              '#/0/3': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            },
                            {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            {
                              type: 'boolean',
                              enum: [
                                true,
                                false
                              ]
                            },
                            {
                              type: 'null',
                              enum: [null]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [2],
                              type: 'number',
                              uri: '#/0/0'
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 1,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              selectedItems: [2],
                              type: 'string',
                              uri: '#/0/1'
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/1',
                                required: false,
                                selectedItems: [2]
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 2,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              selectedItems: [1],
                              type: 'boolean',
                              uri: '#/0/2'
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/2',
                                required: false,
                                selectedItems: [1]
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 3,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              selectedItems: [0],
                              type: 'null',
                              uri: '#/0/3'
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/3',
                                required: false,
                                selectedItems: [0]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'string',
                  enum: [
                    'array type index string type (1)',
                    'array type index string type (2)',
                    'array type index string type (3)'
                  ]
                }
              }
            }

            const values = {
              '#/0/0': '2'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'string',
                            enum: [
                              'array type index string type (1)',
                              'array type index string type (2)',
                              'array type index string type (3)'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              selectedItems: [2],
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'number',
                  enum: [
                    1,
                    2,
                    3
                  ]
                }
              }
            }

            const values = {
              '#/0/0': '2'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'number',
                            enum: [
                              1,
                              2,
                              3
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [2],
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'boolean',
                  enum: [
                    true,
                    false
                  ]
                }
              }
            }

            const values = {
              '#/0/0': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'boolean',
                            enum: [
                              true,
                              false
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              selectedItems: [1],
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [1]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'null',
                  enum: [null]
                }
              }
            }

            const values = {
              '#/0/0': '0'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'null',
                            enum: [null]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              selectedItems: [0],
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [0]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    two: {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  }
                }
              }
            }

            const values = {
              '#/0/0/one': '1',
              '#/0/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              two: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              }
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              enum: [
                                                'array type index string type (1)',
                                                'array type index string type (2)',
                                                'array type index string type (3)'
                                              ],
                                              type: 'string'
                                            },
                                            two: {
                                              enum: [
                                                1,
                                                2,
                                                3
                                              ],
                                              type: 'number'
                                            }
                                          },
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: [1]
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              enum: [
                                                'array type index string type (1)',
                                                'array type index string type (2)',
                                                'array type index string type (3)'
                                              ],
                                              type: 'string'
                                            },
                                            two: {
                                              enum: [
                                                1,
                                                2,
                                                3
                                              ],
                                              type: 'number'
                                            }
                                          },
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: [1]
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    two: {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  },
                  required: [
                    'one'
                  ]
                }
              }
            }

            const values = {
              '#/0/0/one': '1',
              '#/0/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              two: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              }
                            },
                            required: [
                              'one'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: true,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              enum: [
                                                'array type index string type (1)',
                                                'array type index string type (2)',
                                                'array type index string type (3)'
                                              ],
                                              type: 'string'
                                            },
                                            two: {
                                              enum: [
                                                1,
                                                2,
                                                3
                                              ],
                                              type: 'number'
                                            }
                                          },
                                          required: [
                                            'one'
                                          ],
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: [1]
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              enum: [
                                                'array type index string type (1)',
                                                'array type index string type (2)',
                                                'array type index string type (3)'
                                              ],
                                              type: 'string'
                                            },
                                            two: {
                                              enum: [
                                                1,
                                                2,
                                                3
                                              ],
                                              type: 'number'
                                            }
                                          },
                                          required: [
                                            'one'
                                          ],
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: [1]
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  one: {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  },
                  two: {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }

            const values = {
              '#/0/one': '1',
              '#/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/one': { meta: { component: 'array type index object type key component' } },
              '#/0/two': { meta: { component: 'array type index object type key component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            two: {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              name: 'one',
                              required: false,
                              type: 'string',
                              schema: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              rootSchema: schema,
                              uri: '#/0/one',
                              selectedItems: [1],
                              component: 'array type index object type key component'
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/one',
                                required: false,
                                selectedItems: [1]
                              }
                            }
                          },
                          {
                            meta: {
                              name: 'two',
                              required: false,
                              type: 'number',
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              rootSchema: schema,
                              uri: '#/0/two',
                              selectedItems: [1],
                              component: 'array type index object type key component'
                            },
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/two',
                                required: false,
                                selectedItems: [1]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  one: {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  },
                  two: {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  }
                },
                required: [
                  'one'
                ]
              }
            }

            const values = {
              '#/0/one': '1',
              '#/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/one': { meta: { component: 'array type index object type key component' } },
              '#/0/two': { meta: { component: 'array type index object type key component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            two: {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          },
                          required: [
                            'one'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              name: 'one',
                              required: true,
                              type: 'string',
                              schema: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              rootSchema: schema,
                              uri: '#/0/one',
                              selectedItems: [1],
                              component: 'array type index object type key component'
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/one',
                                required: true,
                                selectedItems: [1]
                              }
                            }
                          },
                          {
                            meta: {
                              name: 'two',
                              required: false,
                              type: 'number',
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              rootSchema: schema,
                              uri: '#/0/two',
                              selectedItems: [1],
                              component: 'array type index object type key component'
                            },
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/two',
                                required: false,
                                selectedItems: [1]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })
        })

        describe('Without `enum`', () => {
          it('transforms `array` type schemas (`items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'string'
                }
              ]
            }

            const values = {
              '#/0': 'string'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string'
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        value: 'string',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: 'string'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'number'
                }
              ]
            }

            const values = {
              '#/0': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'number',
                        schema: {
                          type: 'number'
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        value: '1',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: '1'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'boolean'
                }
              ]
            }

            const values = {
              '#/0': 'false'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'boolean'
                        },
                        value: 'false',
                        type: 'boolean',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: 'false'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'null'
                }
              ]
            }

            const values = {
              '#/0': 'null'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'null'
                        },
                        value: 'null',
                        type: 'null',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: 'null'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'number'
                },
                {
                  type: 'string'
                },
                {
                  type: 'boolean'
                },
                {
                  type: 'null'
                }
              ]
            }

            const values = {
              '#/0': '1',
              '#/1': 'string',
              '#/2': 'false',
              '#/3': 'null'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/1': { meta: { component: 'array type index component' } },
              '#/2': { meta: { component: 'array type index component' } },
              '#/3': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'number'
                        },
                        value: '1',
                        type: 'number',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: '1'
                        }
                      }
                    },
                    {
                      meta: {
                        component: 'array type index component',
                        item: 1,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'string'
                        },
                        value: 'string',
                        type: 'string',
                        uri: '#/1'
                      },
                      elements: {
                        field: {
                          name: '#/1',
                          required: false,
                          value: 'string'
                        }
                      }
                    },
                    {
                      meta: {
                        component: 'array type index component',
                        item: 2,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'boolean'
                        },
                        value: 'false',
                        type: 'boolean',
                        uri: '#/2'
                      },
                      elements: {
                        field: {
                          name: '#/2',
                          required: false,
                          value: 'false'
                        }
                      }
                    },
                    {
                      meta: {
                        component: 'array type index component',
                        item: 3,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'null'
                        },
                        value: 'null',
                        type: 'null',
                        uri: '#/3'
                      },
                      elements: {
                        field: {
                          name: '#/3',
                          required: false,
                          value: 'null'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'string'
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': 'string'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'string'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'string'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'number'
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: '1'
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      },
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'boolean'
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': 'false'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'boolean'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              value: 'false',
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'false'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'null'
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': 'null'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'null'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              value: 'null',
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'null'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'object',
                      properties: {
                        one: {
                          type: 'string'
                        },
                        two: {
                          type: 'number'
                        }
                      }
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0/one': 'string',
              '#/0/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string'
                                },
                                two: {
                                  type: 'number'
                                }
                              }
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: false,
                                      value: 'string'
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  type: 'string'
                                                },
                                                two: {
                                                  type: 'number'
                                                }
                                              },
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    value: 'string'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false,
                                      value: '1'
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  type: 'string'
                                                },
                                                two: {
                                                  type: 'number'
                                                }
                                              },
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    value: '1'
                                  }
                                }
                              ]

                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'object',
                      properties: {
                        one: {
                          type: 'string'
                        },
                        two: {
                          type: 'number'
                        }
                      },
                      required: [
                        'one'
                      ]
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0/one': 'string',
              '#/0/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string'
                                },
                                two: {
                                  type: 'number'
                                }
                              },
                              required: [
                                'one'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: true,
                                      value: 'string'
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  type: 'string'
                                                },
                                                two: {
                                                  type: 'number'
                                                }
                                              },
                                              required: [
                                                'one'
                                              ],
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    value: 'string'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false,
                                      value: '1'
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  type: 'string'
                                                },
                                                two: {
                                                  type: 'number'
                                                }
                                              },
                                              required: [
                                                'one'
                                              ],
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    value: '1'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'number'
                    },
                    {
                      type: 'string'
                    },
                    {
                      type: 'boolean'
                    },
                    {
                      type: 'null'
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': '1',
              '#/0/1': 'string',
              '#/0/2': 'false',
              '#/0/3': 'null'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } },
              '#/0/1': { meta: { component: 'array type index array type index component' } },
              '#/0/2': { meta: { component: 'array type index array type index component' } },
              '#/0/3': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number'
                            },
                            {
                              type: 'string'
                            },
                            {
                              type: 'boolean'
                            },
                            {
                              type: 'null'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: '1'
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 1,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/1'
                            },
                            elements: {
                              field: {
                                name: '#/0/1',
                                required: false,
                                value: 'string'
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 2,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              value: 'false',
                              type: 'boolean',
                              uri: '#/0/2'
                            },
                            elements: {
                              field: {
                                name: '#/0/2',
                                required: false,
                                value: 'false'
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 3,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              value: 'null',
                              type: 'null',
                              uri: '#/0/3'
                            },
                            elements: {
                              field: {
                                name: '#/0/3',
                                required: false,
                                value: 'null'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'string'
                  }
                }
              ]
            }

            const values = {
              '#/0/0': 'string'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'string'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'string'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'number'
                  }
                }
              ]
            }

            const values = {
              '#/0/0': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: '1'
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      },
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'number'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'boolean'
                  }
                }
              ]
            }

            const values = {
              '#/0/0': 'false'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'boolean'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              value: 'false',
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'false'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'null'
                  }
                }
              ]
            }

            const values = {
              '#/0/0': 'null'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'null'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              value: 'null',
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'null'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string'
                      },
                      two: {
                        type: 'number'
                      }
                    }
                  }
                }
              ]
            }

            const values = {
              '#/0/0/one': 'string',
              '#/0/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string'
                              },
                              two: {
                                type: 'number'
                              }
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: false,
                                      value: 'string'
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    value: 'string'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false,
                                      value: '1'
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    value: '1'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string'
                      },
                      two: {
                        type: 'number'
                      }
                    },
                    required: [
                      'one'
                    ]
                  }
                }
              ]
            }

            const values = {
              '#/0/0/one': 'string',
              '#/0/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string'
                              },
                              two: {
                                type: 'number'
                              }
                            },
                            required: [
                              'one'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: true,
                                      value: 'string'
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    value: 'string'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false,
                                      value: '1'
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    value: '1'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string'
                    },
                    two: {
                      type: 'number'
                    }
                  }
                }
              ]
            }

            const values = {
              '#/0/one': 'string',
              '#/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/one': { meta: { component: 'array type index object type key component' } },
              '#/0/two': { meta: { component: 'array type index object type key component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string'
                            },
                            two: {
                              type: 'number'
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: false,
                                value: 'string'
                              }
                            },
                            meta: {
                              component: 'array type index object type key component',
                              name: 'one',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/one'
                            }
                          },
                          {
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false,
                                value: '1'
                              }
                            },
                            meta: {
                              component: 'array type index object type key component',
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/two'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string'
                    },
                    two: {
                      type: 'number'
                    }
                  },
                  required: [
                    'one'
                  ]
                }
              ]
            }

            const values = {
              '#/0/one': 'string',
              '#/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/one': { meta: { component: 'array type index object type key component' } },
              '#/0/two': { meta: { component: 'array type index object type key component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string'
                            },
                            two: {
                              type: 'number'
                            }
                          },
                          required: [
                            'one'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index object type key component',
                              name: 'one',
                              required: true,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/one'
                            },
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: true,
                                value: 'string'
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index object type key component',
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/two'
                            },
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false,
                                value: '1'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'string'
              }
            }

            const values = {
              '#/0': 'string'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'string'
                        },
                        value: 'string',
                        type: 'string',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: 'string'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'number'
              }

            }

            const values = {
              '#/0': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'number'
                        },
                        value: '1',
                        type: 'number',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: '1'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'boolean'
              }
            }

            const values = {
              '#/0': 'true'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'boolean',
                        schema: {
                          type: 'boolean'
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        value: 'true',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: 'true'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'null'
              }
            }

            const values = {
              '#/0': 'null'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'null',
                        schema: {
                          type: 'null'
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        value: 'null',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: 'null'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'string'
                  }
                ]
              }
            }

            const values = {
              '#/0/0': 'string'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'string'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'string'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'number'
                  }
                ]
              }
            }

            const values = {
              '#/0/0': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: '1'
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      },
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'boolean'
                  }
                ]
              }
            }

            const values = {
              '#/0/0': 'false'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'boolean'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              value: 'false',
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'false'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'null'
                  }
                ]
              }
            }

            const values = {
              '#/0/0': 'null'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'null'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              value: 'null',
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'null'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string'
                      },
                      two: {
                        type: 'number'
                      }
                    },
                    required: [
                      'one'
                    ]
                  }
                ]
              }
            }

            const values = {
              '#/0/0/one': 'string',
              '#/0/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string'
                                },
                                two: {
                                  type: 'number'
                                }
                              },
                              required: [
                                'one'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: true,
                                      value: 'string'
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    value: 'string'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false,
                                      value: '1'
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    value: '1'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string'
                      },
                      two: {
                        type: 'number'
                      }
                    },
                    required: [
                      'one'
                    ]
                  }
                ]
              }
            }

            const values = {
              '#/0/0/one': 'string',
              '#/0/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string'
                                },
                                two: {
                                  type: 'number'
                                }
                              },
                              required: [
                                'one'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: true,
                                      value: 'string'
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    value: 'string'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false,
                                      value: '1'
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    value: '1'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'number'
                  },
                  {
                    type: 'string'
                  },
                  {
                    type: 'boolean'
                  },
                  {
                    type: 'null'
                  }
                ]
              }
            }

            const values = {
              '#/0/0': '1',
              '#/0/1': 'string',
              '#/0/2': 'false',
              '#/0/3': 'null'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } },
              '#/0/1': { meta: { component: 'array type index array type index component' } },
              '#/0/2': { meta: { component: 'array type index array type index component' } },
              '#/0/3': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number'
                            },
                            {
                              type: 'string'
                            },
                            {
                              type: 'boolean'
                            },
                            {
                              type: 'null'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: '1'
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 1,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/1'
                            },
                            elements: {
                              field: {
                                name: '#/0/1',
                                required: false,
                                value: 'string'
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 2,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              value: 'false',
                              type: 'boolean',
                              uri: '#/0/2'
                            },
                            elements: {
                              field: {
                                name: '#/0/2',
                                required: false,
                                value: 'false'
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 3,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              value: 'null',
                              type: 'null',
                              uri: '#/0/3'
                            },
                            elements: {
                              field: {
                                name: '#/0/3',
                                required: false,
                                value: 'null'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'string'
                }
              }
            }

            const values = {
              '#/0/0': 'string'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'string'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'string'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'number'
                }
              }
            }

            const values = {
              '#/0/0': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: '1'
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      },
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'number'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'boolean'
                }
              }
            }

            const values = {
              '#/0/0': 'false'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'boolean'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              value: 'false',
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'false'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'null'
                }
              }
            }

            const values = {
              '#/0/0': 'null'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'null'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              value: 'null',
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'null'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string'
                    },
                    two: {
                      type: 'number'
                    }
                  },
                  required: [
                    'one'
                  ]
                }
              }
            }

            const values = {
              '#/0/0/one': 'string',
              '#/0/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string'
                              },
                              two: {
                                type: 'number'
                              }
                            },
                            required: [
                              'one'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: true,
                                      value: 'string'
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: {
                                        type: 'array',
                                        items: {
                                          type: 'object',
                                          properties: {
                                            one: {
                                              type: 'string'
                                            },
                                            two: {
                                              type: 'number'
                                            }
                                          },
                                          required: [
                                            'one'
                                          ]
                                        }
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    value: 'string'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false,
                                      value: '1'
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        type: 'array',
                                        items: {
                                          type: 'object',
                                          properties: {
                                            one: {
                                              type: 'string'
                                            },
                                            two: {
                                              type: 'number'
                                            }
                                          },
                                          required: [
                                            'one'
                                          ]
                                        }
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    value: '1'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string'
                    },
                    two: {
                      type: 'number'
                    }
                  },
                  required: [
                    'one'
                  ]
                }
              }
            }

            const values = {
              '#/0/0/one': 'string',
              '#/0/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string'
                              },
                              two: {
                                type: 'number'
                              }
                            },
                            required: [
                              'one'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: true,
                                      value: 'string'
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: {
                                        type: 'array',
                                        items: {
                                          type: 'object',
                                          properties: {
                                            one: {
                                              type: 'string'
                                            },
                                            two: {
                                              type: 'number'
                                            }
                                          },
                                          required: [
                                            'one'
                                          ]
                                        }
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    value: 'string'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false,
                                      value: '1'
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        type: 'array',
                                        items: {
                                          properties: {
                                            one: {
                                              type: 'string'
                                            },
                                            two: {
                                              type: 'number'
                                            }
                                          },
                                          required: [
                                            'one'
                                          ],
                                          type: 'object'
                                        }
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    value: '1'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  one: { type: 'string' },
                  two: { type: 'number' }
                }
              }
            }

            const values = {
              '#/0/one': 'string',
              '#/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/one': { meta: { component: 'array type index object type key component' } },
              '#/0/two': { meta: { component: 'array type index object type key component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: { type: 'string' },
                            two: { type: 'number' }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              name: 'one',
                              required: false,
                              type: 'string',
                              schema: { type: 'string' },
                              rootSchema: schema,
                              uri: '#/0/one',
                              value: 'string',
                              component: 'array type index object type key component'
                            },
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: false,
                                value: 'string'
                              }
                            }
                          },
                          {
                            meta: {
                              name: 'two',
                              required: false,
                              type: 'number',
                              schema: { type: 'number' },
                              rootSchema: schema,
                              uri: '#/0/two',
                              value: '1',
                              component: 'array type index object type key component'
                            },
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false,
                                value: '1'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  one: { type: 'string' },
                  two: { type: 'number' }
                },
                required: [
                  'one'
                ]
              }
            }

            const values = {
              '#/0/one': 'string',
              '#/0/two': '1'
            }

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/one': { meta: { component: 'array type index object type key component' } },
              '#/0/two': { meta: { component: 'array type index object type key component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: { type: 'string' },
                            two: { type: 'number' }
                          },
                          required: [
                            'one'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              name: 'one',
                              required: true,
                              type: 'string',
                              schema: { type: 'string' },
                              rootSchema: schema,
                              uri: '#/0/one',
                              value: 'string',
                              component: 'array type index object type key component'
                            },
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: true,
                                value: 'string'
                              }
                            }
                          },
                          {
                            meta: {
                              name: 'two',
                              required: false,
                              type: 'number',
                              schema: { type: 'number' },
                              rootSchema: schema,
                              uri: '#/0/two',
                              value: '1',
                              component: 'array type index object type key component'
                            },
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false,
                                value: '1'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })
        })
      })

      describe('Transforming `object` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `object` type schemas', () => {
            const schema = {
              type: 'object',
              properties: {
                one: {
                  type: 'string',
                  enum: [
                    'object type key string (1)',
                    'object type key string (2)'
                  ]
                },
                two: {
                  type: 'string',
                  enum: [
                    'object type key string (1)',
                    'object type key string (2)'
                  ]
                }
              }
            }

            const values = {
              '#/one': '0',
              '#/two': '1'
            }

            const params = {
              '#/': { meta: { component: 'object component' } },
              '#/one': { meta: { component: 'object component' } },
              '#/two': { meta: { component: 'object component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'object',
                  schema,
                  uri: '#/',
                  component: 'object component'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        name: 'one',
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string',
                          enum: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/one',
                        selectedItems: [0],
                        component: 'object component'
                      },
                      elements: {
                        enum: {
                          items: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ],
                          name: '#/one',
                          required: false,
                          selectedItems: [0]
                        }
                      }
                    },
                    {
                      meta: {
                        name: 'two',
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string',
                          enum: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/two',
                        selectedItems: [1],
                        component: 'object component'
                      },
                      elements: {
                        enum: {
                          items: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ],
                          name: '#/two',
                          required: false,
                          selectedItems: [1]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `object` type schemas (with `required`)', () => {
            const schema = {
              type: 'object',
              properties: {
                one: {
                  type: 'string',
                  enum: [
                    'object type key string (1)',
                    'object type key string (2)'
                  ]
                },
                two: {
                  type: 'string',
                  enum: [
                    'object type key string (1)',
                    'object type key string (2)'
                  ]
                }
              },
              required: [
                'one'
              ]
            }

            const values = {
              '#/one': '0',
              '#/two': '1'
            }

            const params = {
              '#/': { meta: { component: 'object component' } },
              '#/one': { meta: { component: 'object component' } },
              '#/two': { meta: { component: 'object component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'object',
                  schema,
                  uri: '#/',
                  component: 'object component'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        name: 'one',
                        required: true,
                        rootSchema: schema,
                        schema: {
                          type: 'string',
                          enum: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ]
                        },
                        type: 'string',
                        uri: '#/one',
                        selectedItems: [0],
                        component: 'object component'
                      },
                      elements: {
                        enum: {
                          items: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ],
                          name: '#/one',
                          required: true,
                          selectedItems: [0]
                        }
                      }
                    },
                    {
                      meta: {
                        name: 'two',
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'string',
                          enum: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ]
                        },
                        type: 'string',
                        uri: '#/two',
                        selectedItems: [1],
                        component: 'object component'
                      },
                      elements: {
                        enum: {
                          items: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ],
                          name: '#/two',
                          required: false,
                          selectedItems: [1]
                        }
                      }
                    }
                  ]
                }
              })
          })
        })

        describe('Without `enum`', () => {
          it('transforms `object` type schemas', () => {
            const schema = {
              type: 'object',
              properties: {
                one: { type: 'string' },
                two: { type: 'string' }
              }
            }

            const values = {
              '#/one': 'string',
              '#/two': 'string'
            }

            const params = {
              '#/': { meta: { component: 'object component' } },
              '#/one': { meta: { component: 'object component' } },
              '#/two': { meta: { component: 'object component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'object',
                  schema,
                  uri: '#/',
                  component: 'object component'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        name: 'one',
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string'
                        },
                        rootSchema: schema,
                        uri: '#/one',
                        value: 'string',
                        component: 'object component'
                      },
                      elements: {
                        field: {
                          name: '#/one',
                          required: false,
                          value: 'string'
                        }
                      }
                    },
                    {
                      meta: {
                        name: 'two',
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string'
                        },
                        rootSchema: schema,
                        uri: '#/two',
                        value: 'string',
                        component: 'object component'
                      },
                      elements: {
                        field: {
                          name: '#/two',
                          required: false,
                          value: 'string'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `object` type schemas (with `required`)', () => {
            const schema = {
              type: 'object',
              properties: {
                one: { type: 'string' },
                two: { type: 'string' }
              },
              required: [
                'one'
              ]
            }

            const values = {
              '#/one': 'string',
              '#/two': 'string'
            }

            const params = {
              '#/': { meta: { component: 'object component' } },
              '#/one': { meta: { component: 'object component' } },
              '#/two': { meta: { component: 'object component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'object',
                  schema,
                  uri: '#/',
                  component: 'object component'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        name: 'one',
                        required: true,
                        rootSchema: schema,
                        schema: { type: 'string' },
                        type: 'string',
                        uri: '#/one',
                        value: 'string',
                        component: 'object component'
                      },
                      elements: {
                        field: {
                          name: '#/one',
                          required: true,
                          value: 'string'
                        }
                      }
                    },
                    {
                      meta: {
                        name: 'two',
                        required: false,
                        rootSchema: schema,
                        schema: { type: 'string' },
                        type: 'string',
                        uri: '#/two',
                        value: 'string',
                        component: 'object component'
                      },
                      elements: {
                        field: {
                          name: '#/two',
                          required: false,
                          value: 'string'
                        }
                      }
                    }
                  ]
                }
              })
          })
        })
      })

      describe('Transforming `boolean` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean', enum: [true, false] }

            const values = {
              '#/': '1'
            }

            const params = {
              '#/': { meta: { component: 'boolean component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  selectedItems: [1],
                  component: 'boolean component'
                },
                elements: {
                  enum: {
                    name: '#/',
                    items: [true, false],
                    selectedItems: [1]
                  }
                }
              })
          })
        })

        describe('With `anyOf`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean', anyOf: [{ const: true }, { const: false }, { const: true }] }

            const values = {
              '#/': '2'
            }

            const params = {
              '#/': { meta: { component: 'boolean component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  selectedItems: [2],
                  component: 'boolean component'
                },
                elements: {
                  anyOf: {
                    items: [
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: true },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'true'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: false },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'false'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: true },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: 'true'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `oneOf`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean', oneOf: [{ const: true }, { const: false }] }

            const values = {
              '#/': '2'
            }

            const params = {
              '#/': { meta: { component: 'boolean component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  selectedItems: [2],
                  component: 'boolean component'
                },
                elements: {
                  oneOf: {
                    items: [
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: true },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'true'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: false },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'false'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `allOf`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean', allOf: [{ const: true }] }

            const values = {
              '#/': 'true'
            }

            const params = {
              '#/': { meta: { component: 'boolean component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  value: 'true',
                  component: 'boolean component'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'true'
                  }
                }
              })
          })
        })

        describe('Without `enum` or `anyOf` or `oneOf` or `allOf`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean' }

            const values = {
              '#/': 'true'
            }

            const params = {
              '#/': { meta: { component: 'boolean component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  value: 'true',
                  component: 'boolean component'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'true'
                  }
                }
              })
          })
        })
      })

      describe('Transforming `null` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null', enum: [null] }

            const values = {
              '#/': '0'
            }

            const params = {
              '#/': { meta: { component: 'null component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/',
                  selectedItems: [0],
                  component: 'null component'
                },
                elements: {
                  enum: {
                    name: '#/',
                    items: [null],
                    selectedItems: [0]
                  }
                }
              })
          })
        })

        describe('With `anyOf`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null', anyOf: [{ const: null }, { const: null }, { const: null }] }

            const values = {
              '#/': '2'
            }

            const params = {
              '#/': { meta: { component: 'null component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/',
                  selectedItems: [2],
                  component: 'null component'
                },
                elements: {
                  anyOf: {
                    items: [
                      {
                        meta: {
                          type: 'null',
                          rootSchema: schema,
                          schema: { const: null },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'null'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'null',
                          rootSchema: schema,
                          schema: { const: null },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'null'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'null',
                          rootSchema: schema,
                          schema: { const: null },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: 'null'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `oneOf`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null', oneOf: [{ const: null }] }

            const values = {
              '#/': '2'
            }

            const params = {
              '#/': { meta: { component: 'null component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/',
                  selectedItems: [2],
                  component: 'null component'
                },
                elements: {
                  oneOf: {
                    items: [
                      {
                        meta: {
                          type: 'null',
                          rootSchema: schema,
                          schema: { const: null },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'null'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `allOf`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null', allOf: [{ const: null }] }

            const values = {
              '#/': 'null'
            }

            const params = {
              '#/': { meta: { component: 'null component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/',
                  value: 'null',
                  component: 'null component'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'null'
                  }
                }
              })
          })
        })

        describe('Without `enum` or `anyOf` or `oneOf` or `allOf`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null' }

            const values = {
              '#/': 'null'
            }

            const params = {
              '#/': { meta: { component: 'null component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/',
                  value: 'null',
                  component: 'null component'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'null'
                  }
                }
              })
          })
        })
      })
    })

    describe('Without params', () => {
      it('transforms', () => {
        const schema = {
          $id: 'https://example.com/geographical-location.schema.json',
          $schema: 'http://json-schema.org/draft-07/schema#',
          title: 'Latitude and Longitude',
          description: 'A geographical coordinate',
          required: ['latitude', 'longitude'],
          type: 'object',
          properties: {
            stringTypeSubSchema: {
              title: 'String type sub schema',
              type: 'string',
              minLength: 1,
              maxLength: 10
            },
            numberTypeSubSchema: {
              title: 'Number type sub schema',
              type: 'number',
              min: 1,
              max: 10
            },
            arrayTypeSubSchema: {
              title: 'Array type sub schema',
              type: 'array',
              items: [
                {
                  type: 'string'
                }
              ]
            },
            objectTypeSubSchema: {
              title: 'Object type sub schema',
              type: 'object',
              properties: {
                one: { type: 'string' },
                two: { type: 'number' }
              }
            },
            booleanTypeSubSchema: {
              title: 'Boolean type sub schema',
              type: 'boolean'
            },
            nullTypeSubSchema: {
              title: 'Null type sub schema',
              type: 'null'
            },
            latitude: {
              title: 'Latitude',
              type: 'number',
              minimum: -90,
              maximum: 90,
              multipleOf: 42.0
            },
            longitude: {
              title: 'Longitude',
              type: 'number',
              minimum: -180,
              maximum: 180,
              exclusiveMinimum: true,
              exclusiveMaximum: true
            }
          }
        }

        const values = {
          '#/stringTypeSubSchema': 'string',
          '#/numberTypeSubSchema': '1',
          '#/arrayTypeSubSchema/0': 'string',
          '#/objectTypeSubSchema/one': 'string',
          '#/objectTypeSubSchema/two': '2',
          '#/booleanTypeSubSchema': 'true',
          '#/nullTypeSubSchema': 'null'
        }

        return expect(transform(schema, values))
          .to.eql({
            meta: {
              schema,
              type: 'object',
              uri: '#/'
            },
            elements: {
              description: 'A geographical coordinate',
              fields: [
                {
                  meta: {
                    maxLength: 10,
                    minLength: 1,
                    name: 'stringTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      maxLength: 10,
                      minLength: 1,
                      title: 'String type sub schema',
                      type: 'string'
                    },
                    type: 'string',
                    uri: '#/stringTypeSubSchema',
                    value: 'string'
                  },
                  elements: {
                    field: {
                      name: '#/stringTypeSubSchema',
                      maxLength: 10,
                      minLength: 1,
                      required: false,
                      value: 'string'
                    },
                    title: 'String type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'numberTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      max: 10,
                      min: 1,
                      title: 'Number type sub schema',
                      type: 'number'
                    },
                    type: 'number',
                    uri: '#/numberTypeSubSchema',
                    value: '1'
                  },
                  elements: {
                    field: {
                      name: '#/numberTypeSubSchema',
                      required: false,
                      value: '1'
                    },
                    title: 'Number type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'arrayTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      items: [
                        {
                          type: 'string'
                        }
                      ],
                      title: 'Array type sub schema',
                      type: 'array'
                    },
                    type: 'array',
                    uri: '#/arrayTypeSubSchema'
                  },
                  elements: {
                    fields: [
                      {
                        meta: {
                          required: false,
                          rootSchema: schema,
                          schema: {
                            type: 'string'
                          },
                          type: 'string',
                          uri: '#/arrayTypeSubSchema/0',
                          value: 'string',
                          item: 0
                        },
                        elements: {
                          field: {
                            name: '#/arrayTypeSubSchema/0',
                            required: false,
                            value: 'string'
                          }
                        }
                      }
                    ],
                    title: 'Array type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'objectTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      properties: {
                        one: { type: 'string' },
                        two: { type: 'number' }
                      },
                      title: 'Object type sub schema',
                      type: 'object'
                    },
                    type: 'object',
                    uri: '#/objectTypeSubSchema'
                  },
                  elements: {
                    fields: [
                      {
                        meta: {
                          name: 'one',
                          required: false,
                          rootSchema: schema,
                          schema: {
                            type: 'string'
                          },
                          type: 'string',
                          uri: '#/objectTypeSubSchema/one',
                          value: 'string'
                        },
                        elements: {
                          field: {
                            name: '#/objectTypeSubSchema/one',
                            required: false,
                            value: 'string'
                          }
                        }
                      },
                      {
                        meta: {
                          name: 'two',
                          required: false,
                          rootSchema: schema,
                          schema: {
                            type: 'number'
                          },
                          type: 'number',
                          uri: '#/objectTypeSubSchema/two',
                          value: '2'
                        },
                        elements: {
                          field: {
                            name: '#/objectTypeSubSchema/two',
                            required: false,
                            value: '2'
                          }
                        }
                      }
                    ],
                    title: 'Object type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'booleanTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      title: 'Boolean type sub schema',
                      type: 'boolean'
                    },
                    type: 'boolean',
                    uri: '#/booleanTypeSubSchema',
                    value: 'true'
                  },
                  elements: {
                    field: {
                      name: '#/booleanTypeSubSchema',
                      required: false,
                      value: 'true'
                    },
                    title: 'Boolean type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'nullTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      title: 'Null type sub schema',
                      type: 'null'
                    },
                    type: 'null',
                    uri: '#/nullTypeSubSchema',
                    value: 'null'
                  },
                  elements: {
                    field: {
                      name: '#/nullTypeSubSchema',
                      required: false,
                      value: 'null'
                    },
                    title: 'Null type sub schema'
                  }
                },
                {
                  meta: {
                    max: 90,
                    min: -90,
                    name: 'latitude',
                    required: true,
                    rootSchema: schema,
                    schema: {
                      maximum: 90,
                      minimum: -90,
                      multipleOf: 42,
                      title: 'Latitude',
                      type: 'number'
                    },
                    step: 42,
                    type: 'number',
                    uri: '#/latitude'
                  },
                  elements: {
                    field: {
                      name: '#/latitude',
                      max: 90,
                      min: -90,
                      required: true,
                      step: 42
                    },
                    title: 'Latitude'
                  }
                },
                {
                  meta: {
                    isExclusiveMax: true,
                    isExclusiveMin: true,
                    max: 180,
                    min: -180,
                    name: 'longitude',
                    required: true,
                    rootSchema: schema,
                    schema: {
                      exclusiveMaximum: true,
                      exclusiveMinimum: true,
                      maximum: 180,
                      minimum: -180,
                      title: 'Longitude',
                      type: 'number'
                    },
                    type: 'number',
                    uri: '#/longitude'
                  },
                  elements: {
                    field: {
                      name: '#/longitude',
                      max: 180,
                      min: -180,
                      required: true
                    },
                    title: 'Longitude'
                  }
                }
              ],
              title: 'Latitude and Longitude'
            }
          })
      })

      describe('Transforming `string` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string', enum: ['string (1)', 'string (2)', 'string (3)'] }

            const values = {
              '#/': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  selectedItems: [2]
                },
                elements: {
                  enum: {
                    items: [
                      'string (1)',
                      'string (2)',
                      'string (3)'
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `anyOf`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string', anyOf: [{ const: 'string (1)' }, { const: 'string (2)' }, { const: 'string (3)' }] }

            const values = {
              '#/': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  selectedItems: [2]
                },
                elements: {
                  anyOf: {
                    items: [
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (1)' },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'string (1)'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (2)' },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'string (2)'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (3)' },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: 'string (3)'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `oneOf`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string', oneOf: [{ const: 'string (1)' }, { const: 'string (2)' }, { const: 'string (3)' }] }

            const values = {
              '#/': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  selectedItems: [2]
                },
                elements: {
                  oneOf: {
                    items: [
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (1)' },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'string (1)'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (2)' },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'string (2)'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (3)' },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: 'string (3)'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `allOf`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string', allOf: [{ minLength: 1 }, { const: 'string' }, { maxLength: 20 }] }

            const values = {
              '#/': 'string'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  value: 'string'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'string'
                  }
                }
              })
          })
        })

        describe('Without `enum` or `anyOf` or `oneOf` or `allOf`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string' }

            const values = {
              '#/': 'string'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  value: 'string'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'string'
                  }
                }
              })
          })
        })
      })

      describe('Transforming `number` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number', enum: [1, 2, 3] }

            const values = {
              '#/': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  selectedItems: [2]
                },
                elements: {
                  enum: {
                    items: [
                      1,
                      2,
                      3
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `anyOf`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number', anyOf: [{ const: 1 }, { const: 2 }, { const: 3 }] }

            const values = {
              '#/': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  selectedItems: [2]
                },
                elements: {
                  anyOf: {
                    items: [
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 1 },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: '1'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 2 },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: '2'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 3 },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: '3'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `oneOf`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number', oneOf: [{ const: 1 }, { const: 2 }, { const: 3 }] }

            const values = {
              '#/': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  selectedItems: [2]
                },
                elements: {
                  oneOf: {
                    items: [
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 1 },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: '1'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 2 },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: '2'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 3 },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: '3'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `allOf`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number', allOf: [{ minimum: 1 }, { const: 2 }, { maximum: 3 }] }

            const values = {
              '#/': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  value: '2'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: '2'
                  }
                }
              })
          })
        })

        describe('Without `enum` or `anyOf` or `oneOf` or `allOf`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number' }

            const values = {
              '#/': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  value: '1'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: '1'
                  }
                }
              })
          })
        })
      })

      describe('Transforming `array` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `array` type schemas (`items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'string',
                  enum: [
                    'string (1)',
                    'string (2)',
                    'string (3)'
                  ]
                }
              ]
            }

            const values = {
              '#/0': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string',
                          enum: [
                            'string (1)',
                            'string (2)',
                            'string (3)'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        selectedItems: [2],
                        item: 0
                      },
                      elements: {
                        enum: {
                          items: [
                            'string (1)',
                            'string (2)',
                            'string (3)'
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: [2]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'number',
                  enum: [
                    1,
                    2,
                    3
                  ]
                }
              ]
            }

            const values = {
              '#/0': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'number',
                        schema: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        selectedItems: [2],
                        item: 0
                      },
                      elements: {
                        enum: {
                          items: [
                            1,
                            2,
                            3
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: [2]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'boolean',
                  enum: [
                    true,
                    false
                  ]
                }
              ]
            }

            const values = {
              '#/0': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'boolean',
                        schema: {
                          type: 'boolean',
                          enum: [
                            true,
                            false
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0,
                        selectedItems: [1]
                      },
                      elements: {
                        enum: {
                          items: [true, false],
                          name: '#/0',
                          required: false,
                          selectedItems: [1]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'null',
                  enum: [null]
                }
              ]
            }

            const values = {
              '#/0': '0'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'null',
                        schema: {
                          type: 'null',
                          enum: [null]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0,
                        selectedItems: [0]
                      },
                      elements: {
                        enum: {
                          items: [null],
                          name: '#/0',
                          required: false,
                          selectedItems: [0]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'number',
                  enum: [
                    1,
                    2,
                    3
                  ]
                },
                {
                  type: 'string',
                  enum: [
                    'array type index string type (1)',
                    'array type index string type (2)',
                    'array type index string type (3)'
                  ]
                },
                {
                  type: 'boolean',
                  enum: [
                    true,
                    false
                  ]
                },
                {
                  type: 'null',
                  enum: [null]
                }
              ]
            }

            const values = {
              '#/0': '2',
              '#/1': '2',
              '#/2': '1',
              '#/3': '0'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'number',
                        schema: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0,
                        selectedItems: [2]
                      },
                      elements: {
                        enum: {
                          items: [
                            1,
                            2,
                            3
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: [2]
                        }
                      }
                    },
                    {
                      meta: {
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string',
                          enum: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/1',
                        item: 1,
                        selectedItems: [2]
                      },
                      elements: {
                        enum: {
                          items: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ],
                          name: '#/1',
                          required: false,
                          selectedItems: [2]
                        }
                      }
                    },
                    {
                      meta: {
                        required: false,
                        type: 'boolean',
                        schema: {
                          type: 'boolean',
                          enum: [
                            true,
                            false
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/2',
                        item: 2,
                        selectedItems: [1]
                      },
                      elements: {
                        enum: {
                          items: [true, false],
                          name: '#/2',
                          required: false,
                          selectedItems: [1]
                        }
                      }
                    },
                    {
                      meta: {
                        required: false,
                        type: 'null',
                        schema: {
                          type: 'null',
                          enum: [null]
                        },
                        rootSchema: schema,
                        uri: '#/3',
                        item: 3,
                        selectedItems: [0]
                      },
                      elements: {
                        enum: {
                          items: [null],
                          name: '#/3',
                          required: false,
                          selectedItems: [0]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              selectedItems: [2],
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [2],
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'boolean',
                      enum: [
                        true,
                        false
                      ]
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'boolean',
                              enum: [
                                true,
                                false
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              selectedItems: [1],
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [1]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'null',
                      enum: [null]
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': '0'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'null',
                              enum: [null]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              selectedItems: [0],
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [0]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'object',
                      properties: {
                        one: {
                          type: 'string',
                          enum: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ]
                        },
                        two: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        }
                      }
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0/one': '1',
              '#/0/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string',
                                  enum: [
                                    'array type index string type (1)',
                                    'array type index string type (2)',
                                    'array type index string type (3)'
                                  ]
                                },
                                two: {
                                  type: 'number',
                                  enum: [
                                    1,
                                    2,
                                    3
                                  ]
                                }
                              }
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  enum: [
                                                    'array type index string type (1)',
                                                    'array type index string type (2)',
                                                    'array type index string type (3)'
                                                  ],
                                                  type: 'string'
                                                },
                                                two: {
                                                  enum: [
                                                    1,
                                                    2,
                                                    3
                                                  ],
                                                  type: 'number'
                                                }
                                              },
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: [1]
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  enum: [
                                                    'array type index string type (1)',
                                                    'array type index string type (2)',
                                                    'array type index string type (3)'
                                                  ],
                                                  type: 'string'
                                                },
                                                two: {
                                                  enum: [
                                                    1,
                                                    2,
                                                    3
                                                  ],
                                                  type: 'number'
                                                }
                                              },
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: [1]
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'object',
                      properties: {
                        one: {
                          type: 'string',
                          enum: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ]
                        },
                        two: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        }
                      },
                      required: [
                        'one'
                      ]
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': '0'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string',
                                  enum: [
                                    'array type index string type (1)',
                                    'array type index string type (2)',
                                    'array type index string type (3)'
                                  ]
                                },
                                two: {
                                  type: 'number',
                                  enum: [
                                    1,
                                    2,
                                    3
                                  ]
                                }
                              },
                              required: [
                                'one'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              value: '0',
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: true,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  enum: [
                                                    'array type index string type (1)',
                                                    'array type index string type (2)',
                                                    'array type index string type (3)'
                                                  ],
                                                  type: 'string'
                                                },
                                                two: {
                                                  enum: [
                                                    1,
                                                    2,
                                                    3
                                                  ],
                                                  type: 'number'
                                                }
                                              },
                                              required: [
                                                'one'
                                              ],
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: []
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  enum: [
                                                    'array type index string type (1)',
                                                    'array type index string type (2)',
                                                    'array type index string type (3)'
                                                  ],
                                                  type: 'string'
                                                },
                                                two: {
                                                  enum: [
                                                    1,
                                                    2,
                                                    3
                                                  ],
                                                  type: 'number'
                                                }
                                              },
                                              required: [
                                                'one'
                                              ],
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: []
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    },
                    {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    {
                      type: 'boolean',
                      enum: [
                        true,
                        false
                      ]
                    },
                    {
                      type: 'null',
                      enum: [null]
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': '2',
              '#/0/1': '2',
              '#/0/2': '1',
              '#/0/3': '0'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            },
                            {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            {
                              type: 'boolean',
                              enum: [
                                true,
                                false
                              ]
                            },
                            {
                              type: 'null',
                              enum: [null]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [2],
                              type: 'number',
                              uri: '#/0/0'
                            }
                          },
                          {
                            meta: {
                              item: 1,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              selectedItems: [2],
                              type: 'string',
                              uri: '#/0/1'
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/1',
                                required: false,
                                selectedItems: [2]
                              }
                            }
                          },
                          {
                            meta: {
                              item: 2,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              selectedItems: [1],
                              type: 'boolean',
                              uri: '#/0/2'
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/2',
                                required: false,
                                selectedItems: [1]
                              }
                            }
                          },
                          {
                            meta: {
                              item: 3,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              selectedItems: [0],
                              type: 'null',
                              uri: '#/0/3'
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/3',
                                required: false,
                                selectedItems: [0]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  }
                }
              ]
            }

            const values = {
              '#/0/0': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'string',
                            enum: [
                              'array type index string type (1)',
                              'array type index string type (2)',
                              'array type index string type (3)'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              selectedItems: [2],
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  }
                }
              ]
            }

            const values = {
              '#/0/0': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'number',
                            enum: [
                              1,
                              2,
                              3
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [2],
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'boolean',
                    enum: [
                      true,
                      false
                    ]
                  }
                }
              ]
            }

            const values = {
              '#/0/0': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'boolean',
                            enum: [
                              true,
                              false
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              selectedItems: [1],
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [1]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'null',
                    enum: [null]
                  }
                }
              ]
            }

            const values = {
              '#/0/0': '0'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'null',
                            enum: [null]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              selectedItems: [0],
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [0]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string',
                        enum: [
                          'array type index string type (1)',
                          'array type index string type (2)',
                          'array type index string type (3)'
                        ]
                      },
                      two: {
                        type: 'number',
                        enum: [
                          1,
                          2,
                          3
                        ]
                      }
                    }
                  }
                }
              ]
            }

            const values = {
              '#/0/0/one': '1',
              '#/0/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              two: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              }
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: [1]
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: [1]
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string',
                        enum: [
                          'array type index string type (1)',
                          'array type index string type (2)',
                          'array type index string type (3)'
                        ]
                      },
                      two: {
                        type: 'number',
                        enum: [
                          1,
                          2,
                          3
                        ]
                      }
                    },
                    required: [
                      'one'
                    ]
                  }
                }
              ]
            }

            const values = {
              '#/0/0/one': '1',
              '#/0/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              two: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              }
                            },
                            required: [
                              'one'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: true,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: [1]
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: [1]
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    two: {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  }
                }
              ]
            }

            const values = {
              '#/0/one': '1',
              '#/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            two: {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/one',
                                required: false,
                                selectedItems: [1]
                              }
                            },
                            meta: {
                              name: 'one',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              selectedItems: [1],
                              type: 'string',
                              uri: '#/0/one'
                            }
                          },
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/two',
                                required: false,
                                selectedItems: [1]
                              }
                            },
                            meta: {
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [1],
                              type: 'number',
                              uri: '#/0/two'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    two: {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  },
                  required: [
                    'one'
                  ]
                }
              ]
            }

            const values = {
              '#/0/one': '2',
              '#/0/two': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            two: {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          },
                          required: [
                            'one'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/one',
                                required: true,
                                selectedItems: [2]
                              }
                            },
                            meta: {
                              name: 'one',
                              required: true,
                              rootSchema: schema,
                              schema: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              selectedItems: [2],
                              type: 'string',
                              uri: '#/0/one'
                            }
                          },
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/two',
                                required: false,
                                selectedItems: [2]
                              }
                            },
                            meta: {
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [2],
                              type: 'number',
                              uri: '#/0/two'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'string',
                enum: [
                  'array type index string type (1)',
                  'array type index string type (2)',
                  'array type index string type (3)'
                ]
              }
            }

            const values = {
              '#/0': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string',
                          enum: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0,
                        selectedItems: [2]
                      },
                      elements: {
                        enum: {
                          items: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: [2]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'number',
                enum: [
                  1,
                  2,
                  3
                ]
              }
            }

            const values = {
              '#/0': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        enum: {
                          items: [
                            1,
                            2,
                            3
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: [2]
                        }
                      },
                      meta: {
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        },
                        selectedItems: [2],
                        type: 'number',
                        uri: '#/0'
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'boolean',
                enum: [
                  true,
                  false
                ]
              }
            }

            const values = {
              '#/0': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'boolean',
                        schema: {
                          type: 'boolean',
                          enum: [
                            true,
                            false
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        selectedItems: [1],
                        item: 0
                      },
                      elements: {
                        enum: {
                          items: [true, false],
                          name: '#/0',
                          required: false,
                          selectedItems: [1]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'null',
                enum: [null]
              }
            }

            const values = {
              '#/0': '0'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'null',
                        schema: {
                          type: 'null',
                          enum: [null]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        selectedItems: [0],
                        item: 0
                      },
                      elements: {
                        enum: {
                          items: [null],
                          name: '#/0',
                          required: false,
                          selectedItems: [0]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  }
                ]
              }
            }

            const values = {
              '#/0/0': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              selectedItems: [2],
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  }
                ]
              }
            }

            const values = {
              '#/0/0': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [2],
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'boolean',
                    enum: [
                      true,
                      false
                    ]
                  }
                ]
              }
            }

            const values = {
              '#/0/0': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'boolean',
                              enum: [
                                true,
                                false
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              selectedItems: [1],
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [1]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'null',
                    enum: [null]
                  }
                ]
              }
            }

            const values = {
              '#/0/0': '0'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'null',
                              enum: [null]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              selectedItems: [0],
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [0]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string',
                        enum: [
                          'array type index string type (1)',
                          'array type index string type (2)',
                          'array type index string type (3)'
                        ]
                      },
                      two: {
                        type: 'number',
                        enum: [
                          1,
                          2,
                          3
                        ]
                      }
                    }
                  }
                ]
              }
            }

            const values = {
              '#/0/0/one': '1',
              '#/0/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string',
                                  enum: [
                                    'array type index string type (1)',
                                    'array type index string type (2)',
                                    'array type index string type (3)'
                                  ]
                                },
                                two: {
                                  type: 'number',
                                  enum: [
                                    1,
                                    2,
                                    3
                                  ]
                                }
                              }
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: [1]
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: [1]
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string',
                        enum: [
                          'array type index string type (1)',
                          'array type index string type (2)',
                          'array type index string type (3)'
                        ]
                      },
                      two: {
                        type: 'number',
                        enum: [
                          1,
                          2,
                          3
                        ]
                      }
                    },
                    required: [
                      'one'
                    ]
                  }
                ]
              }
            }

            const values = {
              '#/0/0/one': '1',
              '#/0/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string',
                                  enum: [
                                    'array type index string type (1)',
                                    'array type index string type (2)',
                                    'array type index string type (3)'
                                  ]
                                },
                                two: {
                                  type: 'number',
                                  enum: [
                                    1,
                                    2,
                                    3
                                  ]
                                }
                              },
                              required: [
                                'one'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: true,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: [1]
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: [1]
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  },
                  {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  },
                  {
                    type: 'boolean',
                    enum: [
                      true,
                      false
                    ]
                  },
                  {
                    type: 'null',
                    enum: [null]
                  }
                ]
              }
            }

            const values = {
              '#/0/0': '2',
              '#/0/1': '2',
              '#/0/2': '1',
              '#/0/3': '0'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            },
                            {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            {
                              type: 'boolean',
                              enum: [
                                true,
                                false
                              ]
                            },
                            {
                              type: 'null',
                              enum: [null]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [2],
                              type: 'number',
                              uri: '#/0/0'
                            }
                          },
                          {
                            meta: {
                              item: 1,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              selectedItems: [2],
                              type: 'string',
                              uri: '#/0/1'
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/1',
                                required: false,
                                selectedItems: [2]
                              }
                            }
                          },
                          {
                            meta: {
                              item: 2,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              selectedItems: [1],
                              type: 'boolean',
                              uri: '#/0/2'
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/2',
                                required: false,
                                selectedItems: [1]
                              }
                            }
                          },
                          {
                            meta: {
                              item: 3,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              selectedItems: [0],
                              type: 'null',
                              uri: '#/0/3'
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/3',
                                required: false,
                                selectedItems: [0]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'string',
                  enum: [
                    'array type index string type (1)',
                    'array type index string type (2)',
                    'array type index string type (3)'
                  ]
                }
              }
            }

            const values = {
              '#/0/0': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'string',
                            enum: [
                              'array type index string type (1)',
                              'array type index string type (2)',
                              'array type index string type (3)'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              selectedItems: [2],
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'number',
                  enum: [
                    1,
                    2,
                    3
                  ]
                }
              }
            }

            const values = {
              '#/0/0': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'number',
                            enum: [
                              1,
                              2,
                              3
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [2]
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [2],
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'boolean',
                  enum: [
                    true,
                    false
                  ]
                }
              }
            }

            const values = {
              '#/0/0': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'boolean',
                            enum: [
                              true,
                              false
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              selectedItems: [1],
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [1]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'null',
                  enum: [null]
                }
              }
            }

            const values = {
              '#/0/0': '0'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'null',
                            enum: [null]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              selectedItems: [0],
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/0',
                                required: false,
                                selectedItems: [0]
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    two: {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  }
                }
              }
            }

            const values = {
              '#/0/0/one': '1',
              '#/0/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              two: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              }
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              enum: [
                                                'array type index string type (1)',
                                                'array type index string type (2)',
                                                'array type index string type (3)'
                                              ],
                                              type: 'string'
                                            },
                                            two: {
                                              enum: [
                                                1,
                                                2,
                                                3
                                              ],
                                              type: 'number'
                                            }
                                          },
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: [1]
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              enum: [
                                                'array type index string type (1)',
                                                'array type index string type (2)',
                                                'array type index string type (3)'
                                              ],
                                              type: 'string'
                                            },
                                            two: {
                                              enum: [
                                                1,
                                                2,
                                                3
                                              ],
                                              type: 'number'
                                            }
                                          },
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: [1]
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    two: {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  }
                }
              }
            }

            const values = {
              '#/0/0/one': '1',
              '#/0/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              two: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              }
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              enum: [
                                                'array type index string type (1)',
                                                'array type index string type (2)',
                                                'array type index string type (3)'
                                              ],
                                              type: 'string'
                                            },
                                            two: {
                                              enum: [
                                                1,
                                                2,
                                                3
                                              ],
                                              type: 'number'
                                            }
                                          },
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: [1]
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: [1]
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              enum: [
                                                'array type index string type (1)',
                                                'array type index string type (2)',
                                                'array type index string type (3)'
                                              ],
                                              type: 'string'
                                            },
                                            two: {
                                              enum: [
                                                1,
                                                2,
                                                3
                                              ],
                                              type: 'number'
                                            }
                                          },
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: [1]
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  one: {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  },
                  two: {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }

            const values = {
              '#/0/one': '1',
              '#/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            two: {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/one',
                                required: false,
                                selectedItems: [1]
                              }
                            },
                            meta: {
                              name: 'one',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              selectedItems: [1],
                              type: 'string',
                              uri: '#/0/one'
                            }
                          },
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/two',
                                required: false,
                                selectedItems: [1]
                              }
                            },
                            meta: {
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [1],
                              type: 'number',
                              uri: '#/0/two'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  one: {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  },
                  two: {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  }
                },
                required: [
                  'one'
                ]
              }
            }

            const values = {
              '#/0/one': '1',
              '#/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            two: {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          },
                          required: [
                            'one'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/one',
                                required: true,
                                selectedItems: [1]
                              }
                            },
                            meta: {
                              name: 'one',
                              required: true,
                              rootSchema: schema,
                              schema: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              selectedItems: [1],
                              type: 'string',
                              uri: '#/0/one'
                            }
                          },
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/two',
                                required: false,
                                selectedItems: [1]
                              }
                            },
                            meta: {
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              selectedItems: [1],
                              type: 'number',
                              uri: '#/0/two'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })
        })

        describe('Without `enum`', () => {
          it('transforms `array` type schemas (`items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'string'
                }
              ]
            }

            const values = {
              '#/0': 'string'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string'
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        value: 'string',
                        item: 0
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: 'string'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'number'
                }
              ]
            }

            const values = {
              '#/0': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'number',
                        schema: {
                          type: 'number'
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        value: '1',
                        item: 0
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: '1'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'boolean'
                }
              ]
            }

            const values = {
              '#/0': 'false'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'boolean'
                        },
                        value: 'false',
                        type: 'boolean',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: 'false'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'null'
                }
              ]
            }

            const values = {
              '#/0': 'null'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'null'
                        },
                        value: 'null',
                        type: 'null',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: 'null'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'number'
                },
                {
                  type: 'string'
                },
                {
                  type: 'boolean'
                },
                {
                  type: 'null'
                }
              ]
            }

            const values = {
              '#/0': '1',
              '#/1': 'string',
              '#/2': 'false',
              '#/3': 'null'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [

                    {
                      meta: {
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'number'
                        },
                        value: '1',
                        type: 'number',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: '1'
                        }
                      }
                    },
                    {
                      meta: {
                        item: 1,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'string'
                        },
                        value: 'string',
                        type: 'string',
                        uri: '#/1'
                      },
                      elements: {
                        field: {
                          name: '#/1',
                          required: false,
                          value: 'string'
                        }
                      }
                    },
                    {
                      meta: {
                        item: 2,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'boolean'
                        },
                        value: 'false',
                        type: 'boolean',
                        uri: '#/2'
                      },
                      elements: {
                        field: {
                          name: '#/2',
                          required: false,
                          value: 'false'
                        }
                      }
                    },
                    {
                      meta: {
                        item: 3,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'null'
                        },
                        value: 'null',
                        type: 'null',
                        uri: '#/3'
                      },
                      elements: {
                        field: {
                          name: '#/3',
                          required: false,
                          value: 'null'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'string'
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': 'string'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'string'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'string'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'number'
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: '1'
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      },
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'boolean'
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': 'false'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'boolean'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              value: 'false',
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'false'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'null'
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': 'null'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'null'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              value: 'null',
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'null'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'object',
                      properties: {
                        one: {
                          type: 'string'
                        },
                        two: {
                          type: 'number'
                        }
                      }
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0/one': 'string',
              '#/0/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string'
                                },
                                two: {
                                  type: 'number'
                                }
                              }
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: false,
                                      value: 'string'
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  type: 'string'
                                                },
                                                two: {
                                                  type: 'number'
                                                }
                                              },
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    value: 'string'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false,
                                      value: '1'
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  type: 'string'
                                                },
                                                two: {
                                                  type: 'number'
                                                }
                                              },
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    value: '1'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'object',
                      properties: {
                        one: {
                          type: 'string'
                        },
                        two: {
                          type: 'number'
                        }
                      },
                      required: [
                        'one'
                      ]
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0/one': 'string',
              '#/0/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string'
                                },
                                two: {
                                  type: 'number'
                                }
                              },
                              required: [
                                'one'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: true,
                                      value: 'string'
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  type: 'string'
                                                },
                                                two: {
                                                  type: 'number'
                                                }
                                              },
                                              required: [
                                                'one'
                                              ],
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    value: 'string'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false,
                                      value: '1'
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  type: 'string'
                                                },
                                                two: {
                                                  type: 'number'
                                                }
                                              },
                                              required: [
                                                'one'
                                              ],
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    value: '1'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'number'
                    },
                    {
                      type: 'string'
                    },
                    {
                      type: 'boolean'
                    },
                    {
                      type: 'null'
                    }
                  ]
                }
              ]
            }

            const values = {
              '#/0/0': '1',
              '#/0/1': 'string',
              '#/0/2': 'false',
              '#/0/3': 'null'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number'
                            },
                            {
                              type: 'string'
                            },
                            {
                              type: 'boolean'
                            },
                            {
                              type: 'null'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: '1'
                              }
                            }
                          },
                          {
                            meta: {
                              item: 1,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/1'
                            },
                            elements: {
                              field: {
                                name: '#/0/1',
                                required: false,
                                value: 'string'
                              }
                            }
                          },
                          {
                            meta: {
                              item: 2,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              value: 'false',
                              type: 'boolean',
                              uri: '#/0/2'
                            },
                            elements: {
                              field: {
                                name: '#/0/2',
                                required: false,
                                value: 'false'
                              }
                            }
                          },
                          {
                            meta: {
                              item: 3,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              value: 'null',
                              type: 'null',
                              uri: '#/0/3'
                            },
                            elements: {
                              field: {
                                name: '#/0/3',
                                required: false,
                                value: 'null'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'string'
                  }
                }
              ]
            }

            const values = {
              '#/0/0': 'string'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'string'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'string'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'number'
                  }
                }
              ]
            }

            const values = {
              '#/0/0': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: '1'
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      },
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'number'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'boolean'
                  }
                }
              ]
            }

            const values = {
              '#/0/0': 'false'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'boolean'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              value: 'false',
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'false'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'null'
                  }
                }
              ]
            }

            const values = {
              '#/0/0': 'null'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'null'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              value: 'null',
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'null'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string'
                      },
                      two: {
                        type: 'number'
                      }
                    }
                  }
                }
              ]
            }

            const values = {
              '#/0/0/one': 'string',
              '#/0/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string'
                              },
                              two: {
                                type: 'number'
                              }
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: false,
                                      value: 'string'
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    value: 'string'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false,
                                      value: '1'
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    value: '1'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string'
                      },
                      two: {
                        type: 'number'
                      }
                    }
                  }
                }
              ]
            }

            const values = {
              '#/0/0/one': 'string',
              '#/0/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string'
                              },
                              two: {
                                type: 'number'
                              }
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: false,
                                      value: 'string'
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    value: 'string'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false,
                                      value: '1'
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    value: '1'
                                  }
                                }
                              ]

                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string'
                    },
                    two: {
                      type: 'number'
                    }
                  }
                }
              ]
            }

            const values = {
              '#/0/one': 'string',
              '#/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string'
                            },
                            two: {
                              type: 'number'
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: false,
                                value: 'string'
                              }
                            },
                            meta: {
                              name: 'one',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/one'
                            }
                          },
                          {
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false,
                                value: '1'
                              }
                            },
                            meta: {
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/two'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string'
                    },
                    two: {
                      type: 'number'
                    }
                  },
                  required: [
                    'one'
                  ]
                }
              ]
            }

            const values = {
              '#/0/one': 'string',
              '#/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string'
                            },
                            two: {
                              type: 'number'
                            }
                          },
                          required: [
                            'one'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              name: 'one',
                              required: true,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/one'
                            },
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: true,
                                value: 'string'
                              }
                            }
                          },
                          {
                            meta: {
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/two'
                            },
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false,
                                value: '1'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'string'
              }
            }

            const values = {
              '#/0': 'string'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'string'
                        },
                        value: 'string',
                        type: 'string',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: 'string'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'number'
              }
            }

            const values = {
              '#/0': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: '1'
                        }
                      },
                      meta: {
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'number'
                        },
                        value: '1',
                        type: 'number',
                        uri: '#/0'
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'boolean'
              }
            }

            const values = {
              '#/0': 'true'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'boolean',
                        schema: {
                          type: 'boolean'
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        value: 'true',
                        item: 0
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: 'true'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'null'
              }
            }

            const values = {
              '#/0': 'null'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'null',
                        schema: {
                          type: 'null'
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        value: 'null',
                        item: 0
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false,
                          value: 'null'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'string'
                  }
                ]
              }
            }

            const values = {
              '#/0/0': 'string'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'string'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'string'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'number'
                  }
                ]
              }
            }

            const values = {
              '#/0/0': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: '1'
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      },
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'boolean'
                  }
                ]
              }
            }

            const values = {
              '#/0/0': 'false'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'boolean'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              value: 'false',
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'false'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'null'
                  }
                ]
              }
            }

            const values = {
              '#/0/0': 'null'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'null'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              value: 'null',
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'null'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string'
                      },
                      two: {
                        type: 'number'
                      }
                    }
                  }
                ]
              }
            }

            const values = {
              '#/0/0/one': 'string',
              '#/0/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string'
                                },
                                two: {
                                  type: 'number'
                                }
                              }
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: false,
                                      value: 'string'
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    value: 'string'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false,
                                      value: '1'
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    value: '1'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string'
                      },
                      two: {
                        type: 'number'
                      }
                    },
                    required: [
                      'one'
                    ]
                  }
                ]
              }
            }

            const values = {
              '#/0/0/one': 'string',
              '#/0/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string'
                                },
                                two: {
                                  type: 'number'
                                }
                              },
                              required: [
                                'one'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: true,
                                      value: 'string'
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    value: 'string'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false,
                                      value: '1'
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    value: '1'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'number'
                  },
                  {
                    type: 'string'
                  },
                  {
                    type: 'boolean'
                  },
                  {
                    type: 'null'
                  }
                ]
              }
            }

            const values = {
              '#/0/0': '1',
              '#/0/1': 'string',
              '#/0/2': 'false',
              '#/0/3': 'null'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number'
                            },
                            {
                              type: 'string'
                            },
                            {
                              type: 'boolean'
                            },
                            {
                              type: 'null'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: '1'
                              }
                            }
                          },
                          {
                            meta: {
                              item: 1,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/1'
                            },
                            elements: {
                              field: {
                                name: '#/0/1',
                                required: false,
                                value: 'string'
                              }
                            }
                          },
                          {
                            meta: {
                              item: 2,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              value: 'false',
                              type: 'boolean',
                              uri: '#/0/2'
                            },
                            elements: {
                              field: {
                                name: '#/0/2',
                                required: false,
                                value: 'false'
                              }
                            }
                          },
                          {
                            meta: {
                              item: 3,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              value: 'null',
                              type: 'null',
                              uri: '#/0/3'
                            },
                            elements: {
                              field: {
                                name: '#/0/3',
                                required: false,
                                value: 'null'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'string'
                }
              }
            }

            const values = {
              '#/0/0': 'string'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'string'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'string'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'number'
                }
              }
            }

            const values = {
              '#/0/0': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: '1'
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      },
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'number'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'boolean'
                }
              }
            }

            const values = {
              '#/0/0': 'false'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'boolean'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              value: 'false',
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'false'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'null'
                }
              }
            }

            const values = {
              '#/0/0': 'null'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'null'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              value: 'null',
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false,
                                value: 'null'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string'
                    },
                    two: {
                      type: 'number'
                    }
                  }
                }
              }
            }

            const values = {
              '#/0/0/one': 'string',
              '#/0/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string'
                              },
                              two: {
                                type: 'number'
                              }
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: false,
                                      value: 'string'
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              type: 'string'
                                            },
                                            two: {
                                              type: 'number'
                                            }
                                          },
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    value: 'string'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false,
                                      value: '1'
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              type: 'string'
                                            },
                                            two: {
                                              type: 'number'
                                            }
                                          },
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    value: '1'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string'
                    },
                    two: {
                      type: 'number'
                    }
                  },
                  required: [
                    'one'
                  ]
                }
              }
            }

            const values = {
              '#/0/0/one': 'string',
              '#/0/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string'
                              },
                              two: {
                                type: 'number'
                              }
                            },
                            required: [
                              'one'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: true,
                                      value: 'string'
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              type: 'string'
                                            },
                                            two: {
                                              type: 'number'
                                            }
                                          },
                                          required: [
                                            'one'
                                          ],
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    value: 'string'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false,
                                      value: '1'
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              type: 'string'
                                            },
                                            two: {
                                              type: 'number'
                                            }
                                          },
                                          required: [
                                            'one'
                                          ],
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    value: '1'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  one: {
                    type: 'string'
                  },
                  two: {
                    type: 'number'
                  }
                }
              }
            }

            const values = {
              '#/0/one': 'string',
              '#/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string'
                            },
                            two: {
                              type: 'number'
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: false,
                                value: 'string'
                              }
                            },
                            meta: {
                              name: 'one',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/one'
                            }
                          },
                          {
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false,
                                value: '1'
                              }
                            },
                            meta: {
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/two'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  one: {
                    type: 'string'
                  },
                  two: {
                    type: 'number'
                  }
                },
                required: [
                  'one'
                ]
              }
            }

            const values = {
              '#/0/one': 'string',
              '#/0/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string'
                            },
                            two: {
                              type: 'number'
                            }
                          },
                          required: [
                            'one'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              name: 'one',
                              required: true,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              value: 'string',
                              type: 'string',
                              uri: '#/0/one'
                            },
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: true,
                                value: 'string'
                              }
                            }
                          },
                          {
                            meta: {
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              value: '1',
                              type: 'number',
                              uri: '#/0/two'
                            },
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false,
                                value: '1'
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })
        })
      })

      describe('Transforming `object` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `object` type schemas', () => {
            const schema = {
              type: 'object',
              properties: {
                one: {
                  type: 'string',
                  enum: [
                    'object type key string (1)',
                    'object type key string (2)'
                  ]
                },
                two: {
                  type: 'string',
                  enum: [
                    'object type key string (1)',
                    'object type key string (2)'
                  ]
                }
              }
            }

            const values = {
              '#/one': '0',
              '#/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'object',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        name: 'one',
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string',
                          enum: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/one',
                        selectedItems: [0]
                      },
                      elements: {
                        enum: {
                          items: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ],
                          name: '#/one',
                          required: false,
                          selectedItems: [0]
                        }
                      }
                    },
                    {
                      meta: {
                        name: 'two',
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string',
                          enum: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/two',
                        selectedItems: [1]
                      },
                      elements: {
                        enum: {
                          items: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ],
                          name: '#/two',
                          required: false,
                          selectedItems: [1]
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `object` type schemas (with `required`)', () => {
            const schema = {
              type: 'object',
              properties: {
                one: {
                  type: 'string',
                  enum: [
                    'object type key string (1)',
                    'object type key string (2)'
                  ]
                },
                two: {
                  type: 'string',
                  enum: [
                    'object type key string (1)',
                    'object type key string (2)'
                  ]
                }
              },
              required: [
                'one'
              ]
            }

            const values = {
              '#/one': '0',
              '#/two': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'object',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        name: 'one',
                        required: true,
                        rootSchema: schema,
                        schema: {
                          type: 'string',
                          enum: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ]
                        },
                        type: 'string',
                        uri: '#/one',
                        selectedItems: [0]
                      },
                      elements: {
                        enum: {
                          items: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ],
                          name: '#/one',
                          required: true,
                          selectedItems: [0]
                        }
                      }
                    },
                    {
                      meta: {
                        name: 'two',
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'string',
                          enum: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ]
                        },
                        type: 'string',
                        uri: '#/two',
                        selectedItems: [1]
                      },
                      elements: {
                        enum: {
                          items: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ],
                          name: '#/two',
                          required: false,
                          selectedItems: [1]
                        }
                      }
                    }
                  ]
                }
              })
          })
        })

        describe('Without `enum`', () => {
          it('transforms `object` type schemas', () => {
            const schema = {
              type: 'object',
              properties: {
                one: { type: 'string' },
                two: { type: 'string' }
              }
            }

            const values = {
              '#/one': 'string',
              '#/two': 'string'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'object',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        name: 'one',
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string'
                        },
                        rootSchema: schema,
                        uri: '#/one',
                        value: 'string'
                      },
                      elements: {
                        field: {
                          name: '#/one',
                          required: false,
                          value: 'string'
                        }
                      }
                    },
                    {
                      meta: {
                        name: 'two',
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string'
                        },
                        rootSchema: schema,
                        uri: '#/two',
                        value: 'string'
                      },
                      elements: {
                        field: {
                          name: '#/two',
                          required: false,
                          value: 'string'
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `object` type schemas (with `required`)', () => {
            const schema = {
              type: 'object',
              properties: {
                one: { type: 'string' },
                two: { type: 'string' }
              },
              required: [
                'one'
              ]
            }

            const values = {
              '#/one': 'string',
              '#/two': 'string'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'object',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        name: 'one',
                        required: true,
                        rootSchema: schema,
                        schema: { type: 'string' },
                        type: 'string',
                        uri: '#/one',
                        value: 'string'
                      },
                      elements: {
                        field: {
                          name: '#/one',
                          required: true,
                          value: 'string'
                        }
                      }
                    },
                    {
                      meta: {
                        name: 'two',
                        required: false,
                        rootSchema: schema,
                        schema: { type: 'string' },
                        type: 'string',
                        uri: '#/two',
                        value: 'string'
                      },
                      elements: {
                        field: {
                          name: '#/two',
                          required: false,
                          value: 'string'
                        }
                      }
                    }
                  ]
                }
              })
          })
        })
      })

      describe('Transforming `boolean` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean', enum: [true, false] }

            const values = {
              '#/': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  selectedItems: [1]
                },
                elements: {
                  enum: {
                    name: '#/',
                    items: [true, false],
                    selectedItems: [1]
                  }
                }
              })
          })
        })

        describe('With `anyOf`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean', anyOf: [{ const: true }, { const: false }, { const: true }] }

            const values = {
              '#/': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  selectedItems: [2]
                },
                elements: {
                  anyOf: {
                    items: [
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: true },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'true'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: false },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'false'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: true },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: 'true'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `oneOf`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean', oneOf: [{ const: true }, { const: false }] }

            const values = {
              '#/': '1'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  selectedItems: [1]
                },
                elements: {
                  oneOf: {
                    items: [
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: true },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'true'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: false },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'false'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: [1]
                  }
                }
              })
          })
        })

        describe('With `allOf`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean', allOf: [{ const: true }] }

            const values = {
              '#/': 'true'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  value: 'true'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'true'
                  }
                }
              })
          })
        })

        describe('Without `enum` or `anyOf` or `oneOf` or `allOf`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean' }

            const values = {
              '#/': 'true'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  value: 'true'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'true'
                  }
                }
              })
          })
        })
      })

      describe('Transforming `null` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null', enum: [null] }

            const values = {
              '#/': '0'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/',
                  selectedItems: [0]
                },
                elements: {
                  enum: {
                    name: '#/',
                    items: [null],
                    selectedItems: [0]
                  }
                }
              })
          })
        })

        describe('With `anyOf`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null', anyOf: [{ const: null }, { const: null }, { const: null }] }

            const values = {
              '#/': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/',
                  selectedItems: [2]
                },
                elements: {
                  anyOf: {
                    items: [
                      {
                        meta: {
                          type: 'null',
                          rootSchema: schema,
                          schema: { const: null },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'null'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'null',
                          rootSchema: schema,
                          schema: { const: null },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'null'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'null',
                          rootSchema: schema,
                          schema: { const: null },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: 'null'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `oneOf`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null', oneOf: [{ const: null }] }

            const values = {
              '#/': '2'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/',
                  selectedItems: [2]
                },
                elements: {
                  oneOf: {
                    items: [
                      {
                        meta: {
                          type: 'null',
                          rootSchema: schema,
                          schema: { const: null },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'null'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: [2]
                  }
                }
              })
          })
        })

        describe('With `allOf`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null', allOf: [{ const: null }] }

            const values = {
              '#/': 'null'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  value: 'null',
                  uri: '#/'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'null'
                  }
                }
              })
          })
        })

        describe('Without `enum` or `anyOf` or `oneOf` or `allOf`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null' }

            const values = {
              '#/': 'null'
            }

            return expect(transform(schema, values))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/',
                  value: 'null'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'null'
                  }
                }
              })
          })
        })
      })
    })
  })

  describe('Without values', () => {
    describe('With params', () => {
      it('transforms', () => {
        const schema = {
          $id: 'https://example.com/geographical-location.schema.json',
          $schema: 'http://json-schema.org/draft-07/schema#',
          title: 'Latitude and Longitude',
          description: 'A geographical coordinate',
          required: ['latitude', 'longitude'],
          type: 'object',
          properties: {
            stringTypeSubSchema: {
              title: 'String type sub schema',
              type: 'string',
              minLength: 1,
              maxLength: 10
            },
            numberTypeSubSchema: {
              title: 'Number type sub schema',
              type: 'number',
              min: 1,
              max: 10
            },
            arrayTypeSubSchema: {
              title: 'Array type sub schema',
              type: 'array',
              items: [
                {
                  type: 'string'
                }
              ]
            },
            objectTypeSubSchema: {
              title: 'Object type sub schema',
              type: 'object',
              properties: {
                one: { type: 'string' },
                two: { type: 'number' }
              }
            },
            booleanTypeSubSchema: {
              title: 'Boolean type sub schema',
              type: 'boolean'
            },
            nullTypeSubSchema: {
              title: 'Null type sub schema',
              type: 'null'
            },
            latitude: {
              title: 'Latitude',
              type: 'number',
              minimum: -90,
              maximum: 90,
              multipleOf: 42.0
            },
            longitude: {
              title: 'Longitude',
              type: 'number',
              minimum: -180,
              maximum: 180,
              exclusiveMinimum: true,
              exclusiveMaximum: true
            }
          }
        }

        const values = {}

        const params = {
          '#/stringTypeSubSchema': { meta: { component: 'string component' } },
          '#/numberTypeSubSchema': { meta: { component: 'number component' } },
          '#/arrayTypeSubSchema': { meta: { component: 'array component' } },
          '#/arrayTypeSubSchema/0': { meta: { component: 'array type index component' } },
          '#/objectTypeSubSchema': { meta: { component: 'object component' } },
          '#/objectTypeSubSchema/one': { meta: { component: 'object type key component' } },
          '#/objectTypeSubSchema/two': { meta: { component: 'object type key component' } },
          '#/booleanTypeSubSchema': { meta: { component: 'boolean component' } },
          '#/nullTypeSubSchema': { meta: { component: 'null component' } }
        }

        return expect(transform(schema, values, params))
          .to.eql({
            meta: {
              schema,
              type: 'object',
              uri: '#/'
            },
            elements: {
              description: 'A geographical coordinate',
              fields: [
                {
                  meta: {
                    maxLength: 10,
                    minLength: 1,
                    name: 'stringTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      maxLength: 10,
                      minLength: 1,
                      title: 'String type sub schema',
                      type: 'string'
                    },
                    type: 'string',
                    uri: '#/stringTypeSubSchema',
                    component: 'string component'
                  },
                  elements: {
                    field: {
                      name: '#/stringTypeSubSchema',
                      maxLength: 10,
                      minLength: 1,
                      required: false
                    },
                    title: 'String type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'numberTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      max: 10,
                      min: 1,
                      title: 'Number type sub schema',
                      type: 'number'
                    },
                    type: 'number',
                    uri: '#/numberTypeSubSchema',
                    component: 'number component'
                  },
                  elements: {
                    field: {
                      name: '#/numberTypeSubSchema',
                      required: false
                    },
                    title: 'Number type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'arrayTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      items: [
                        {
                          type: 'string'
                        }
                      ],
                      title: 'Array type sub schema',
                      type: 'array'
                    },
                    type: 'array',
                    uri: '#/arrayTypeSubSchema',
                    component: 'array component'
                  },
                  elements: {
                    fields: [
                      {
                        meta: {
                          required: false,
                          rootSchema: schema,
                          schema: {
                            type: 'string'
                          },
                          type: 'string',
                          uri: '#/arrayTypeSubSchema/0',
                          component: 'array type index component',
                          item: 0
                        },
                        elements: {
                          field: {
                            name: '#/arrayTypeSubSchema/0',
                            required: false
                          }
                        }
                      }
                    ],
                    title: 'Array type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'objectTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      properties: {
                        one: { type: 'string' },
                        two: { type: 'number' }
                      },
                      title: 'Object type sub schema',
                      type: 'object'
                    },
                    type: 'object',
                    uri: '#/objectTypeSubSchema',
                    component: 'object component'
                  },
                  elements: {
                    fields: [
                      {
                        meta: {
                          name: 'one',
                          required: false,
                          rootSchema: schema,
                          schema: {
                            type: 'string'
                          },
                          type: 'string',
                          uri: '#/objectTypeSubSchema/one',
                          component: 'object type key component'
                        },
                        elements: {
                          field: {
                            name: '#/objectTypeSubSchema/one',
                            required: false
                          }
                        }
                      },
                      {
                        meta: {
                          name: 'two',
                          required: false,
                          rootSchema: schema,
                          schema: {
                            type: 'number'
                          },
                          type: 'number',
                          uri: '#/objectTypeSubSchema/two',
                          component: 'object type key component'
                        },
                        elements: {
                          field: {
                            name: '#/objectTypeSubSchema/two',
                            required: false
                          }
                        }
                      }
                    ],
                    title: 'Object type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'booleanTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      title: 'Boolean type sub schema',
                      type: 'boolean'
                    },
                    type: 'boolean',
                    uri: '#/booleanTypeSubSchema',
                    component: 'boolean component'
                  },
                  elements: {
                    field: {
                      name: '#/booleanTypeSubSchema',
                      required: false
                    },
                    title: 'Boolean type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'nullTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      title: 'Null type sub schema',
                      type: 'null'
                    },
                    type: 'null',
                    uri: '#/nullTypeSubSchema',
                    component: 'null component'
                  },
                  elements: {
                    field: {
                      name: '#/nullTypeSubSchema',
                      required: false
                    },
                    title: 'Null type sub schema'
                  }
                },
                {
                  meta: {
                    max: 90,
                    min: -90,
                    name: 'latitude',
                    required: true,
                    rootSchema: schema,
                    schema: {
                      maximum: 90,
                      minimum: -90,
                      multipleOf: 42,
                      title: 'Latitude',
                      type: 'number'
                    },
                    step: 42,
                    type: 'number',
                    uri: '#/latitude'
                  },
                  elements: {
                    field: {
                      name: '#/latitude',
                      max: 90,
                      min: -90,
                      required: true,
                      step: 42
                    },
                    title: 'Latitude'
                  }
                },
                {
                  meta: {
                    isExclusiveMax: true,
                    isExclusiveMin: true,
                    max: 180,
                    min: -180,
                    name: 'longitude',
                    required: true,
                    rootSchema: schema,
                    schema: {
                      exclusiveMaximum: true,
                      exclusiveMinimum: true,
                      maximum: 180,
                      minimum: -180,
                      title: 'Longitude',
                      type: 'number'
                    },
                    type: 'number',
                    uri: '#/longitude'
                  },
                  elements: {
                    field: {
                      name: '#/longitude',
                      max: 180,
                      min: -180,
                      required: true
                    },
                    title: 'Longitude'
                  }
                }
              ],
              title: 'Latitude and Longitude'
            }
          })
      })

      describe('Transforming `string` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string', enum: ['string (1)', 'string (2)', 'string (3)'] }

            const values = {}

            const params = {
              '#/': { meta: { component: 'string component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  component: 'string component',
                  selectedItems: []
                },
                elements: {
                  enum: {
                    items: [
                      'string (1)',
                      'string (2)',
                      'string (3)'
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `anyOf`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string', anyOf: [{ const: 'string (1)' }, { const: 'string (2)' }, { const: 'string (3)' }] }

            const values = {}

            const params = {
              '#/': { meta: { component: 'string component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  component: 'string component',
                  selectedItems: []
                },
                elements: {
                  anyOf: {
                    items: [
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (1)' },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'string (1)'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (2)' },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'string (2)'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (3)' },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: 'string (3)'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `oneOf`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string', oneOf: [{ const: 'string (1)' }, { const: 'string (2)' }, { const: 'string (3)' }] }

            const values = {}

            const params = {
              '#/': { meta: { component: 'string component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  component: 'string component',
                  selectedItems: []
                },
                elements: {
                  oneOf: {
                    items: [
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (1)' },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'string (1)'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (2)' },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'string (2)'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (3)' },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: 'string (3)'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `allOf`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string', allOf: [{ minLength: 1 }, { const: 'string' }, { maxLength: 20 }] }

            const values = {}

            const params = {
              '#/': { meta: { component: 'string component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  component: 'string component'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'string'
                  }
                }
              })
          })
        })

        describe('Without `enum` or `anyOf` or `oneOf` or `allOf`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string' }

            const values = {}

            const params = {
              '#/': { meta: { component: 'string component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  component: 'string component'
                },
                elements: {
                  field: {
                    name: '#/'
                  }
                }
              })
          })
        })
      })

      describe('Transforming `number` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number', enum: [1, 2, 3] }

            const values = {}

            const params = {
              '#/': { meta: { component: 'number component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  component: 'number component',
                  selectedItems: []
                },
                elements: {
                  enum: {
                    items: [
                      1,
                      2,
                      3
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `anyOf`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number', anyOf: [{ const: 1 }, { const: 2 }, { const: 3 }] }

            const values = {}

            const params = {
              '#/': { meta: { component: 'number component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  component: 'number component',
                  selectedItems: []
                },
                elements: {
                  anyOf: {
                    items: [
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 1 },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: '1'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 2 },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: '2'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 3 },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: '3'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `oneOf`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number', oneOf: [{ const: 1 }, { const: 2 }, { const: 3 }] }

            const values = {}

            const params = {
              '#/': { meta: { component: 'number component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  component: 'number component',
                  selectedItems: []
                },
                elements: {
                  oneOf: {
                    items: [
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 1 },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: '1'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 2 },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: '2'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 3 },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: '3'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `allOf`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number', allOf: [{ minimum: 1 }, { const: 2 }, { maximum: 3 }] }

            const values = {}

            const params = {
              '#/': { meta: { component: 'number component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  component: 'number component'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: '2'
                  }
                }
              })
          })
        })

        describe('Without `enum` or `anyOf` or `oneOf` or `allOf`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number' }

            const values = {}

            const params = {
              '#/': { meta: { component: 'number component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  component: 'number component'
                },
                elements: {
                  field: {
                    name: '#/'
                  }
                }
              })
          })
        })
      })

      describe('Transforming `array` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `array` type schemas (`items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'string',
                  enum: [
                    'string (1)',
                    'string (2)',
                    'string (3)'
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string',
                          enum: [
                            'string (1)',
                            'string (2)',
                            'string (3)'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0,
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [
                            'string (1)',
                            'string (2)',
                            'string (3)'
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'number',
                  enum: [
                    1,
                    2,
                    3
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'number',
                        schema: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0,
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [
                            1,
                            2,
                            3
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'boolean',
                  enum: [
                    true,
                    false
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'boolean',
                          enum: [
                            true,
                            false
                          ]
                        },
                        type: 'boolean',
                        uri: '#/0',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [true, false],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'null',
                  enum: [null]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'null',
                          enum: [
                            null
                          ]
                        },
                        type: 'null',
                        uri: '#/0',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [null],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'number',
                  enum: [
                    1,
                    2,
                    3
                  ]
                },
                {
                  type: 'string',
                  enum: [
                    'array type index string type (1)',
                    'array type index string type (2)',
                    'array type index string type (3)'
                  ]
                },
                {
                  type: 'boolean',
                  enum: [
                    true,
                    false
                  ]
                },
                {
                  type: 'null',
                  enum: [null]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/1': { meta: { component: 'array type index component' } },
              '#/2': { meta: { component: 'array type index component' } },
              '#/3': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        enum: {
                          items: [
                            1,
                            2,
                            3
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      },
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        },
                        type: 'number',
                        uri: '#/0',
                        selectedItems: []
                      }
                    },
                    {
                      meta: {
                        component: 'array type index component',
                        item: 1,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          enum: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ],
                          type: 'string'
                        },
                        type: 'string',
                        uri: '#/1',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ],
                          name: '#/1',
                          required: false,
                          selectedItems: []
                        }
                      }
                    },
                    {
                      meta: {
                        component: 'array type index component',
                        item: 2,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'boolean',
                          enum: [
                            true,
                            false
                          ]
                        },
                        type: 'boolean',
                        uri: '#/2',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [true, false],
                          name: '#/2',
                          required: false,
                          selectedItems: []
                        }
                      }
                    },
                    {
                      meta: {
                        component: 'array type index component',
                        item: 3,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'null',
                          enum: [
                            null
                          ]
                        },
                        type: 'null',
                        uri: '#/3',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [null],
                          name: '#/3',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    }
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              type: 'number',
                              uri: '#/0/0',
                              selectedItems: []
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'boolean',
                      enum: [
                        true,
                        false
                      ]
                    }
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'boolean',
                              enum: [
                                true,
                                false
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              type: 'boolean',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'null',
                      enum: [null]
                    }
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'null',
                              enum: [null]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              type: 'null',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'object',
                      properties: {
                        one: {
                          type: 'string',
                          enum: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ]
                        },
                        two: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        }
                      }
                    }
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string',
                                  enum: [
                                    'array type index string type (1)',
                                    'array type index string type (2)',
                                    'array type index string type (3)'
                                  ]
                                },
                                two: {
                                  type: 'number',
                                  enum: [
                                    1,
                                    2,
                                    3
                                  ]
                                }
                              }
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  enum: [
                                                    'array type index string type (1)',
                                                    'array type index string type (2)',
                                                    'array type index string type (3)'
                                                  ],
                                                  type: 'string'
                                                },
                                                two: {
                                                  enum: [
                                                    1,
                                                    2,
                                                    3
                                                  ],
                                                  type: 'number'
                                                }
                                              },
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: []
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  enum: [
                                                    'array type index string type (1)',
                                                    'array type index string type (2)',
                                                    'array type index string type (3)'
                                                  ],
                                                  type: 'string'
                                                },
                                                two: {
                                                  enum: [
                                                    1,
                                                    2,
                                                    3
                                                  ],
                                                  type: 'number'
                                                }
                                              },
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: []
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'object',
                      properties: {
                        one: {
                          type: 'string',
                          enum: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ]
                        },
                        two: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        }
                      },
                      required: [
                        'one'
                      ]
                    }
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string',
                                  enum: [
                                    'array type index string type (1)',
                                    'array type index string type (2)',
                                    'array type index string type (3)'
                                  ]
                                },
                                two: {
                                  type: 'number',
                                  enum: [
                                    1,
                                    2,
                                    3
                                  ]
                                }
                              },
                              required: [
                                'one'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: true,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  enum: [
                                                    'array type index string type (1)',
                                                    'array type index string type (2)',
                                                    'array type index string type (3)'
                                                  ],
                                                  type: 'string'
                                                },
                                                two: {
                                                  enum: [
                                                    1,
                                                    2,
                                                    3
                                                  ],
                                                  type: 'number'
                                                }
                                              },
                                              required: [
                                                'one'
                                              ],
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: []
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  enum: [
                                                    'array type index string type (1)',
                                                    'array type index string type (2)',
                                                    'array type index string type (3)'
                                                  ],
                                                  type: 'string'
                                                },
                                                two: {
                                                  enum: [
                                                    1,
                                                    2,
                                                    3
                                                  ],
                                                  type: 'number'
                                                }
                                              },
                                              required: [
                                                'one'
                                              ],
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: []
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    },
                    {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    {
                      type: 'boolean',
                      enum: [
                        true,
                        false
                      ]
                    },
                    {
                      type: 'null',
                      enum: [null]
                    }
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } },
              '#/0/1': { meta: { component: 'array type index array type index component' } },
              '#/0/2': { meta: { component: 'array type index array type index component' } },
              '#/0/3': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            },
                            {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            {
                              type: 'boolean',
                              enum: [
                                true,
                                false
                              ]
                            },
                            {
                              type: 'null',
                              enum: [null]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              type: 'number',
                              uri: '#/0/0',
                              selectedItems: []
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 1,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/1',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/1',
                                required: false,
                                selectedItems: []
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 2,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              type: 'boolean',
                              uri: '#/0/2',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/2',
                                required: false,
                                selectedItems: []
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 3,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              type: 'null',
                              uri: '#/0/3',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/3',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  }
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'string',
                            enum: [
                              'array type index string type (1)',
                              'array type index string type (2)',
                              'array type index string type (3)'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  }
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'number',
                            enum: [
                              1,
                              2,
                              3
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              type: 'number',
                              uri: '#/0/0',
                              selectedItems: []
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'boolean',
                    enum: [
                      true,
                      false
                    ]
                  }
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'boolean',
                            enum: [
                              true,
                              false
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              type: 'boolean',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'null',
                    enum: [null]
                  }
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'null',
                            enum: [null]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              type: 'null',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string',
                        enum: [
                          'array type index string type (1)',
                          'array type index string type (2)',
                          'array type index string type (3)'
                        ]
                      },
                      two: {
                        type: 'number',
                        enum: [
                          1,
                          2,
                          3
                        ]
                      }
                    }
                  }
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              two: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              }
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: []
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: []
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string',
                        enum: [
                          'array type index string type (1)',
                          'array type index string type (2)',
                          'array type index string type (3)'
                        ]
                      },
                      two: {
                        type: 'number',
                        enum: [
                          1,
                          2,
                          3
                        ]
                      }
                    },
                    required: [
                      'one'
                    ]
                  }
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              two: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              }
                            },
                            required: [
                              'one'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: true,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: []
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: []
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    two: {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  }
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/one': { meta: { component: 'array type index object type key component' } },
              '#/0/two': { meta: { component: 'array type index object type key component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            two: {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/one',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              component: 'array type index object type key component',
                              name: 'one',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/one',
                              selectedItems: []
                            }
                          },
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/two',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              component: 'array type index object type key component',
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              type: 'number',
                              uri: '#/0/two',
                              selectedItems: []
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    two: {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  },
                  required: [
                    'one'
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/one': { meta: { component: 'array type index object type key component' } },
              '#/0/two': { meta: { component: 'array type index object type key component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            two: {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          },
                          required: [
                            'one'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/one',
                                required: true,
                                selectedItems: []
                              }
                            },
                            meta: {
                              component: 'array type index object type key component',
                              name: 'one',
                              required: true,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/one',
                              selectedItems: []
                            }
                          },
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/two',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              component: 'array type index object type key component',
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              type: 'number',
                              uri: '#/0/two',
                              selectedItems: []
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'string',
                enum: [
                  'array type index string type (1)',
                  'array type index string type (2)',
                  'array type index string type (3)'
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          enum: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ],
                          type: 'string'
                        },
                        type: 'string',
                        uri: '#/0',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'number',
                enum: [
                  1,
                  2,
                  3
                ]
              }

            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        enum: {
                          items: [
                            1,
                            2,
                            3
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      },
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        },
                        type: 'number',
                        uri: '#/0',
                        selectedItems: []
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'boolean',
                enum: [
                  true,
                  false
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'boolean',
                        schema: {
                          type: 'boolean',
                          enum: [
                            true,
                            false
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0,
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [true, false],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'null',
                enum: [null]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'null',
                        schema: {
                          type: 'null',
                          enum: [null]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0,
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [null],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  }
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  }
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              type: 'number',
                              uri: '#/0/0',
                              selectedItems: []
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'boolean',
                    enum: [
                      true,
                      false
                    ]
                  }
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'boolean',
                              enum: [
                                true,
                                false
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              type: 'boolean',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'null',
                    enum: [null]
                  }
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'null',
                              enum: [null]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              type: 'null',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string',
                        enum: [
                          'array type index string type (1)',
                          'array type index string type (2)',
                          'array type index string type (3)'
                        ]
                      },
                      two: {
                        type: 'number',
                        enum: [
                          1,
                          2,
                          3
                        ]
                      }
                    }
                  }
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string',
                                  enum: [
                                    'array type index string type (1)',
                                    'array type index string type (2)',
                                    'array type index string type (3)'
                                  ]
                                },
                                two: {
                                  type: 'number',
                                  enum: [
                                    1,
                                    2,
                                    3
                                  ]
                                }
                              }
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: []
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: []
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string',
                        enum: [
                          'array type index string type (1)',
                          'array type index string type (2)',
                          'array type index string type (3)'
                        ]
                      },
                      two: {
                        type: 'number',
                        enum: [
                          1,
                          2,
                          3
                        ]
                      }
                    },
                    required: [
                      'one'
                    ]
                  }
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string',
                                  enum: [
                                    'array type index string type (1)',
                                    'array type index string type (2)',
                                    'array type index string type (3)'
                                  ]
                                },
                                two: {
                                  type: 'number',
                                  enum: [
                                    1,
                                    2,
                                    3
                                  ]
                                }
                              },
                              required: [
                                'one'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: true,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: []
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: []
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  },
                  {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  },
                  {
                    type: 'boolean',
                    enum: [
                      true,
                      false
                    ]
                  },
                  {
                    type: 'null',
                    enum: [null]
                  }
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } },
              '#/0/1': { meta: { component: 'array type index array type index component' } },
              '#/0/2': { meta: { component: 'array type index array type index component' } },
              '#/0/3': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            },
                            {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            {
                              type: 'boolean',
                              enum: [
                                true,
                                false
                              ]
                            },
                            {
                              type: 'null',
                              enum: [null]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              type: 'number',
                              uri: '#/0/0',
                              selectedItems: []
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 1,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/1',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/1',
                                required: false,
                                selectedItems: []
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 2,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              type: 'boolean',
                              uri: '#/0/2',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/2',
                                required: false,
                                selectedItems: []
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 3,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              type: 'null',
                              uri: '#/0/3',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/3',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'string',
                  enum: [
                    'array type index string type (1)',
                    'array type index string type (2)',
                    'array type index string type (3)'
                  ]
                }
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'string',
                            enum: [
                              'array type index string type (1)',
                              'array type index string type (2)',
                              'array type index string type (3)'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'number',
                  enum: [
                    1,
                    2,
                    3
                  ]
                }
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'number',
                            enum: [
                              1,
                              2,
                              3
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              type: 'number',
                              uri: '#/0/0',
                              selectedItems: []
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'boolean',
                  enum: [
                    true,
                    false
                  ]
                }
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'boolean',
                            enum: [
                              true,
                              false
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              type: 'boolean',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'null',
                  enum: [null]
                }
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'null',
                            enum: [null]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              type: 'null',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items:
                {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    two: {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  }
                }
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              two: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              }
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              enum: [
                                                'array type index string type (1)',
                                                'array type index string type (2)',
                                                'array type index string type (3)'
                                              ],
                                              type: 'string'
                                            },
                                            two: {
                                              enum: [
                                                1,
                                                2,
                                                3
                                              ],
                                              type: 'number'
                                            }
                                          },
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: []
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              enum: [
                                                'array type index string type (1)',
                                                'array type index string type (2)',
                                                'array type index string type (3)'
                                              ],
                                              type: 'string'
                                            },
                                            two: {
                                              enum: [
                                                1,
                                                2,
                                                3
                                              ],
                                              type: 'number'
                                            }
                                          },
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: []
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    two: {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  },
                  required: [
                    'one'
                  ]
                }
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              two: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              }
                            },
                            required: [
                              'one'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: true,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              enum: [
                                                'array type index string type (1)',
                                                'array type index string type (2)',
                                                'array type index string type (3)'
                                              ],
                                              type: 'string'
                                            },
                                            two: {
                                              enum: [
                                                1,
                                                2,
                                                3
                                              ],
                                              type: 'number'
                                            }
                                          },
                                          required: [
                                            'one'
                                          ],
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: []
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              enum: [
                                                'array type index string type (1)',
                                                'array type index string type (2)',
                                                'array type index string type (3)'
                                              ],
                                              type: 'string'
                                            },
                                            two: {
                                              enum: [
                                                1,
                                                2,
                                                3
                                              ],
                                              type: 'number'
                                            }
                                          },
                                          required: [
                                            'one'
                                          ],
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: []
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  one: {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  },
                  two: {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  }
                }
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/one': { meta: { component: 'array type index object type key component' } },
              '#/0/two': { meta: { component: 'array type index object type key component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            two: {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              name: 'one',
                              required: false,
                              type: 'string',
                              schema: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              rootSchema: schema,
                              uri: '#/0/one',
                              component: 'array type index object type key component',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/one',
                                required: false,
                                selectedItems: []
                              }
                            }
                          },
                          {
                            meta: {
                              name: 'two',
                              required: false,
                              type: 'number',
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              rootSchema: schema,
                              uri: '#/0/two',
                              component: 'array type index object type key component',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/two',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  one: {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  },
                  two: {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  }
                },
                required: [
                  'one'
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/one': { meta: { component: 'array type index object type key component' } },
              '#/0/two': { meta: { component: 'array type index object type key component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            two: {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          },
                          required: [
                            'one'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              name: 'one',
                              required: true,
                              type: 'string',
                              schema: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              rootSchema: schema,
                              uri: '#/0/one',
                              component: 'array type index object type key component',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/one',
                                required: true,
                                selectedItems: []
                              }
                            }
                          },
                          {
                            meta: {
                              name: 'two',
                              required: false,
                              type: 'number',
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              rootSchema: schema,
                              uri: '#/0/two',
                              component: 'array type index object type key component',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/two',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })
        })

        describe('Without `enum`', () => {
          it('transforms `array` type schemas (`items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'string'
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string'
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'number'
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'number',
                        schema: {
                          type: 'number'
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'boolean'
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'boolean'
                        },
                        type: 'boolean',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'null'
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'null'
                        },
                        type: 'null',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'number'
                },
                {
                  type: 'string'
                },
                {
                  type: 'boolean'
                },
                {
                  type: 'null'
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/1': { meta: { component: 'array type index component' } },
              '#/2': { meta: { component: 'array type index component' } },
              '#/3': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'number'
                        },
                        type: 'number',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      }
                    },
                    {
                      meta: {
                        component: 'array type index component',
                        item: 1,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'string'
                        },
                        type: 'string',
                        uri: '#/1'
                      },
                      elements: {
                        field: {
                          name: '#/1',
                          required: false
                        }
                      }
                    },
                    {
                      meta: {
                        component: 'array type index component',
                        item: 2,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'boolean'
                        },
                        type: 'boolean',
                        uri: '#/2'
                      },
                      elements: {
                        field: {
                          name: '#/2',
                          required: false
                        }
                      }
                    },
                    {
                      meta: {
                        component: 'array type index component',
                        item: 3,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'null'
                        },
                        type: 'null',
                        uri: '#/3'
                      },
                      elements: {
                        field: {
                          name: '#/3',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'string'
                    }
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'string'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'number'
                    }
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      },
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'boolean'
                    }
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'boolean'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'null'
                    }
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'null'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'object',
                      properties: {
                        one: {
                          type: 'string'
                        },
                        two: {
                          type: 'number'
                        }
                      }
                    }
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string'
                                },
                                two: {
                                  type: 'number'
                                }
                              }
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  type: 'string'
                                                },
                                                two: {
                                                  type: 'number'
                                                }
                                              },
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  type: 'string'
                                                },
                                                two: {
                                                  type: 'number'
                                                }
                                              },
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two'
                                  }
                                }
                              ]

                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'object',
                      properties: {
                        one: {
                          type: 'string'
                        },
                        two: {
                          type: 'number'
                        }
                      },
                      required: [
                        'one'
                      ]
                    }
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string'
                                },
                                two: {
                                  type: 'number'
                                }
                              },
                              required: [
                                'one'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: true
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  type: 'string'
                                                },
                                                two: {
                                                  type: 'number'
                                                }
                                              },
                                              required: [
                                                'one'
                                              ],
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  type: 'string'
                                                },
                                                two: {
                                                  type: 'number'
                                                }
                                              },
                                              required: [
                                                'one'
                                              ],
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'number'
                    },
                    {
                      type: 'string'
                    },
                    {
                      type: 'boolean'
                    },
                    {
                      type: 'null'
                    }
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } },
              '#/0/1': { meta: { component: 'array type index array type index component' } },
              '#/0/2': { meta: { component: 'array type index array type index component' } },
              '#/0/3': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number'
                            },
                            {
                              type: 'string'
                            },
                            {
                              type: 'boolean'
                            },
                            {
                              type: 'null'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              type: 'number',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 1,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/1'
                            },
                            elements: {
                              field: {
                                name: '#/0/1',
                                required: false
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 2,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              type: 'boolean',
                              uri: '#/0/2'
                            },
                            elements: {
                              field: {
                                name: '#/0/2',
                                required: false
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 3,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              type: 'null',
                              uri: '#/0/3'
                            },
                            elements: {
                              field: {
                                name: '#/0/3',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'string'
                  }
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'string'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'number'
                  }
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      },
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'number'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'boolean'
                  }
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'boolean'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'null'
                  }
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'null'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string'
                      },
                      two: {
                        type: 'number'
                      }
                    }
                  }
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string'
                              },
                              two: {
                                type: 'number'
                              }
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string'
                      },
                      two: {
                        type: 'number'
                      }
                    },
                    required: [
                      'one'
                    ]
                  }
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string'
                              },
                              two: {
                                type: 'number'
                              }
                            },
                            required: [
                              'one'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: true
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string'
                    },
                    two: {
                      type: 'number'
                    }
                  }
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/one': { meta: { component: 'array type index object type key component' } },
              '#/0/two': { meta: { component: 'array type index object type key component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string'
                            },
                            two: {
                              type: 'number'
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: false
                              }
                            },
                            meta: {
                              component: 'array type index object type key component',
                              name: 'one',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/one'
                            }
                          },
                          {
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false
                              }
                            },
                            meta: {
                              component: 'array type index object type key component',
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              type: 'number',
                              uri: '#/0/two'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string'
                    },
                    two: {
                      type: 'number'
                    }
                  },
                  required: [
                    'one'
                  ]
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/one': { meta: { component: 'array type index object type key component' } },
              '#/0/two': { meta: { component: 'array type index object type key component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string'
                            },
                            two: {
                              type: 'number'
                            }
                          },
                          required: [
                            'one'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index object type key component',
                              name: 'one',
                              required: true,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/one'
                            },
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: true
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index object type key component',
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              type: 'number',
                              uri: '#/0/two'
                            },
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'string'
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'string'
                        },
                        type: 'string',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'number'
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      },
                      meta: {
                        component: 'array type index component',
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'number'
                        },
                        type: 'number',
                        uri: '#/0'
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'boolean'
                }
              ]
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'boolean',
                        schema: {
                          type: 'boolean'
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'null'
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'null',
                        schema: {
                          type: 'null'
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'string'
                  }
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'string'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'number'
                  }
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      },
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'boolean'
                  }
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'boolean'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'null'
                  }
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'null'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string'
                      },
                      two: {
                        type: 'number'
                      }
                    }
                  }
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string'
                                },
                                two: {
                                  type: 'number'
                                }
                              }
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two'
                                  }
                                }
                              ]

                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string'
                      },
                      two: {
                        type: 'number'
                      }
                    },
                    required: [
                      'one'
                    ]
                  }
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string'
                                },
                                two: {
                                  type: 'number'
                                }
                              },
                              required: [
                                'one'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: true
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'number'
                  },
                  {
                    type: 'string'
                  },
                  {
                    type: 'boolean'
                  },
                  {
                    type: 'null'
                  }
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } },
              '#/0/1': { meta: { component: 'array type index array type index component' } },
              '#/0/2': { meta: { component: 'array type index array type index component' } },
              '#/0/3': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number'
                            },
                            {
                              type: 'string'
                            },
                            {
                              type: 'boolean'
                            },
                            {
                              type: 'null'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              type: 'number',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 1,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/1'
                            },
                            elements: {
                              field: {
                                name: '#/0/1',
                                required: false
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 2,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              type: 'boolean',
                              uri: '#/0/2'
                            },
                            elements: {
                              field: {
                                name: '#/0/2',
                                required: false
                              }
                            }
                          },
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 3,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              type: 'null',
                              uri: '#/0/3'
                            },
                            elements: {
                              field: {
                                name: '#/0/3',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'string'
                }
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'string'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'number'
                }
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            },
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      },
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'number'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'boolean'
                }
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'boolean'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'null'
                }
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'null'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string'
                    },
                    two: {
                      type: 'number'
                    }
                  }
                }
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string'
                              },
                              two: {
                                type: 'number'
                              }
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              type: 'string'
                                            },
                                            two: {
                                              type: 'number'
                                            }
                                          },
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              type: 'string'
                                            },
                                            two: {
                                              type: 'number'
                                            }
                                          },
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string'
                    },
                    two: {
                      type: 'number'
                    }
                  },
                  required: [
                    'one'
                  ]
                }
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/0': { meta: { component: 'array type index array type index component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string'
                              },
                              two: {
                                type: 'number'
                              }
                            },
                            required: [
                              'one'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              component: 'array type index array type index component',
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: true
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              type: 'string'
                                            },
                                            two: {
                                              type: 'number'
                                            }
                                          },
                                          required: [
                                            'one'
                                          ],
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              type: 'string'
                                            },
                                            two: {
                                              type: 'number'
                                            }
                                          },
                                          required: [
                                            'one'
                                          ],
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  one: { type: 'string' },
                  two: { type: 'number' }
                }
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/one': { meta: { component: 'array type index object type key component' } },
              '#/0/two': { meta: { component: 'array type index object type key component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: { type: 'string' },
                            two: { type: 'number' }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              name: 'one',
                              required: false,
                              type: 'string',
                              schema: { type: 'string' },
                              rootSchema: schema,
                              uri: '#/0/one',
                              component: 'array type index object type key component'
                            },
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: false
                              }
                            }
                          },
                          {
                            meta: {
                              name: 'two',
                              required: false,
                              type: 'number',
                              schema: { type: 'number' },
                              rootSchema: schema,
                              uri: '#/0/two',
                              component: 'array type index object type key component'
                            },
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  one: { type: 'string' },
                  two: { type: 'number' }
                },
                required: [
                  'one'
                ]
              }
            }

            const values = {}

            const params = {
              '#/0': { meta: { component: 'array type index component' } },
              '#/0/one': { meta: { component: 'array type index object type key component' } },
              '#/0/two': { meta: { component: 'array type index object type key component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: { type: 'string' },
                            two: { type: 'number' }
                          },
                          required: [
                            'one'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        component: 'array type index component',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              name: 'one',
                              required: true,
                              type: 'string',
                              schema: { type: 'string' },
                              rootSchema: schema,
                              uri: '#/0/one',
                              component: 'array type index object type key component'
                            },
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: true
                              }
                            }
                          },
                          {
                            meta: {
                              name: 'two',
                              required: false,
                              type: 'number',
                              schema: { type: 'number' },
                              rootSchema: schema,
                              uri: '#/0/two',
                              component: 'array type index object type key component'
                            },
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })
        })
      })

      describe('Transforming `object` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `object` type schemas', () => {
            const schema = {
              type: 'object',
              properties: {
                one: {
                  type: 'string',
                  enum: [
                    'object type key string (1)',
                    'object type key string (2)'
                  ]
                },
                two: {
                  type: 'string',
                  enum: [
                    'object type key string (1)',
                    'object type key string (2)'
                  ]
                }
              }
            }

            const values = {}

            const params = {
              '#/': { meta: { component: 'object component' } },
              '#/one': { meta: { component: 'object component' } },
              '#/two': { meta: { component: 'object component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'object',
                  schema,
                  uri: '#/',
                  component: 'object component'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        name: 'one',
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string',
                          enum: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/one',
                        component: 'object component',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ],
                          name: '#/one',
                          required: false,
                          selectedItems: []
                        }
                      }
                    },
                    {
                      meta: {
                        name: 'two',
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string',
                          enum: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/two',
                        component: 'object component',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ],
                          name: '#/two',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `object` type schemas (with `required`)', () => {
            const schema = {
              type: 'object',
              properties: {
                one: {
                  type: 'string',
                  enum: [
                    'object type key string (1)',
                    'object type key string (2)'
                  ]
                },
                two: {
                  type: 'string',
                  enum: [
                    'object type key string (1)',
                    'object type key string (2)'
                  ]
                }
              },
              required: [
                'one'
              ]
            }

            const values = {}

            const params = {
              '#/': { meta: { component: 'object component' } },
              '#/one': { meta: { component: 'object component' } },
              '#/two': { meta: { component: 'object component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'object',
                  schema,
                  uri: '#/',
                  component: 'object component'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        name: 'one',
                        required: true,
                        rootSchema: schema,
                        schema: {
                          type: 'string',
                          enum: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ]
                        },
                        type: 'string',
                        uri: '#/one',
                        component: 'object component',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ],
                          name: '#/one',
                          required: true,
                          selectedItems: []
                        }
                      }
                    },
                    {
                      meta: {
                        name: 'two',
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'string',
                          enum: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ]
                        },
                        type: 'string',
                        uri: '#/two',
                        component: 'object component',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ],
                          name: '#/two',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })
        })

        describe('Without `enum`', () => {
          it('transforms `object` type schemas', () => {
            const schema = {
              type: 'object',
              properties: {
                one: { type: 'string' },
                two: { type: 'string' }
              }
            }

            const values = {}

            const params = {
              '#/': { meta: { component: 'object component' } },
              '#/one': { meta: { component: 'object component' } },
              '#/two': { meta: { component: 'object component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'object',
                  schema,
                  uri: '#/',
                  component: 'object component'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        name: 'one',
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string'
                        },
                        rootSchema: schema,
                        uri: '#/one',
                        component: 'object component'
                      },
                      elements: {
                        field: {
                          name: '#/one',
                          required: false
                        }
                      }
                    },
                    {
                      meta: {
                        name: 'two',
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string'
                        },
                        rootSchema: schema,
                        uri: '#/two',
                        component: 'object component'
                      },
                      elements: {
                        field: {
                          name: '#/two',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `object` type schemas (with `required`)', () => {
            const schema = {
              type: 'object',
              properties: {
                one: { type: 'string' },
                two: { type: 'string' }
              },
              required: [
                'one'
              ]
            }

            const values = {}

            const params = {
              '#/': { meta: { component: 'object component' } },
              '#/one': { meta: { component: 'object component' } },
              '#/two': { meta: { component: 'object component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'object',
                  schema,
                  uri: '#/',
                  component: 'object component'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        name: 'one',
                        required: true,
                        rootSchema: schema,
                        schema: { type: 'string' },
                        type: 'string',
                        uri: '#/one',
                        component: 'object component'
                      },
                      elements: {
                        field: {
                          name: '#/one',
                          required: true
                        }
                      }
                    },
                    {
                      meta: {
                        name: 'two',
                        required: false,
                        rootSchema: schema,
                        schema: { type: 'string' },
                        type: 'string',
                        uri: '#/two',
                        component: 'object component'
                      },
                      elements: {
                        field: {
                          name: '#/two',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })
        })
      })

      describe('Transforming `boolean` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean', enum: [true, false] }

            const values = {}

            const params = {
              '#/': { meta: { component: 'boolean component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  component: 'boolean component',
                  selectedItems: []
                },
                elements: {
                  enum: {
                    name: '#/',
                    items: [true, false],
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `anyOf`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean', anyOf: [{ const: true }, { const: false }, { const: true }] }

            const values = {}

            const params = {
              '#/': { meta: { component: 'boolean component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  component: 'boolean component',
                  selectedItems: []
                },
                elements: {
                  anyOf: {
                    items: [
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: true },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'true'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: false },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'false'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: true },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: 'true'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `oneOf`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean', oneOf: [{ const: true }, { const: false }] }

            const values = {}

            const params = {
              '#/': { meta: { component: 'boolean component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  component: 'boolean component',
                  selectedItems: []
                },
                elements: {
                  oneOf: {
                    items: [
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: true },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'true'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: false },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'false'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `allOf`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean', allOf: [{ const: true }] }

            const values = {}

            const params = {
              '#/': { meta: { component: 'boolean component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  component: 'boolean component'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'true'
                  }
                }
              })
          })
        })

        describe('Without `enum` or `anyOf` or `oneOf` or `allOf`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean' }

            const values = {}

            const params = {
              '#/': { meta: { component: 'boolean component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  component: 'boolean component'
                },
                elements: {
                  field: {
                    name: '#/'
                  }
                }
              })
          })
        })
      })

      describe('Transforming `null` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null', enum: [null] }

            const values = {}

            const params = {
              '#/': { meta: { component: 'null component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/',
                  component: 'null component',
                  selectedItems: []
                },
                elements: {
                  enum: {
                    name: '#/',
                    items: [null],
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `anyOf`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null', anyOf: [{ const: null }, { const: null }, { const: null }] }

            const values = {}

            const params = {
              '#/': { meta: { component: 'null component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/',
                  component: 'null component',
                  selectedItems: []
                },
                elements: {
                  anyOf: {
                    items: [
                      {
                        meta: {
                          type: 'null',
                          rootSchema: schema,
                          schema: { const: null },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'null'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'null',
                          rootSchema: schema,
                          schema: { const: null },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'null'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'null',
                          rootSchema: schema,
                          schema: { const: null },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: 'null'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `oneOf`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null', oneOf: [{ const: null }] }

            const values = {}

            const params = {
              '#/': { meta: { component: 'null component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/',
                  component: 'null component',
                  selectedItems: []
                },
                elements: {
                  oneOf: {
                    items: [
                      {
                        meta: {
                          type: 'null',
                          rootSchema: schema,
                          schema: { const: null },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'null'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `allOf`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null', allOf: [{ const: null }] }

            const values = {}

            const params = {
              '#/': { meta: { component: 'null component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/',
                  component: 'null component'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'null'
                  }
                }
              })
          })
        })

        describe('Without `enum` or `anyOf` or `oneOf` or `allOf`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null' }

            const values = {}

            const params = {
              '#/': { meta: { component: 'null component' } }
            }

            return expect(transform(schema, values, params))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/',
                  component: 'null component'
                },
                elements: {
                  field: {
                    name: '#/'
                  }
                }
              })
          })
        })
      })
    })

    describe('Without params', () => {
      it('transforms', () => {
        const schema = {
          $id: 'https://example.com/geographical-location.schema.json',
          $schema: 'http://json-schema.org/draft-07/schema#',
          title: 'Latitude and Longitude',
          description: 'A geographical coordinate',
          required: ['latitude', 'longitude'],
          type: 'object',
          properties: {
            stringTypeSubSchema: {
              title: 'String type sub schema',
              type: 'string',
              minLength: 1,
              maxLength: 10
            },
            numberTypeSubSchema: {
              title: 'Number type sub schema',
              type: 'number',
              min: 1,
              max: 10
            },
            arrayTypeSubSchema: {
              title: 'Array type sub schema',
              type: 'array',
              items: [
                {
                  type: 'string'
                }
              ]
            },
            objectTypeSubSchema: {
              title: 'Object type sub schema',
              type: 'object',
              properties: {
                one: { type: 'string' },
                two: { type: 'number' }
              }
            },
            booleanTypeSubSchema: {
              title: 'Boolean type sub schema',
              type: 'boolean'
            },
            nullTypeSubSchema: {
              title: 'Null type sub schema',
              type: 'null'
            },
            latitude: {
              title: 'Latitude',
              type: 'number',
              minimum: -90,
              maximum: 90,
              multipleOf: 42.0
            },
            longitude: {
              title: 'Longitude',
              type: 'number',
              minimum: -180,
              maximum: 180,
              exclusiveMinimum: true,
              exclusiveMaximum: true
            }
          }
        }

        return expect(transform(schema))
          .to.eql({
            meta: {
              schema,
              type: 'object',
              uri: '#/'
            },
            elements: {
              description: 'A geographical coordinate',
              fields: [
                {
                  meta: {
                    maxLength: 10,
                    minLength: 1,
                    name: 'stringTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      maxLength: 10,
                      minLength: 1,
                      title: 'String type sub schema',
                      type: 'string'
                    },
                    type: 'string',
                    uri: '#/stringTypeSubSchema'
                  },
                  elements: {
                    field: {
                      name: '#/stringTypeSubSchema',
                      maxLength: 10,
                      minLength: 1,
                      required: false
                    },
                    title: 'String type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'numberTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      max: 10,
                      min: 1,
                      title: 'Number type sub schema',
                      type: 'number'
                    },
                    type: 'number',
                    uri: '#/numberTypeSubSchema'
                  },
                  elements: {
                    field: {
                      name: '#/numberTypeSubSchema',
                      required: false
                    },
                    title: 'Number type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'arrayTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      items: [
                        {
                          type: 'string'
                        }
                      ],
                      title: 'Array type sub schema',
                      type: 'array'
                    },
                    type: 'array',
                    uri: '#/arrayTypeSubSchema'
                  },
                  elements: {
                    fields: [
                      {
                        meta: {
                          required: false,
                          rootSchema: schema,
                          schema: {
                            type: 'string'
                          },
                          type: 'string',
                          uri: '#/arrayTypeSubSchema/0',
                          item: 0
                        },
                        elements: {
                          field: {
                            name: '#/arrayTypeSubSchema/0',
                            required: false
                          }
                        }
                      }
                    ],
                    title: 'Array type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'objectTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      properties: {
                        one: { type: 'string' },
                        two: { type: 'number' }
                      },
                      title: 'Object type sub schema',
                      type: 'object'
                    },
                    type: 'object',
                    uri: '#/objectTypeSubSchema'
                  },
                  elements: {
                    fields: [
                      {
                        meta: {
                          name: 'one',
                          required: false,
                          rootSchema: schema,
                          schema: {
                            type: 'string'
                          },
                          type: 'string',
                          uri: '#/objectTypeSubSchema/one'
                        },
                        elements: {
                          field: {
                            name: '#/objectTypeSubSchema/one',
                            required: false
                          }
                        }
                      },
                      {
                        meta: {
                          name: 'two',
                          required: false,
                          rootSchema: schema,
                          schema: {
                            type: 'number'
                          },
                          type: 'number',
                          uri: '#/objectTypeSubSchema/two'
                        },
                        elements: {
                          field: {
                            name: '#/objectTypeSubSchema/two',
                            required: false
                          }
                        }
                      }
                    ],
                    title: 'Object type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'booleanTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      title: 'Boolean type sub schema',
                      type: 'boolean'
                    },
                    type: 'boolean',
                    uri: '#/booleanTypeSubSchema'
                  },
                  elements: {
                    field: {
                      name: '#/booleanTypeSubSchema',
                      required: false
                    },
                    title: 'Boolean type sub schema'
                  }
                },
                {
                  meta: {
                    name: 'nullTypeSubSchema',
                    required: false,
                    rootSchema: schema,
                    schema: {
                      title: 'Null type sub schema',
                      type: 'null'
                    },
                    type: 'null',
                    uri: '#/nullTypeSubSchema'
                  },
                  elements: {
                    field: {
                      name: '#/nullTypeSubSchema',
                      required: false
                    },
                    title: 'Null type sub schema'
                  }
                },
                {
                  meta: {
                    max: 90,
                    min: -90,
                    name: 'latitude',
                    required: true,
                    rootSchema: schema,
                    schema: {
                      maximum: 90,
                      minimum: -90,
                      multipleOf: 42,
                      title: 'Latitude',
                      type: 'number'
                    },
                    step: 42,
                    type: 'number',
                    uri: '#/latitude'
                  },
                  elements: {
                    field: {
                      name: '#/latitude',
                      max: 90,
                      min: -90,
                      required: true,
                      step: 42
                    },
                    title: 'Latitude'
                  }
                },
                {
                  meta: {
                    isExclusiveMax: true,
                    isExclusiveMin: true,
                    max: 180,
                    min: -180,
                    name: 'longitude',
                    required: true,
                    rootSchema: schema,
                    schema: {
                      exclusiveMaximum: true,
                      exclusiveMinimum: true,
                      maximum: 180,
                      minimum: -180,
                      title: 'Longitude',
                      type: 'number'
                    },
                    type: 'number',
                    uri: '#/longitude'
                  },
                  elements: {
                    field: {
                      name: '#/longitude',
                      max: 180,
                      min: -180,
                      required: true
                    },
                    title: 'Longitude'
                  }
                }
              ],
              title: 'Latitude and Longitude'
            }
          })
      })

      describe('Transforming `string` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string', enum: ['string (1)', 'string (2)', 'string (3)'] }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  selectedItems: []
                },
                elements: {
                  enum: {
                    items: [
                      'string (1)',
                      'string (2)',
                      'string (3)'
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `anyOf`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string', anyOf: [{ const: 'string (1)' }, { const: 'string (2)' }, { const: 'string (3)' }] }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  selectedItems: []
                },
                elements: {
                  anyOf: {
                    items: [
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (1)' },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'string (1)'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (2)' },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'string (2)'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (3)' },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: 'string (3)'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `oneOf`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string', oneOf: [{ const: 'string (1)' }, { const: 'string (2)' }, { const: 'string (3)' }] }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/',
                  selectedItems: []
                },
                elements: {
                  oneOf: {
                    items: [
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (1)' },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'string (1)'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (2)' },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'string (2)'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'string',
                          rootSchema: schema,
                          schema: { const: 'string (3)' },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: 'string (3)'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `allOf`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string', allOf: [{ minLength: 1 }, { const: 'string' }, { maxLength: 20 }] }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'string'
                  }
                }
              })
          })
        })

        describe('Without `enum` or `anyOf` or `oneOf` or `allOf`', () => {
          it('transforms `string` type schemas', () => {
            const schema = { type: 'string' }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'string',
                  schema,
                  uri: '#/'
                },
                elements: {
                  field: {
                    name: '#/'
                  }
                }
              })
          })
        })
      })

      describe('Transforming `number` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number', enum: [1, 2, 3] }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  selectedItems: []
                },
                elements: {
                  enum: {
                    items: [
                      1,
                      2,
                      3
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `anyOf`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number', anyOf: [{ const: 1 }, { const: 2 }, { const: 3 }] }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  selectedItems: []
                },
                elements: {
                  anyOf: {
                    items: [
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 1 },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: '1'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 2 },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: '2'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 3 },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: '3'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `oneOf`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number', oneOf: [{ const: 1 }, { const: 2 }, { const: 3 }] }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/',
                  selectedItems: []
                },
                elements: {
                  oneOf: {
                    items: [
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 1 },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: '1'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 2 },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: '2'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'number',
                          rootSchema: schema,
                          schema: { const: 3 },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: '3'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `allOf`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number', allOf: [{ minimum: 1 }, { const: 2 }, { maximum: 3 }] }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: '2'
                  }
                }
              })
          })
        })

        describe('Without `enum` or `anyOf` or `oneOf` or `allOf`', () => {
          it('transforms `number` type schemas', () => {
            const schema = { type: 'number' }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'number',
                  schema,
                  uri: '#/'
                },
                elements: {
                  field: {
                    name: '#/'
                  }
                }
              })
          })
        })
      })

      describe('Transforming `array` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `array` type schemas (`items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'string',
                  enum: [
                    'string (1)',
                    'string (2)',
                    'string (3)'
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string',
                          enum: [
                            'string (1)',
                            'string (2)',
                            'string (3)'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0,
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [
                            'string (1)',
                            'string (2)',
                            'string (3)'
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'number',
                  enum: [
                    1,
                    2,
                    3
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'number',
                        schema: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0,
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [
                            1,
                            2,
                            3
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'boolean',
                  enum: [
                    true,
                    false
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'boolean',
                          enum: [
                            true,
                            false
                          ]
                        },
                        type: 'boolean',
                        uri: '#/0',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [true, false],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'null',
                  enum: [null]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'null',
                          enum: [
                            null
                          ]
                        },
                        type: 'null',
                        uri: '#/0',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [null],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'number',
                  enum: [
                    1,
                    2,
                    3
                  ]
                },
                {
                  type: 'string',
                  enum: [
                    'array type index string type (1)',
                    'array type index string type (2)',
                    'array type index string type (3)'
                  ]
                },
                {
                  type: 'boolean',
                  enum: [
                    true,
                    false
                  ]
                },
                {
                  type: 'null',
                  enum: [null]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        enum: {
                          items: [
                            1,
                            2,
                            3
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      },
                      meta: {
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        },
                        type: 'number',
                        uri: '#/0',
                        selectedItems: []
                      }
                    },
                    {
                      meta: {
                        item: 1,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          enum: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ],
                          type: 'string'
                        },
                        type: 'string',
                        uri: '#/1',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ],
                          name: '#/1',
                          required: false,
                          selectedItems: []
                        }
                      }
                    },
                    {
                      meta: {
                        item: 2,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'boolean',
                          enum: [
                            true,
                            false
                          ]
                        },
                        type: 'boolean',
                        uri: '#/2',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [true, false],
                          name: '#/2',
                          required: false,
                          selectedItems: []
                        }
                      }
                    },
                    {
                      meta: {
                        item: 3,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'null',
                          enum: [
                            null
                          ]
                        },
                        type: 'null',
                        uri: '#/3',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [null],
                          name: '#/3',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    }
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              type: 'number',
                              uri: '#/0/0',
                              selectedItems: []
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'boolean',
                      enum: [
                        true,
                        false
                      ]
                    }
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'boolean',
                              enum: [
                                true,
                                false
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              type: 'boolean',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'null',
                      enum: [null]
                    }
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'null',
                              enum: [null]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              type: 'null',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'object',
                      properties: {
                        one: {
                          type: 'string',
                          enum: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ]
                        },
                        two: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        }
                      }
                    }
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string',
                                  enum: [
                                    'array type index string type (1)',
                                    'array type index string type (2)',
                                    'array type index string type (3)'
                                  ]
                                },
                                two: {
                                  type: 'number',
                                  enum: [
                                    1,
                                    2,
                                    3
                                  ]
                                }
                              }
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  enum: [
                                                    'array type index string type (1)',
                                                    'array type index string type (2)',
                                                    'array type index string type (3)'
                                                  ],
                                                  type: 'string'
                                                },
                                                two: {
                                                  enum: [
                                                    1,
                                                    2,
                                                    3
                                                  ],
                                                  type: 'number'
                                                }
                                              },
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: []
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  enum: [
                                                    'array type index string type (1)',
                                                    'array type index string type (2)',
                                                    'array type index string type (3)'
                                                  ],
                                                  type: 'string'
                                                },
                                                two: {
                                                  enum: [
                                                    1,
                                                    2,
                                                    3
                                                  ],
                                                  type: 'number'
                                                }
                                              },
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: []
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'object',
                      properties: {
                        one: {
                          type: 'string',
                          enum: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ]
                        },
                        two: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        }
                      },
                      required: [
                        'one'
                      ]
                    }
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string',
                                  enum: [
                                    'array type index string type (1)',
                                    'array type index string type (2)',
                                    'array type index string type (3)'
                                  ]
                                },
                                two: {
                                  type: 'number',
                                  enum: [
                                    1,
                                    2,
                                    3
                                  ]
                                }
                              },
                              required: [
                                'one'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: true,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  enum: [
                                                    'array type index string type (1)',
                                                    'array type index string type (2)',
                                                    'array type index string type (3)'
                                                  ],
                                                  type: 'string'
                                                },
                                                two: {
                                                  enum: [
                                                    1,
                                                    2,
                                                    3
                                                  ],
                                                  type: 'number'
                                                }
                                              },
                                              required: [
                                                'one'
                                              ],
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: []
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  enum: [
                                                    'array type index string type (1)',
                                                    'array type index string type (2)',
                                                    'array type index string type (3)'
                                                  ],
                                                  type: 'string'
                                                },
                                                two: {
                                                  enum: [
                                                    1,
                                                    2,
                                                    3
                                                  ],
                                                  type: 'number'
                                                }
                                              },
                                              required: [
                                                'one'
                                              ],
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: []
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    },
                    {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    {
                      type: 'boolean',
                      enum: [
                        true,
                        false
                      ]
                    },
                    {
                      type: 'null',
                      enum: [null]
                    }
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            },
                            {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            {
                              type: 'boolean',
                              enum: [
                                true,
                                false
                              ]
                            },
                            {
                              type: 'null',
                              enum: [null]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              type: 'number',
                              uri: '#/0/0',
                              selectedItems: []
                            }
                          },
                          {
                            meta: {
                              item: 1,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/1',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/1',
                                required: false,
                                selectedItems: []
                              }
                            }
                          },
                          {
                            meta: {
                              item: 2,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              type: 'boolean',
                              uri: '#/0/2',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/2',
                                required: false,
                                selectedItems: []
                              }
                            }
                          },
                          {
                            meta: {
                              item: 3,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              type: 'null',
                              uri: '#/0/3',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/3',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  }
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'string',
                            enum: [
                              'array type index string type (1)',
                              'array type index string type (2)',
                              'array type index string type (3)'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  }
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'number',
                            enum: [
                              1,
                              2,
                              3
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              type: 'number',
                              uri: '#/0/0',
                              selectedItems: []
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'boolean',
                    enum: [
                      true,
                      false
                    ]
                  }
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'boolean',
                            enum: [
                              true,
                              false
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              type: 'boolean',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'null',
                    enum: [null]
                  }
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'null',
                            enum: [null]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              type: 'null',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string',
                        enum: [
                          'array type index string type (1)',
                          'array type index string type (2)',
                          'array type index string type (3)'
                        ]
                      },
                      two: {
                        type: 'number',
                        enum: [
                          1,
                          2,
                          3
                        ]
                      }
                    }
                  }
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              two: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              }
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: []
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: []
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string',
                        enum: [
                          'array type index string type (1)',
                          'array type index string type (2)',
                          'array type index string type (3)'
                        ]
                      },
                      two: {
                        type: 'number',
                        enum: [
                          1,
                          2,
                          3
                        ]
                      }
                    },
                    required: [
                      'one'
                    ]
                  }
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              two: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              }
                            },
                            required: [
                              'one'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: true,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: []
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: []
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    two: {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  }
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            two: {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/one',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              name: 'one',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/one',
                              selectedItems: []
                            }
                          },
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/two',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              type: 'number',
                              uri: '#/0/two',
                              selectedItems: []
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    two: {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  },
                  required: [
                    'one'
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            two: {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          },
                          required: [
                            'one'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/one',
                                required: true,
                                selectedItems: []
                              }
                            },
                            meta: {
                              name: 'one',
                              required: true,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/one',
                              selectedItems: []
                            }
                          },
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/two',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              type: 'number',
                              uri: '#/0/two',
                              selectedItems: []
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'string',
                enum: [
                  'array type index string type (1)',
                  'array type index string type (2)',
                  'array type index string type (3)'
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          enum: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ],
                          type: 'string'
                        },
                        type: 'string',
                        uri: '#/0',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [
                            'array type index string type (1)',
                            'array type index string type (2)',
                            'array type index string type (3)'
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'number',
                enum: [
                  1,
                  2,
                  3
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        enum: {
                          items: [
                            1,
                            2,
                            3
                          ],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      },
                      meta: {
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'number',
                          enum: [
                            1,
                            2,
                            3
                          ]
                        },
                        type: 'number',
                        uri: '#/0',
                        selectedItems: []
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'boolean',
                enum: [
                  true,
                  false
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'boolean',
                        schema: {
                          type: 'boolean',
                          enum: [
                            true,
                            false
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0,
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [true, false],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'null',
                enum: [null]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'null',
                        schema: {
                          type: 'null',
                          enum: [null]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0,
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [null],
                          name: '#/0',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  }
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  }
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              type: 'number',
                              uri: '#/0/0',
                              selectedItems: []
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'boolean',
                    enum: [
                      true,
                      false
                    ]
                  }
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'boolean',
                              enum: [
                                true,
                                false
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              type: 'boolean',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'null',
                    enum: [null]
                  }
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'null',
                              enum: [null]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              type: 'null',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string',
                        enum: [
                          'array type index string type (1)',
                          'array type index string type (2)',
                          'array type index string type (3)'
                        ]
                      },
                      two: {
                        type: 'number',
                        enum: [
                          1,
                          2,
                          3
                        ]
                      }
                    }
                  }
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string',
                                  enum: [
                                    'array type index string type (1)',
                                    'array type index string type (2)',
                                    'array type index string type (3)'
                                  ]
                                },
                                two: {
                                  type: 'number',
                                  enum: [
                                    1,
                                    2,
                                    3
                                  ]
                                }
                              }
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: []
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: []
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string',
                        enum: [
                          'array type index string type (1)',
                          'array type index string type (2)',
                          'array type index string type (3)'
                        ]
                      },
                      two: {
                        type: 'number',
                        enum: [
                          1,
                          2,
                          3
                        ]
                      }
                    },
                    required: [
                      'one'
                    ]
                  }
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string',
                                  enum: [
                                    'array type index string type (1)',
                                    'array type index string type (2)',
                                    'array type index string type (3)'
                                  ]
                                },
                                two: {
                                  type: 'number',
                                  enum: [
                                    1,
                                    2,
                                    3
                                  ]
                                }
                              },
                              required: [
                                'one'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: true,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: []
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                enum: [
                                                  'array type index string type (1)',
                                                  'array type index string type (2)',
                                                  'array type index string type (3)'
                                                ],
                                                type: 'string'
                                              },
                                              two: {
                                                enum: [
                                                  1,
                                                  2,
                                                  3
                                                ],
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: []
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'number',
                    enum: [
                      1,
                      2,
                      3
                    ]
                  },
                  {
                    type: 'string',
                    enum: [
                      'array type index string type (1)',
                      'array type index string type (2)',
                      'array type index string type (3)'
                    ]
                  },
                  {
                    type: 'boolean',
                    enum: [
                      true,
                      false
                    ]
                  },
                  {
                    type: 'null',
                    enum: [null]
                  }
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number',
                              enum: [
                                1,
                                2,
                                3
                              ]
                            },
                            {
                              type: 'string',
                              enum: [
                                'array type index string type (1)',
                                'array type index string type (2)',
                                'array type index string type (3)'
                              ]
                            },
                            {
                              type: 'boolean',
                              enum: [
                                true,
                                false
                              ]
                            },
                            {
                              type: 'null',
                              enum: [null]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              type: 'number',
                              uri: '#/0/0',
                              selectedItems: []
                            }
                          },
                          {
                            meta: {
                              item: 1,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/1',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/1',
                                required: false,
                                selectedItems: []
                              }
                            }
                          },
                          {
                            meta: {
                              item: 2,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              type: 'boolean',
                              uri: '#/0/2',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/2',
                                required: false,
                                selectedItems: []
                              }
                            }
                          },
                          {
                            meta: {
                              item: 3,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              type: 'null',
                              uri: '#/0/3',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/3',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'string',
                  enum: [
                    'array type index string type (1)',
                    'array type index string type (2)',
                    'array type index string type (3)'
                  ]
                }
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'string',
                            enum: [
                              'array type index string type (1)',
                              'array type index string type (2)',
                              'array type index string type (3)'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'number',
                  enum: [
                    1,
                    2,
                    3
                  ]
                }
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'number',
                            enum: [
                              1,
                              2,
                              3
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              enum: {
                                items: [
                                  1,
                                  2,
                                  3
                                ],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              },
                              type: 'number',
                              uri: '#/0/0',
                              selectedItems: []
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'boolean',
                  enum: [
                    true,
                    false
                  ]
                }
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'boolean',
                            enum: [
                              true,
                              false
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean',
                                enum: [
                                  true,
                                  false
                                ]
                              },
                              type: 'boolean',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [true, false],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'null',
                  enum: [null]
                }
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'null',
                            enum: [null]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null',
                                enum: [
                                  null
                                ]
                              },
                              type: 'null',
                              uri: '#/0/0',
                              selectedItems: []
                            },
                            elements: {
                              enum: {
                                items: [null],
                                name: '#/0/0',
                                required: false,
                                selectedItems: []
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    two: {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  }
                }
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              two: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              }
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              enum: [
                                                'array type index string type (1)',
                                                'array type index string type (2)',
                                                'array type index string type (3)'
                                              ],
                                              type: 'string'
                                            },
                                            two: {
                                              enum: [
                                                1,
                                                2,
                                                3
                                              ],
                                              type: 'number'
                                            }
                                          },
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: []
                                  }
                                },
                                {
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: []
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              enum: [
                                                'array type index string type (1)',
                                                'array type index string type (2)',
                                                'array type index string type (3)'
                                              ],
                                              type: 'string'
                                            },
                                            two: {
                                              enum: [
                                                1,
                                                2,
                                                3
                                              ],
                                              type: 'number'
                                            }
                                          },
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: []
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string',
                      enum: [
                        'array type index string type (1)',
                        'array type index string type (2)',
                        'array type index string type (3)'
                      ]
                    },
                    two: {
                      type: 'number',
                      enum: [
                        1,
                        2,
                        3
                      ]
                    }
                  },
                  required: [
                    'one'
                  ]
                }
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string',
                                enum: [
                                  'array type index string type (1)',
                                  'array type index string type (2)',
                                  'array type index string type (3)'
                                ]
                              },
                              two: {
                                type: 'number',
                                enum: [
                                  1,
                                  2,
                                  3
                                ]
                              }
                            },
                            required: [
                              'one'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string',
                                    enum: [
                                      'array type index string type (1)',
                                      'array type index string type (2)',
                                      'array type index string type (3)'
                                    ]
                                  },
                                  two: {
                                    type: 'number',
                                    enum: [
                                      1,
                                      2,
                                      3
                                    ]
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              enum: [
                                                'array type index string type (1)',
                                                'array type index string type (2)',
                                                'array type index string type (3)'
                                              ],
                                              type: 'string'
                                            },
                                            two: {
                                              enum: [
                                                1,
                                                2,
                                                3
                                              ],
                                              type: 'number'
                                            }
                                          },
                                          required: [
                                            'one'
                                          ],
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one',
                                    selectedItems: []
                                  },
                                  elements: {
                                    enum: {
                                      items: [
                                        'array type index string type (1)',
                                        'array type index string type (2)',
                                        'array type index string type (3)'
                                      ],
                                      name: '#/0/0/one',
                                      required: true,
                                      selectedItems: []
                                    }
                                  }
                                },
                                {
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              enum: [
                                                'array type index string type (1)',
                                                'array type index string type (2)',
                                                'array type index string type (3)'
                                              ],
                                              type: 'string'
                                            },
                                            two: {
                                              enum: [
                                                1,
                                                2,
                                                3
                                              ],
                                              type: 'number'
                                            }
                                          },
                                          required: [
                                            'one'
                                          ],
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      enum: [
                                        1,
                                        2,
                                        3
                                      ],
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two',
                                    selectedItems: []
                                  },
                                  elements: {
                                    enum: {
                                      items: [
                                        1,
                                        2,
                                        3
                                      ],
                                      name: '#/0/0/two',
                                      required: false,
                                      selectedItems: []
                                    }
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  one: { type: 'string' },
                  two: { type: 'number' }
                }
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: { type: 'string' },
                            two: { type: 'number' }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              name: 'one',
                              required: false,
                              type: 'string',
                              schema: { type: 'string' },
                              rootSchema: schema,
                              uri: '#/0/one'
                            },
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: false
                              }
                            }
                          },
                          {
                            meta: {
                              name: 'two',
                              required: false,
                              type: 'number',
                              schema: { type: 'number' },
                              rootSchema: schema,
                              uri: '#/0/two'
                            },
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  one: { type: 'string' },
                  two: { type: 'number' }
                },
                required: [
                  'one'
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: { type: 'string' },
                            two: { type: 'number' }
                          },
                          required: [
                            'one'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              name: 'one',
                              required: true,
                              type: 'string',
                              schema: { type: 'string' },
                              rootSchema: schema,
                              uri: '#/0/one'
                            },
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: true
                              }
                            }
                          },
                          {
                            meta: {
                              name: 'two',
                              required: false,
                              type: 'number',
                              schema: { type: 'number' },
                              rootSchema: schema,
                              uri: '#/0/two'
                            },
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })
        })

        describe('Without `enum`', () => {
          it('transforms `array` type schemas (`items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'string'
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string'
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'number'
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'number',
                        schema: {
                          type: 'number'
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'boolean'
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'boolean'
                        },
                        type: 'boolean',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'null'
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'null'
                        },
                        type: 'null',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'number'
                },
                {
                  type: 'string'
                },
                {
                  type: 'boolean'
                },
                {
                  type: 'null'
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'number'
                        },
                        type: 'number',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      }
                    },
                    {
                      meta: {
                        item: 1,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'string'
                        },
                        type: 'string',
                        uri: '#/1'
                      },
                      elements: {
                        field: {
                          name: '#/1',
                          required: false
                        }
                      }
                    },
                    {
                      meta: {
                        item: 2,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'boolean'
                        },
                        type: 'boolean',
                        uri: '#/2'
                      },
                      elements: {
                        field: {
                          name: '#/2',
                          required: false
                        }
                      }
                    },
                    {
                      meta: {
                        item: 3,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'null'
                        },
                        type: 'null',
                        uri: '#/3'
                      },
                      elements: {
                        field: {
                          name: '#/3',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'string'
                    }
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'string'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'number'
                    }
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      },
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'boolean'
                    }
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'boolean'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'null'
                    }
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'null'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'object',
                      properties: {
                        one: {
                          type: 'string'
                        },
                        two: {
                          type: 'number'
                        }
                      }
                    }
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string'
                                },
                                two: {
                                  type: 'number'
                                }
                              }
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  type: 'string'
                                                },
                                                two: {
                                                  type: 'number'
                                                }
                                              },
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  type: 'string'
                                                },
                                                two: {
                                                  type: 'number'
                                                }
                                              },
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'object',
                      properties: {
                        one: {
                          type: 'string'
                        },
                        two: {
                          type: 'number'
                        }
                      },
                      required: [
                        'one'
                      ]
                    }
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string'
                                },
                                two: {
                                  type: 'number'
                                }
                              },
                              required: [
                                'one'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: true
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  type: 'string'
                                                },
                                                two: {
                                                  type: 'number'
                                                }
                                              },
                                              required: [
                                                'one'
                                              ],
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: [
                                            {
                                              properties: {
                                                one: {
                                                  type: 'string'
                                                },
                                                two: {
                                                  type: 'number'
                                                }
                                              },
                                              required: [
                                                'one'
                                              ],
                                              type: 'object'
                                            }
                                          ],
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an array)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: [
                    {
                      type: 'number'
                    },
                    {
                      type: 'string'
                    },
                    {
                      type: 'boolean'
                    },
                    {
                      type: 'null'
                    }
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number'
                            },
                            {
                              type: 'string'
                            },
                            {
                              type: 'boolean'
                            },
                            {
                              type: 'null'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              type: 'number',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          },
                          {
                            meta: {
                              item: 1,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/1'
                            },
                            elements: {
                              field: {
                                name: '#/0/1',
                                required: false
                              }
                            }
                          },
                          {
                            meta: {
                              item: 2,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              type: 'boolean',
                              uri: '#/0/2'
                            },
                            elements: {
                              field: {
                                name: '#/0/2',
                                required: false
                              }
                            }
                          },
                          {
                            meta: {
                              item: 3,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              type: 'null',
                              uri: '#/0/3'
                            },
                            elements: {
                              field: {
                                name: '#/0/3',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'string'
                  }
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'string'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'number'
                  }
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      },
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'number'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'boolean'
                  }
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'boolean'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'null'
                  }
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'null'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string'
                      },
                      two: {
                        type: 'number'
                      }
                    }
                  }
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string'
                              },
                              two: {
                                type: 'number'
                              }
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array and `items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'array',
                  items: {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string'
                      },
                      two: {
                        type: 'number'
                      }
                    },
                    required: [
                      'one'
                    ]
                  }
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string'
                              },
                              two: {
                                type: 'number'
                              }
                            },
                            required: [
                              'one'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: true
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: [
                                        {
                                          items: {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          },
                                          type: 'array'
                                        }
                                      ],
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string'
                    },
                    two: {
                      type: 'number'
                    }
                  }
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string'
                            },
                            two: {
                              type: 'number'
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: false
                              }
                            },
                            meta: {
                              name: 'one',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/one'
                            }
                          },
                          {
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false
                              }
                            },
                            meta: {
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              type: 'number',
                              uri: '#/0/two'
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: [
                {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string'
                    },
                    two: {
                      type: 'number'
                    }
                  },
                  required: [
                    'one'
                  ]
                }
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: {
                              type: 'string'
                            },
                            two: {
                              type: 'number'
                            }
                          },
                          required: [
                            'one'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              name: 'one',
                              required: true,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/one'
                            },
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: true
                              }
                            }
                          },
                          {
                            meta: {
                              name: 'two',
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              type: 'number',
                              uri: '#/0/two'
                            },
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'string'
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'string'
                        },
                        type: 'string',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'number'
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        item: 0,
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'number'
                        },
                        type: 'number',
                        uri: '#/0'
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'boolean'
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'boolean',
                        schema: {
                          type: 'boolean'
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'null'
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'null',
                        schema: {
                          type: 'null'
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        field: {
                          name: '#/0',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'string'
                  }
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'string'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'number'
                  }
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      },
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'boolean'
                  }
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'boolean'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'null'
                  }
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'null'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string'
                      },
                      two: {
                        type: 'number'
                      }
                    }
                  }
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string'
                                },
                                two: {
                                  type: 'number'
                                }
                              }
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'object',
                    properties: {
                      one: {
                        type: 'string'
                      },
                      two: {
                        type: 'number'
                      }
                    },
                    required: [
                      'one'
                    ]
                  }
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'object',
                              properties: {
                                one: {
                                  type: 'string'
                                },
                                two: {
                                  type: 'number'
                                }
                              },
                              required: [
                                'one'
                              ]
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: true
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: [
                                          {
                                            properties: {
                                              one: {
                                                type: 'string'
                                              },
                                              two: {
                                                type: 'number'
                                              }
                                            },
                                            required: [
                                              'one'
                                            ],
                                            type: 'object'
                                          }
                                        ],
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an array)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: [
                  {
                    type: 'number'
                  },
                  {
                    type: 'string'
                  },
                  {
                    type: 'boolean'
                  },
                  {
                    type: 'null'
                  }
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: [
                            {
                              type: 'number'
                            },
                            {
                              type: 'string'
                            },
                            {
                              type: 'boolean'
                            },
                            {
                              type: 'null'
                            }
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              type: 'number',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          },
                          {
                            meta: {
                              item: 1,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/1'
                            },
                            elements: {
                              field: {
                                name: '#/0/1',
                                required: false
                              }
                            }
                          },
                          {
                            meta: {
                              item: 2,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              type: 'boolean',
                              uri: '#/0/2'
                            },
                            elements: {
                              field: {
                                name: '#/0/2',
                                required: false
                              }
                            }
                          },
                          {
                            meta: {
                              item: 3,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              type: 'null',
                              uri: '#/0/3'
                            },
                            elements: {
                              field: {
                                name: '#/0/3',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `string` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'string'
                }
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'string'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'string'
                              },
                              type: 'string',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `number` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'number'
                }
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      elements: {
                        fields: [
                          {
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            },
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'number'
                              },
                              type: 'number',
                              uri: '#/0/0'
                            }
                          }
                        ]
                      },
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'number'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `boolean` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'boolean'
                }
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'boolean'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'boolean'
                              },
                              type: 'boolean',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `null` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'null'
                }
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'null'
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'null'
                              },
                              type: 'null',
                              uri: '#/0/0'
                            },
                            elements: {
                              field: {
                                name: '#/0/0',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string'
                    },
                    two: {
                      type: 'number'
                    }
                  }
                }
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string'
                              },
                              two: {
                                type: 'number'
                              }
                            }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                }
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              type: 'string'
                                            },
                                            two: {
                                              type: 'number'
                                            }
                                          },
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              type: 'string'
                                            },
                                            two: {
                                              type: 'number'
                                            }
                                          },
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two'
                                  }
                                }
                              ]

                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object and `items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'array',
                items: {
                  type: 'object',
                  properties: {
                    one: {
                      type: 'string'
                    },
                    two: {
                      type: 'number'
                    }
                  },
                  required: [
                    'one'
                  ]
                }
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'array',
                        schema: {
                          type: 'array',
                          items: {
                            type: 'object',
                            properties: {
                              one: {
                                type: 'string'
                              },
                              two: {
                                type: 'number'
                              }
                            },
                            required: [
                              'one'
                            ]
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              item: 0,
                              required: false,
                              rootSchema: schema,
                              schema: {
                                type: 'object',
                                properties: {
                                  one: {
                                    type: 'string'
                                  },
                                  two: {
                                    type: 'number'
                                  }
                                },
                                required: [
                                  'one'
                                ]
                              },
                              type: 'object',
                              uri: '#/0/0'
                            },
                            elements: {
                              fields: [
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/one',
                                      required: true
                                    }
                                  },
                                  meta: {
                                    name: 'one',
                                    required: true,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              type: 'string'
                                            },
                                            two: {
                                              type: 'number'
                                            }
                                          },
                                          required: [
                                            'one'
                                          ],
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'string'
                                    },
                                    type: 'string',
                                    uri: '#/0/0/one'
                                  }
                                },
                                {
                                  elements: {
                                    field: {
                                      name: '#/0/0/two',
                                      required: false
                                    }
                                  },
                                  meta: {
                                    name: 'two',
                                    required: false,
                                    rootSchema: {
                                      items: {
                                        items: {
                                          properties: {
                                            one: {
                                              type: 'string'
                                            },
                                            two: {
                                              type: 'number'
                                            }
                                          },
                                          required: [
                                            'one'
                                          ],
                                          type: 'object'
                                        },
                                        type: 'array'
                                      },
                                      type: 'array'
                                    },
                                    schema: {
                                      type: 'number'
                                    },
                                    type: 'number',
                                    uri: '#/0/0/two'
                                  }
                                }
                              ]
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `object` type)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  one: { type: 'string' },
                  two: { type: 'string' }
                }
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: { type: 'string' },
                            two: { type: 'string' }
                          }
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              name: 'one',
                              required: false,
                              type: 'string',
                              schema: { type: 'string' },
                              rootSchema: schema,
                              uri: '#/0/one'
                            },
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: false
                              }
                            }
                          },
                          {
                            meta: {
                              name: 'two',
                              required: false,
                              type: 'string',
                              schema: { type: 'string' },
                              rootSchema: schema,
                              uri: '#/0/two'
                            },
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `array` type schemas (`items` is an object of `object` type with `required`)', () => {
            const schema = {
              type: 'array',
              items: {
                type: 'object',
                properties: {
                  one: { type: 'string' },
                  two: { type: 'string' }
                },
                required: [
                  'one'
                ]
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'array',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        required: false,
                        type: 'object',
                        schema: {
                          type: 'object',
                          properties: {
                            one: { type: 'string' },
                            two: { type: 'string' }
                          },
                          required: [
                            'one'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/0',
                        item: 0
                      },
                      elements: {
                        fields: [
                          {
                            meta: {
                              name: 'one',
                              required: true,
                              type: 'string',
                              schema: { type: 'string' },
                              rootSchema: schema,
                              uri: '#/0/one'
                            },
                            elements: {
                              field: {
                                name: '#/0/one',
                                required: true
                              }
                            }
                          },
                          {
                            meta: {
                              name: 'two',
                              required: false,
                              type: 'string',
                              schema: { type: 'string' },
                              rootSchema: schema,
                              uri: '#/0/two'
                            },
                            elements: {
                              field: {
                                name: '#/0/two',
                                required: false
                              }
                            }
                          }
                        ]
                      }
                    }
                  ]
                }
              })
          })
        })
      })

      describe('Transforming `object` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `object` type schemas', () => {
            const schema = {
              type: 'object',
              properties: {
                one: {
                  type: 'string',
                  enum: [
                    'object type key string (1)',
                    'object type key string (2)'
                  ]
                },
                two: {
                  type: 'string',
                  enum: [
                    'object type key string (1)',
                    'object type key string (2)'
                  ]
                }
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'object',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        name: 'one',
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string',
                          enum: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/one',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ],
                          name: '#/one',
                          required: false,
                          selectedItems: []
                        }
                      }
                    },
                    {
                      meta: {
                        name: 'two',
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string',
                          enum: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ]
                        },
                        rootSchema: schema,
                        uri: '#/two',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ],
                          name: '#/two',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `object` type schemas (with `required`)', () => {
            const schema = {
              type: 'object',
              properties: {
                one: {
                  type: 'string',
                  enum: [
                    'object type key string (1)',
                    'object type key string (2)'
                  ]
                },
                two: {
                  type: 'string',
                  enum: [
                    'object type key string (1)',
                    'object type key string (2)'
                  ]
                }
              },
              required: [
                'one'
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'object',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        name: 'one',
                        required: true,
                        rootSchema: schema,
                        schema: {
                          type: 'string',
                          enum: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ]
                        },
                        type: 'string',
                        uri: '#/one',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ],
                          name: '#/one',
                          required: true,
                          selectedItems: []
                        }
                      }
                    },
                    {
                      meta: {
                        name: 'two',
                        required: false,
                        rootSchema: schema,
                        schema: {
                          type: 'string',
                          enum: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ]
                        },
                        type: 'string',
                        uri: '#/two',
                        selectedItems: []
                      },
                      elements: {
                        enum: {
                          items: [
                            'object type key string (1)',
                            'object type key string (2)'
                          ],
                          name: '#/two',
                          required: false,
                          selectedItems: []
                        }
                      }
                    }
                  ]
                }
              })
          })
        })

        describe('Without `enum`', () => {
          it('transforms `object` type schemas', () => {
            const schema = {
              type: 'object',
              properties: {
                one: { type: 'string' },
                two: { type: 'string' }
              }
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'object',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        name: 'one',
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string'
                        },
                        rootSchema: schema,
                        uri: '#/one'
                      },
                      elements: {
                        field: {
                          name: '#/one',
                          required: false
                        }
                      }
                    },
                    {
                      meta: {
                        name: 'two',
                        required: false,
                        type: 'string',
                        schema: {
                          type: 'string'
                        },
                        rootSchema: schema,
                        uri: '#/two'
                      },
                      elements: {
                        field: {
                          name: '#/two',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })

          it('transforms `object` type schemas (with `required`)', () => {
            const schema = {
              type: 'object',
              properties: {
                one: { type: 'string' },
                two: { type: 'string' }
              },
              required: [
                'one'
              ]
            }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'object',
                  schema,
                  uri: '#/'
                },
                elements: {
                  fields: [
                    {
                      meta: {
                        name: 'one',
                        required: true,
                        rootSchema: schema,
                        schema: { type: 'string' },
                        type: 'string',
                        uri: '#/one'
                      },
                      elements: {
                        field: {
                          name: '#/one',
                          required: true
                        }
                      }
                    },
                    {
                      meta: {
                        name: 'two',
                        required: false,
                        rootSchema: schema,
                        schema: { type: 'string' },
                        type: 'string',
                        uri: '#/two'
                      },
                      elements: {
                        field: {
                          name: '#/two',
                          required: false
                        }
                      }
                    }
                  ]
                }
              })
          })
        })
      })

      describe('Transforming `boolean` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean', enum: [true, false] }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  selectedItems: []
                },
                elements: {
                  enum: {
                    name: '#/',
                    items: [true, false],
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `anyOf`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean', anyOf: [{ const: true }, { const: false }, { const: true }] }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  selectedItems: []
                },
                elements: {
                  anyOf: {
                    items: [
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: true },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'true'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: false },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'false'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: true },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: 'true'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `oneOf`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean', oneOf: [{ const: true }, { const: false }] }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/',
                  selectedItems: []
                },
                elements: {
                  oneOf: {
                    items: [
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: true },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'true'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'boolean',
                          rootSchema: schema,
                          schema: { const: false },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'false'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `allOf`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean', allOf: [{ const: true }] }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'true'
                  }
                }
              })
          })
        })

        describe('Without `enum` or `anyOf` or `oneOf` or `allOf`', () => {
          it('transforms `boolean` type schemas', () => {
            const schema = { type: 'boolean' }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'boolean',
                  schema,
                  uri: '#/'
                },
                elements: {
                  field: {
                    name: '#/'
                  }
                }
              })
          })
        })
      })

      describe('Transforming `null` type schemas', () => {
        describe('With `enum`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null', enum: [null] }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/',
                  selectedItems: []
                },
                elements: {
                  enum: {
                    name: '#/',
                    items: [null],
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `anyOf`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null', anyOf: [{ const: null }, { const: null }, { const: null }] }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/',
                  selectedItems: []
                },
                elements: {
                  anyOf: {
                    items: [
                      {
                        meta: {
                          type: 'null',
                          rootSchema: schema,
                          schema: { const: null },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'null'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'null',
                          rootSchema: schema,
                          schema: { const: null },
                          item: 1,
                          required: false,
                          uri: '#/1'
                        },
                        elements: {
                          field: {
                            name: '#/1',
                            required: false,
                            value: 'null'
                          }
                        }
                      },
                      {
                        meta: {
                          type: 'null',
                          rootSchema: schema,
                          schema: { const: null },
                          item: 2,
                          required: false,
                          uri: '#/2'
                        },
                        elements: {
                          field: {
                            name: '#/2',
                            required: false,
                            value: 'null'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `oneOf`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null', oneOf: [{ const: null }] }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/',
                  selectedItems: []
                },
                elements: {
                  oneOf: {
                    items: [
                      {
                        meta: {
                          type: 'null',
                          rootSchema: schema,
                          schema: { const: null },
                          item: 0,
                          required: false,
                          uri: '#/0'
                        },
                        elements: {
                          field: {
                            name: '#/0',
                            required: false,
                            value: 'null'
                          }
                        }
                      }
                    ],
                    name: '#/',
                    selectedItems: []
                  }
                }
              })
          })
        })

        describe('With `allOf`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null', allOf: [{ const: null }] }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/'
                },
                elements: {
                  field: {
                    name: '#/',
                    value: 'null'
                  }
                }
              })
          })
        })

        describe('Without `enum` or `anyOf` or `oneOf` or `allOf`', () => {
          it('transforms `null` type schemas', () => {
            const schema = { type: 'null' }

            return expect(transform(schema))
              .to.eql({
                meta: {
                  type: 'null',
                  schema,
                  uri: '#/'
                },
                elements: {
                  field: {
                    name: '#/'
                  }
                }
              })
          })
        })
      })
    })
  })
})
