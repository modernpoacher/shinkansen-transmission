"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getSelectedItems=getSelectedItems;exports.isParentUri=isParentUri;exports.getMetaProps=getMetaProps;exports.getMetaDefaultValue=getMetaDefaultValue;exports.hasMetaValue=hasMetaValue;exports.getMetaValue=getMetaValue;exports.hasValue=hasValue;exports.getValue=getValue;exports.getValueForEnum=getValueForEnum;exports.getIndexForEnum=getIndexForEnum;exports.getValueForAnyOf=getValueForAnyOf;exports.getIndexForAnyOf=getIndexForAnyOf;exports.getValueForOneOf=getValueForOneOf;exports.getIndexForOneOf=getIndexForOneOf;exports.getElementsProps=getElementsProps;exports.getElementsTitleProps=getElementsTitleProps;exports.getElementsDescriptionProps=getElementsDescriptionProps;exports.getElementsFieldPropsForEnum=getElementsFieldPropsForEnum;exports.getElementsFieldPropsForOneOf=getElementsFieldPropsForOneOf;exports.getElementsFieldPropsForAnyOf=getElementsFieldPropsForAnyOf;exports.getElementsFieldPropsForAllOf=getElementsFieldPropsForAllOf;exports.getElementsFieldProps=getElementsFieldProps;exports.getElementsFieldValue=getElementsFieldValue;exports.getMin=getMin;exports.getMax=getMax;exports.getMinLength=getMinLength;exports.getMaxLength=getMaxLength;exports.getMinItems=getMinItems;exports.getMaxItems=getMaxItems;exports.getHasUniqueItems=getHasUniqueItems;exports.getMinContains=getMinContains;exports.getMaxContains=getMaxContains;exports.getMinProperties=getMinProperties;exports.getMaxProperties=getMaxProperties;exports.getIsExclusiveMin=getIsExclusiveMin;exports.getIsExclusiveMax=getIsExclusiveMax;exports.getStep=getStep;exports.getPattern=exports.normaliseUri=exports.getUri=exports.getAllOf=exports.hasAllOf=exports.getOneOf=exports.hasOneOf=exports.getAnyOf=exports.hasAnyOf=exports.getDefault=exports.hasDefault=exports.getConst=exports.hasConst=exports.getEnum=exports.hasEnum=exports.transformValue=exports.getIsWriteOnly=exports.getIsReadOnly=exports.getDescription=exports.getTitle=exports.isDefaultValue=exports.toDefaultValue=exports.isConstValue=exports.toConstValue=exports.isPrimitive=exports.isNullSchema=exports.isBooleanSchema=exports.isObjectSchema=exports.isArraySchema=exports.isNumberSchema=exports.isStringSchema=exports.isSchema=exports.isArray=exports.isObject=void 0;const isObject=v=>(v||false)instanceof Object&&!isArray(v);exports.isObject=isObject;const isArray=v=>Array.isArray(v);exports.isArray=isArray;const isSchema=(v={})=>Reflect.has(v,'type');exports.isSchema=isSchema;const isStringSchema=({type}={})=>type==='string';exports.isStringSchema=isStringSchema;const isNumberSchema=({type}={})=>type==='number';exports.isNumberSchema=isNumberSchema;const isArraySchema=({type}={})=>type==='array';exports.isArraySchema=isArraySchema;const isObjectSchema=({type}={})=>type==='object';exports.isObjectSchema=isObjectSchema;const isBooleanSchema=({type}={})=>type==='boolean';exports.isBooleanSchema=isBooleanSchema;const isNullSchema=({type}={})=>type==='null';exports.isNullSchema=isNullSchema;const isPrimitive=v=>!isObject(v)&&!isArray(v);exports.isPrimitive=isPrimitive;const toConstValue=(schema={})=>Reflect.get(schema,'const');exports.toConstValue=toConstValue;const isConstValue=(schema={})=>Reflect.has(schema,'const');exports.isConstValue=isConstValue;const toDefaultValue=(schema={})=>Reflect.get(schema,'default');exports.toDefaultValue=toDefaultValue;const isDefaultValue=(schema={})=>Reflect.has(schema,'default');exports.isDefaultValue=isDefaultValue;const getTitle=({title}={})=>title?{title}:{};exports.getTitle=getTitle;const getDescription=({description}={})=>description?{description}:{};exports.getDescription=getDescription;const getIsReadOnly=({readOnly=false}={})=>readOnly?{readOnly}:{};exports.getIsReadOnly=getIsReadOnly;const getIsWriteOnly=({writeOnly=false}={})=>writeOnly?{writeOnly}:{};exports.getIsWriteOnly=getIsWriteOnly;const getUriForRegExp=uri=>uri.endsWith('/')?uri:uri.concat('/');function getSelectedItems(values={},uri='#'){const u=normaliseUri(uri);if(Reflect.has(values,u)){const v=Reflect.get(values,u);if(isPrimitive(v)){const n=Number(v);return isNaN(n)?[v]:[n];}else{return v.map(v=>{const n=Number(v);return isNaN(n)?v:n;});}}const pattern=new RegExp(`^${getUriForRegExp(u)}\\d+$`);return Object.entries(values).filter(([key])=>pattern.test(key)).map(([key,value])=>{const i=Number(key.slice(key.lastIndexOf('/')+1));const v=isArray(value)?value[i]:value;const n=Number(v);if(!isNaN(n))return n;return v;});}function isParentUri(parentUri='#',uri='#'){return parentUri!=='#'&&parentUri!==uri;}function getMetaProps(params={},uri='#'){let meta;if(Reflect.has(params,uri)){({meta}=Reflect.get(params,uri));}return meta||{};}function getMetaDefaultValue(schema={}){if(Reflect.has(schema,'default')){const defaultValue=Reflect.get(schema,'default');return{defaultValue:String(defaultValue)};}return{};}function hasMetaValue(values={},uri='#',schema={}){if(Reflect.has(values,uri)){const value=Reflect.get(values,uri);return isPrimitive(value);}else{if(Reflect.has(schema,'const')){const constValue=Reflect.get(schema,'const');return isPrimitive(constValue);}}return false;}function getMetaValue(values={},uri='#',schema={}){if(Reflect.has(values,uri)){const value=Reflect.get(values,uri);if(isPrimitive(value)){return{value:String(value)};}}else{if(Reflect.has(schema,'const')){const constValue=Reflect.get(schema,'const');if(isPrimitive(constValue)){return{value:String(constValue)};}}}return{};}const transformValue=schema=>isObject(schema)?isConstValue(schema)?toConstValue(schema):isDefaultValue(schema)?toDefaultValue(schema):schema:schema;exports.transformValue=transformValue;function hasValue(values={},uri='#',schema={}){if(Reflect.has(values,uri)){const value=Reflect.get(values,uri);return isPrimitive(value);}else{if(Reflect.has(schema,'const')){const constValue=Reflect.get(schema,'const');return isPrimitive(constValue);}}return false;}function getValue(values={},uri='#',schema={}){if(Reflect.has(values,uri)){const value=Reflect.get(values,uri);if(isPrimitive(value)){return String(value);}}else{if(Reflect.has(schema,'const')){const constValue=Reflect.get(schema,'const');if(isPrimitive(constValue)){return String(constValue);}}}}function getValueForEnum(v,{enum:items=[]}={}){if(Reflect.has(items,v)){const enumValue=Reflect.get(items,v);return String(enumValue);}}function getIndexForEnum(values={},parentUri='#',uri='#',schema={}){if(/\/\d+$/.test(uri)){return Number(uri.slice(uri.lastIndexOf('/')+1));}return NaN;}function getValueForAnyOf(v,{anyOf:items=[]}={}){if(Reflect.has(items,v)){const anyOf=Reflect.get(items,v);const anyOfValue=transformValue(anyOf);if(isPrimitive(anyOfValue)){return String(anyOfValue);}}}function getIndexForAnyOf(values={},parentUri='#',uri='#',schema={}){if(/\/\d+$/.test(uri)){return Number(uri.slice(uri.lastIndexOf('/')+1));}return NaN;}function getValueForOneOf(v,{oneOf:items=[]}={}){if(Reflect.has(items,v)){const oneOf=Reflect.get(items,v);const oneOfValue=transformValue(oneOf);if(isPrimitive(oneOfValue)){return String(oneOfValue);}}}function getIndexForOneOf(values={},parentUri='#',uri='#',schema={}){if(/\/\d+$/.test(uri)){return Number(uri.slice(uri.lastIndexOf('/')+1));}return NaN;}function getElementsProps(params={},uri='#'){let elements;if(Reflect.has(params,uri)){({elements={}}=Reflect.get(params,uri));}return elements||{};}function getElementsTitleProps(params={},uri='#'){let title;if(Reflect.has(params,uri)){({elements:{title}={}}=Reflect.get(params,uri));}return title||{};}function getElementsDescriptionProps(params={},uri='#'){let description;if(Reflect.has(params,uri)){({elements:{description}={}}=Reflect.get(params,uri));}return description||{};}function getElementsFieldPropsForEnum(params={},uri='#'){let field;if(Reflect.has(params,uri)){({elements:{enum:field}={}}=Reflect.get(params,uri));}return field||{};}function getElementsFieldPropsForOneOf(params={},uri='#'){let field;if(Reflect.has(params,uri)){({elements:{oneOf:field}={}}=Reflect.get(params,uri));}return field||{};}function getElementsFieldPropsForAnyOf(params={},uri='#'){let field;if(Reflect.has(params,uri)){({elements:{anyOf:field}={}}=Reflect.get(params,uri));}return field||{};}function getElementsFieldPropsForAllOf(params={},uri='#'){let field;if(Reflect.has(params,uri)){({elements:{field}={}}=Reflect.get(params,uri));}return field||{};}function getElementsFieldProps(params={},uri='#'){let field;if(Reflect.has(params,uri)){({elements:{field}={}}=Reflect.get(params,uri));}return field||{};}function getElementsFieldValue(values={},uri='#',schema={}){if(Reflect.has(values,uri)){const value=Reflect.get(values,uri);if(isPrimitive(value)){return{value:String(value)};}}else{if(Reflect.has(schema,'const')){const constValue=Reflect.get(schema,'const');if(isPrimitive(constValue)){return{value:String(constValue)};}}else{if(Reflect.has(schema,'default')){const defaultValue=Reflect.get(schema,'default');if(isPrimitive(defaultValue)){return{value:String(defaultValue)};}}}}return{};}const hasEnum=(schema={})=>Reflect.has(schema,'enum');exports.hasEnum=hasEnum;const getEnum=(schema={})=>Reflect.get(schema,'enum');exports.getEnum=getEnum;const hasConst=(schema={})=>Reflect.has(schema,'const');exports.hasConst=hasConst;const getConst=(schema={})=>Reflect.get(schema,'const');exports.getConst=getConst;const hasDefault=(schema={})=>Reflect.has(schema,'default');exports.hasDefault=hasDefault;const getDefault=(schema={})=>Reflect.get(schema,'default');exports.getDefault=getDefault;const hasAnyOf=(schema={})=>Reflect.has(schema,'anyOf');exports.hasAnyOf=hasAnyOf;const getAnyOf=(schema={})=>Reflect.get(schema,'anyOf');exports.getAnyOf=getAnyOf;const hasOneOf=(schema={})=>Reflect.has(schema,'oneOf');exports.hasOneOf=hasOneOf;const getOneOf=(schema={})=>Reflect.get(schema,'oneOf');exports.getOneOf=getOneOf;const hasAllOf=(schema={})=>Reflect.has(schema,'allOf');exports.hasAllOf=hasAllOf;const getAllOf=(schema={})=>Reflect.get(schema,'allOf');exports.getAllOf=getAllOf;const getUri=(uri='#',resource='')=>(uri.endsWith('/')?uri:uri.concat('/')).concat(resource);exports.getUri=getUri;const normaliseUri=(uri='#')=>uri==='#'?'#/':uri;exports.normaliseUri=normaliseUri;function getMin({minimum}={}){const value=Number(minimum);return isNaN(value)?{}:{min:value};}function getMax({maximum}={}){const value=Number(maximum);return isNaN(value)?{}:{max:value};}function getMinLength({minLength}={}){const value=Number(minLength);return isNaN(value)?{}:{minLength:value};}function getMaxLength({maxLength}={}){const value=Number(maxLength);return isNaN(value)?{}:{maxLength:value};}function getMinItems({minItems}={}){const value=Number(minItems);return isNaN(value)?{}:{minItems:value};}function getMaxItems({maxItems}={}){const value=Number(maxItems);return isNaN(value)?{}:{maxItems:value};}function getHasUniqueItems(schema={}){if(Reflect.has(schema,'uniqueItems')){const value=Reflect.get(schema,'uniqueItems');return typeof value==='boolean'?{hasUniqueItems:value}:{};}return{};}function getMinContains({minContains}={}){const value=Number(minContains);return isNaN(value)?{}:{minContains:value};}function getMaxContains({maxContains}={}){const value=Number(maxContains);return isNaN(value)?{}:{maxContains:value};}function getMinProperties({minProperties}={}){const value=Number(minProperties);return isNaN(value)?{}:{minProperties:value};}function getMaxProperties({maxProperties}={}){const value=Number(maxProperties);return isNaN(value)?{}:{maxProperties:value};}function getIsExclusiveMin(schema={}){if(Reflect.has(schema,'exclusiveMinimum')){const value=Reflect.get(schema,'exclusiveMinimum');return typeof value==='boolean'?{isExclusiveMin:value}:{};}return{};}function getIsExclusiveMax(schema={}){if(Reflect.has(schema,'exclusiveMaximum')){const value=Reflect.get(schema,'exclusiveMaximum');return typeof value==='boolean'?{isExclusiveMax:value}:{};}return{};}const getPattern=({pattern}={})=>pattern?{pattern}:{};exports.getPattern=getPattern;function getStep({multipleOf}={}){const value=Number(multipleOf);return isNaN(value)?{}:{step:value};}