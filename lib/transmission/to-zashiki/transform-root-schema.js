"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.transformNullForEnum=transformNullForEnum;exports.transformNullForAnyOf=transformNullForAnyOf;exports.transformNullForOneOf=transformNullForOneOf;exports.transformNullForAllOf=transformNullForAllOf;exports.transformNull=transformNull;exports.transformBooleanForEnum=transformBooleanForEnum;exports.transformBooleanForAnyOf=transformBooleanForAnyOf;exports.transformBooleanForOneOf=transformBooleanForOneOf;exports.transformBooleanForAllOf=transformBooleanForAllOf;exports.transformBoolean=transformBoolean;exports.transformObjectForEnum=transformObjectForEnum;exports.transformObjectForAnyOf=transformObjectForAnyOf;exports.transformObjectForOneOf=transformObjectForOneOf;exports.transformObjectForAllOf=transformObjectForAllOf;exports.transformObject=transformObject;exports.transformArrayForEnum=transformArrayForEnum;exports.transformArrayForAnyOf=transformArrayForAnyOf;exports.transformArrayForOneOf=transformArrayForOneOf;exports.transformArrayForAllOf=transformArrayForAllOf;exports.transformArray=transformArray;exports.transformNumberForEnum=transformNumberForEnum;exports.transformNumberForAnyOf=transformNumberForAnyOf;exports.transformNumberForOneOf=transformNumberForOneOf;exports.transformNumberForAllOf=transformNumberForAllOf;exports.transformNumber=transformNumber;exports.transformStringForEnum=transformStringForEnum;exports.transformStringForAnyOf=transformStringForAnyOf;exports.transformStringForOneOf=transformStringForOneOf;exports.transformStringForAllOf=transformStringForAllOf;exports.transformString=transformString;exports.default=toZashiki;var _debug=_interopRequireDefault(require("debug"));var _common=require("../common");var _transformSchema=require("./transform-schema");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}const log=(0,_debug.default)('shinkansen-transmission:to-zashiki:root-schema');function transformNullForEnum(rootSchema,values,params){log('transformNullForEnum');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const items=(0,_common.getEnum)(rootSchema);return(0,_transformSchema.renderNullForEnum)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{enum:{...(0,_common.getElementsFieldPropsForEnum)(params,uri),selectedItems,items}}}});}function transformNullForAnyOf(rootSchema,values,params){log('transformNullForAnyOf');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const{anyOf=[]}=rootSchema;const items=anyOf.map((0,_transformSchema.mapTransformNullByIndex)(rootSchema,values,{...params,selectedItems,parentUri:uri}));return(0,_transformSchema.renderNullForAnyOf)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{anyOf:{...(0,_common.getElementsFieldPropsForAnyOf)(params,uri),selectedItems,items}}}});}function transformNullForOneOf(rootSchema,values,params){log('transformNullForOneOf');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const{oneOf=[]}=rootSchema;const items=oneOf.map((0,_transformSchema.mapTransformNullByIndex)(rootSchema,values,{...params,selectedItems,parentUri:uri}));return(0,_transformSchema.renderNullForOneOf)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{oneOf:{...(0,_common.getElementsFieldPropsForOneOf)(params,uri),selectedItems,items}}}});}function transformNullForAllOf(rootSchema,values,params){log('transformNullForAllOf');const{parentUri='#',uri='#/'}=params;const{allOf=[],...rest}=rootSchema;const itemSchema=allOf.reduce((accumulator,schema)=>({...accumulator,...schema}),rest);return(0,_transformSchema.renderNullForAllOf)(itemSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,...(0,_common.getMetaValue)(values,uri,rootSchema)},elements:{field:{...(0,_common.getElementsFieldPropsForAllOf)(params,uri),...(0,_common.getElementsFieldValue)(values,uri,rootSchema)}}}});}function transformNull(rootSchema,values,params){log('transformNull (1)');if((0,_common.hasEnum)(rootSchema)){return transformNullForEnum(rootSchema,values,params);}else{if((0,_common.hasAnyOf)(rootSchema)){return transformNullForAnyOf(rootSchema,values,params);}else{if((0,_common.hasOneOf)(rootSchema)){return transformNullForOneOf(rootSchema,values,params);}else{if((0,_common.hasAllOf)(rootSchema)){return transformNullForAllOf(rootSchema,values,params);}}}}log('transformNull (2)');return(0,_transformSchema.renderNull)(rootSchema,values,{...params,parentUri:'#',uri:'#/','#/':{meta:{...(0,_common.getMetaProps)(params,'#/'),schema:rootSchema,parentUri:'#',uri:'#/'},elements:(0,_common.getElementsProps)(params,'#/')}});}function transformBooleanForEnum(rootSchema,values,params){log('transformBooleanForEnum');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const items=(0,_common.getEnum)(rootSchema);return(0,_transformSchema.renderBooleanForEnum)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{enum:{...(0,_common.getElementsFieldPropsForEnum)(params,uri),selectedItems,items}}}});}function transformBooleanForAnyOf(rootSchema,values,params){log('transformBooleanForAnyOf');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const{anyOf=[]}=rootSchema;const items=anyOf.map((0,_transformSchema.mapTransformBooleanByIndex)(rootSchema,values,{...params,selectedItems,parentUri:uri}));return(0,_transformSchema.renderBooleanForAnyOf)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{anyOf:{...(0,_common.getElementsFieldPropsForAnyOf)(params,uri),selectedItems,items}}}});}function transformBooleanForOneOf(rootSchema,values,params){log('transformBooleanForOneOf');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const{oneOf=[]}=rootSchema;const items=oneOf.map((0,_transformSchema.mapTransformBooleanByIndex)(rootSchema,values,{...params,selectedItems,parentUri:uri}));return(0,_transformSchema.renderBooleanForOneOf)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{oneOf:{...(0,_common.getElementsFieldPropsForOneOf)(params,uri),selectedItems,items}}}});}function transformBooleanForAllOf(rootSchema,values,params){log('transformBooleanForAllOf');const{parentUri='#',uri='#/'}=params;const{allOf=[],...rest}=rootSchema;const itemSchema=allOf.reduce((accumulator,schema)=>({...accumulator,...schema}),rest);return(0,_transformSchema.renderBooleanForAllOf)(itemSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,...(0,_common.getMetaValue)(values,uri,rootSchema)},elements:{field:{...(0,_common.getElementsFieldPropsForAllOf)(params,uri),...(0,_common.getElementsFieldValue)(values,uri,rootSchema)}}}});}function transformBoolean(rootSchema,values,params){log('transformBoolean (1)');if((0,_common.hasEnum)(rootSchema)){return transformBooleanForEnum(rootSchema,values,params);}else{if((0,_common.hasAnyOf)(rootSchema)){return transformBooleanForAnyOf(rootSchema,values,params);}else{if((0,_common.hasOneOf)(rootSchema)){return transformBooleanForOneOf(rootSchema,values,params);}else{if((0,_common.hasAllOf)(rootSchema)){return transformBooleanForAllOf(rootSchema,values,params);}}}}log('transformBoolean (2)');return(0,_transformSchema.renderBoolean)(rootSchema,values,{...params,parentUri:'#',uri:'#/','#/':{meta:{...(0,_common.getMetaProps)(params,'#/'),schema:rootSchema,parentUri:'#',uri:'#/'},elements:(0,_common.getElementsProps)(params,'#/')}});}function transformObjectForEnum(rootSchema,values,params){log('renderObjectForEnum');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const items=(0,_common.getEnum)(rootSchema);return(0,_transformSchema.renderObjectForEnum)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{enum:{...(0,_common.getElementsFieldPropsForEnum)(params,uri),selectedItems,items}}}});}function transformObjectForAnyOf(rootSchema,values,params){log('transformObjectForAnyOf');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const{anyOf=[]}=rootSchema;const items=anyOf.map((0,_transformSchema.mapTransformObjectByIndex)(rootSchema,values,{...params,selectedItems,parentUri:uri}));return(0,_transformSchema.renderObjectForAnyOf)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{anyOf:{...(0,_common.getElementsFieldPropsForAnyOf)(params,uri),selectedItems,items}}}});}function transformObjectForOneOf(rootSchema,values,params){log('transformObjectForOneOf');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const{oneOf=[]}=rootSchema;const items=oneOf.map((0,_transformSchema.mapTransformObjectByIndex)(rootSchema,values,{...params,selectedItems,parentUri:uri}));return(0,_transformSchema.renderObjectForOneOf)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{oneOf:{...(0,_common.getElementsFieldPropsForOneOf)(params,uri),selectedItems,items}}}});}function transformObjectForAllOf(rootSchema,values,params){log('transformObjectForAllOf');const{parentUri='#',uri='#/'}=params;const{allOf=[],...rest}=rootSchema;const itemSchema=allOf.reduce((accumulator,schema)=>({...accumulator,...schema}),rest);return(0,_transformSchema.renderObjectForAllOf)(itemSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri,uri},elements:(0,_common.getElementsProps)(params,uri)}});}function transformObject(rootSchema,values,params){log('transformObject (1)');if((0,_common.hasEnum)(rootSchema)){return transformObjectForEnum(rootSchema,values,params);}else{if((0,_common.hasAnyOf)(rootSchema)){return transformObjectForAnyOf(rootSchema,values,params);}else{if((0,_common.hasOneOf)(rootSchema)){return transformObjectForOneOf(rootSchema,values,params);}else{if((0,_common.hasAllOf)(rootSchema)){return transformObjectForAllOf(rootSchema,values,params);}}}}log('transformObject (2)');const{parentUri='#',uri='#/'}=params;const{properties={},required=[]}=rootSchema;const fields=Object.entries(properties).map(([key,schema],index)=>{if((0,_common.hasEnum)(schema)){log('transformObject (`enum`)');const schemaUri=(0,_common.getUri)(uri,key);const selectedItems=(0,_common.getSelectedItemsForUri)(values,uri,schemaUri,schema);const isRequired=required.includes(key);return(0,_transformSchema.transformByKey)(schema,rootSchema,values,{...params,parentUri:'#',[schemaUri]:{meta:{...(0,_common.getMetaProps)(params,schemaUri),selectedItems,isRequired},elements:{enum:{...(0,_common.getElementsFieldPropsForEnum)(params,schemaUri),selectedItems,isRequired}}},key});}else{if((0,_common.hasAnyOf)(schema)){log('transformObject (`anyOf`)');const schemaUri=(0,_common.getUri)(uri,key);const selectedItems=(0,_common.getSelectedItemsForUri)(values,uri,schemaUri,schema);const isRequired=required.includes(key);return(0,_transformSchema.transformByKey)(schema,rootSchema,values,{...params,parentUri:'#',[schemaUri]:{meta:{...(0,_common.getMetaProps)(params,schemaUri),selectedItems,isRequired},elements:{anyOf:{...(0,_common.getElementsFieldPropsForAnyOf)(params,schemaUri),selectedItems,isRequired}}},key});}else{if((0,_common.hasOneOf)(schema)){log('transformObject (`oneOf`)');const schemaUri=(0,_common.getUri)(uri,key);const selectedItems=(0,_common.getSelectedItemsForUri)(values,uri,schemaUri,schema);const isRequired=required.includes(key);return(0,_transformSchema.transformByKey)(schema,rootSchema,values,{...params,parentUri:'#',[schemaUri]:{meta:{...(0,_common.getMetaProps)(params,schemaUri),selectedItems,isRequired},elements:{oneOf:{...(0,_common.getElementsFieldPropsForOneOf)(params,schemaUri),selectedItems,isRequired}}},key});}}}log('transformObject (`value` `defaultValue`)');const schemaUri=(0,_common.getUri)(uri,key);const isRequired=required.includes(key);return(0,_transformSchema.transformByKey)(schema,rootSchema,values,{...params,[schemaUri]:{meta:{...(0,_common.getMetaProps)(params,schemaUri),isRequired},elements:{field:{...(0,_common.getElementsFieldProps)(params,uri),isRequired}}},key});});return(0,_transformSchema.renderObject)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:'#'},elements:{...(0,_common.getElementsProps)(params,uri),fields}}});}function transformArrayForEnum(rootSchema,values,params){log('renderArrayForEnum');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const items=(0,_common.getEnum)(rootSchema);return(0,_transformSchema.renderArrayForEnum)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{enum:{...(0,_common.getElementsFieldPropsForEnum)(params,uri),selectedItems,items}}}});}function transformArrayForAnyOf(rootSchema,values,params){log('transformArrayForAnyOf');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const{anyOf=[]}=rootSchema;const items=anyOf.map((0,_transformSchema.mapTransformArrayByIndex)(rootSchema,values,{...params,selectedItems,parentUri:uri}));return(0,_transformSchema.renderArrayForAnyOf)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{anyOf:{...(0,_common.getElementsFieldPropsForAnyOf)(params,uri),selectedItems,items}}}});}function transformArrayForOneOf(rootSchema,values,params){log('transformArrayForOneOf');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const{oneOf=[]}=rootSchema;const items=oneOf.map((0,_transformSchema.mapTransformArrayByIndex)(rootSchema,values,{...params,selectedItems,parentUri:uri}));return(0,_transformSchema.renderArrayForOneOf)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{oneOf:{...(0,_common.getElementsFieldPropsForOneOf)(params,uri),selectedItems,items}}}});}function transformArrayForAllOf(rootSchema,values,params){log('transformArrayForAllOf');const{parentUri='#',uri='#/'}=params;const{allOf=[],...rest}=rootSchema;const itemSchema=allOf.reduce((accumulator,schema)=>({...accumulator,...schema}),rest);return(0,_transformSchema.renderArrayForAllOf)(itemSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri,uri},elements:(0,_common.getElementsProps)(params,uri)}});}function transformArray(rootSchema,values,params){log('transformArray (1)');if((0,_common.hasEnum)(rootSchema)){return transformArrayForEnum(rootSchema,values,params);}else{if((0,_common.hasAnyOf)(rootSchema)){return transformArrayForAnyOf(rootSchema,values,params);}else{if((0,_common.hasOneOf)(rootSchema)){return transformArrayForOneOf(rootSchema,values,params);}else{if((0,_common.hasAllOf)(rootSchema)){return transformArrayForAllOf(rootSchema,values,params);}}}}log('transformArray (2)');const{items=[]}=rootSchema;if((0,_common.isArray)(items)){log('transformArray (2 - 1)');log(`

  Array with "items" array

    `);const fields=items.map((0,_transformSchema.mapTransformByIndex)(rootSchema,values,{...params,parentUri:'#'}));return(0,_transformSchema.renderArray)(rootSchema,values,{...params,parentUri:'#',uri:'#/','#/':{meta:{...(0,_common.getMetaProps)(params,'#/'),schema:rootSchema,parentUri:'#',uri:'#/'},elements:{...(0,_common.getElementsProps)(params,'#/'),fields}}});}log('transformArray (2 - 2)');log(`

  Array with "items" object

  `);let fields;if((0,_common.hasEnum)(items)){log('transformArray (`enum`)');const schemaUri=(0,_common.getUri)('#/',0);const selectedItems=(0,_common.getSelectedItemsForParentUri)(values,'#/',schemaUri,items);fields=[(0,_transformSchema.transformByIndex)(items,rootSchema,values,{...params,parentUri:'#',[schemaUri]:{meta:{...(0,_common.getMetaProps)(params,schemaUri),selectedItems},elements:{enum:{...(0,_common.getElementsFieldPropsForEnum)(params,schemaUri),selectedItems}}}})];}else{if((0,_common.hasAnyOf)(items)){log('transformArray (`anyOf`)');const schemaUri=(0,_common.getUri)('#/',0);const selectedItems=(0,_common.getSelectedItemsForParentUri)(values,'#/',schemaUri,items);fields=[(0,_transformSchema.transformByIndex)(items,rootSchema,values,{...params,parentUri:'#',[schemaUri]:{meta:{...(0,_common.getMetaProps)(params,schemaUri),selectedItems},elements:{anyOf:{...(0,_common.getElementsFieldPropsForAnyOf)(params,schemaUri),selectedItems}}}})];}else{if((0,_common.hasOneOf)(items)){log('transformArray (`oneOf`)');const schemaUri=(0,_common.getUri)('#/',0);const selectedItems=(0,_common.getSelectedItemsForParentUri)(values,'#/',schemaUri,items);fields=[(0,_transformSchema.transformByIndex)(items,rootSchema,values,{...params,parentUri:'#',[schemaUri]:{meta:{...(0,_common.getMetaProps)(params,schemaUri),selectedItems},elements:{oneOf:{...(0,_common.getElementsFieldPropsForOneOf)(params,schemaUri),selectedItems}}}})];}else{log('transformArray (`value` `defaultValue`)');fields=[(0,_transformSchema.transformByIndex)(items,rootSchema,values,{...params,parentUri:'#',uri:'#/','#/':{meta:{...(0,_common.getMetaProps)(params,'#/'),schema:rootSchema,parentUri:'#',uri:'#/'},elements:(0,_common.getElementsProps)(params,'#/')}})];}}}return(0,_transformSchema.renderArray)(rootSchema,values,{...params,parentUri:'#',uri:'#/','#/':{meta:{...(0,_common.getMetaProps)(params,'#/'),schema:rootSchema,parentUri:'#',uri:'#/'},elements:{...(0,_common.getElementsProps)(params,'#/'),fields}}});}function transformNumberForEnum(rootSchema,values,params){log('transformNumberForEnum');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const items=(0,_common.getEnum)(rootSchema);return(0,_transformSchema.renderNumberForEnum)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{enum:{...(0,_common.getElementsFieldPropsForEnum)(params,uri),selectedItems,items}}}});}function transformNumberForAnyOf(rootSchema,values,params){log('transformNumberForAnyOf');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const{anyOf=[]}=rootSchema;const items=anyOf.map((0,_transformSchema.mapTransformNumberByIndex)(rootSchema,values,{...params,selectedItems,parentUri:uri}));return(0,_transformSchema.renderNumberForAnyOf)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{anyOf:{...(0,_common.getElementsFieldPropsForAnyOf)(params,uri),selectedItems,items}}}});}function transformNumberForOneOf(rootSchema,values,params){log('transformNumberForOneOf');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const{oneOf=[]}=rootSchema;const items=oneOf.map((0,_transformSchema.mapTransformNumberByIndex)(rootSchema,values,{...params,selectedItems,parentUri:uri}));return(0,_transformSchema.renderNumberForOneOf)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{oneOf:{...(0,_common.getElementsFieldPropsForOneOf)(params,uri),selectedItems,items}}}});}function transformNumberForAllOf(rootSchema,values,params){log('transformNumberForAllOf');const{parentUri='#',uri='#/'}=params;const{allOf=[],...rest}=rootSchema;const itemSchema=allOf.reduce((accumulator,schema)=>({...accumulator,...schema}),rest);return(0,_transformSchema.renderNumberForAllOf)(itemSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,...(0,_common.getMetaValue)(values,uri,rootSchema)},elements:{field:{...(0,_common.getElementsFieldPropsForAllOf)(params,uri),...(0,_common.getElementsFieldValue)(values,uri,rootSchema)}}}});}function transformNumber(rootSchema,values,params){log('transformNumber (1)');if((0,_common.hasEnum)(rootSchema)){return transformNumberForEnum(rootSchema,values,params);}else{if((0,_common.hasAnyOf)(rootSchema)){return transformNumberForAnyOf(rootSchema,values,params);}else{if((0,_common.hasOneOf)(rootSchema)){return transformNumberForOneOf(rootSchema,values,params);}else{if((0,_common.hasAllOf)(rootSchema)){return transformNumberForAllOf(rootSchema,values,params);}}}}log('transformNumber (2)');return(0,_transformSchema.renderNumber)(rootSchema,values,{...params,parentUri:'#',uri:'#/','#/':{meta:{...(0,_common.getMetaProps)(params,'#/'),schema:rootSchema,parentUri:'#',uri:'#/'},elements:(0,_common.getElementsProps)(params,'#/')}});}function transformStringForEnum(rootSchema,values,params){log('transformStringForEnum');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const items=(0,_common.getEnum)(rootSchema);return(0,_transformSchema.renderStringForEnum)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{enum:{...(0,_common.getElementsFieldPropsForEnum)(params,uri),selectedItems,items}}}});}function transformStringForAnyOf(rootSchema,values,params){log('transformStringForAnyOf');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const{anyOf=[]}=rootSchema;const items=anyOf.map((0,_transformSchema.mapTransformStringByIndex)(rootSchema,values,{...params,selectedItems,parentUri:uri}));return(0,_transformSchema.renderStringForAnyOf)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{anyOf:{...(0,_common.getElementsFieldPropsForAnyOf)(params,uri),selectedItems,items}}}});}function transformStringForOneOf(rootSchema,values,params){log('transformStringForOneOf');const{parentUri='#',uri='#/'}=params;const{[uri]:{meta:{selectedItems=(0,_common.getSelectedItemsForUri)(values,parentUri,uri,rootSchema)}={}}={}}=params;const{oneOf=[]}=rootSchema;const items=oneOf.map((0,_transformSchema.mapTransformStringByIndex)(rootSchema,values,{...params,selectedItems,parentUri:uri}));return(0,_transformSchema.renderStringForOneOf)(rootSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,selectedItems},elements:{oneOf:{...(0,_common.getElementsFieldPropsForOneOf)(params,uri),selectedItems,items}}}});}function transformStringForAllOf(rootSchema,values,params){log('transformStringForAllOf');const{parentUri='#',uri='#/'}=params;const{allOf=[],...rest}=rootSchema;const itemSchema=allOf.reduce((accumulator,schema)=>({...accumulator,...schema}),rest);return(0,_transformSchema.renderStringForAllOf)(itemSchema,values,{...params,parentUri,uri,[uri]:{meta:{...(0,_common.getMetaProps)(params,uri),schema:rootSchema,parentUri:(0,_common.normaliseUri)(parentUri),uri,...(0,_common.getMetaValue)(values,uri,rootSchema)},elements:{field:{...(0,_common.getElementsFieldPropsForAllOf)(params,uri),...(0,_common.getElementsFieldValue)(values,uri,rootSchema)}}}});}function transformString(rootSchema,values,params){log('transformString (1)');if((0,_common.hasEnum)(rootSchema)){return transformStringForEnum(rootSchema,values,params);}else{if((0,_common.hasAnyOf)(rootSchema)){return transformStringForAnyOf(rootSchema,values,params);}else{if((0,_common.hasOneOf)(rootSchema)){return transformStringForOneOf(rootSchema,values,params);}else{if((0,_common.hasAllOf)(rootSchema)){return transformStringForAllOf(rootSchema,values,params);}}}}log('transformString (2)');return(0,_transformSchema.renderString)(rootSchema,values,{...params,parentUri:'#',uri:'#/','#/':{meta:{...(0,_common.getMetaProps)(params,'#/'),schema:rootSchema,parentUri:'#',uri:'#/'},elements:(0,_common.getElementsProps)(params,'#/')}});}function toZashiki(rootSchema={},values={},params={}){log('toZashiki',values);const{type}=rootSchema;switch(type){case'null':return transformNull(rootSchema,values,params);case'boolean':return transformBoolean(rootSchema,values,params);case'object':return transformObject(rootSchema,values,params);case'array':return transformArray(rootSchema,values,params);case'number':return transformNumber(rootSchema,values,params);case'string':return transformString(rootSchema,values,params);default:throw new Error('Schema does not conform to Instance Data Model, https://json-schema.org/draft/2019-09/json-schema-core.html#rfc.section.4.2.1');}}