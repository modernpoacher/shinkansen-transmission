"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.transformObjectSchemaNull=transformObjectSchemaNull;exports.transformObjectSchemaBoolean=transformObjectSchemaBoolean;exports.transformObjectSchemaObject=transformObjectSchemaObject;exports.transformObjectSchemaArray=transformObjectSchemaArray;exports.transformObjectSchemaString=transformObjectSchemaString;exports.transformObjectSchemaNumber=transformObjectSchemaNumber;exports.transformObjectSchema=transformObjectSchema;exports.transformArraySchemaNull=transformArraySchemaNull;exports.transformArraySchemaBoolean=transformArraySchemaBoolean;exports.transformArraySchemaObject=transformArraySchemaObject;exports.transformArraySchemaArray=transformArraySchemaArray;exports.transformArraySchemaString=transformArraySchemaString;exports.transformArraySchemaNumber=transformArraySchemaNumber;exports.transformArraySchema=transformArraySchema;exports.transformNull=transformNull;exports.transformBoolean=transformBoolean;exports.transformObject=transformObject;exports.transformArray=transformArray;exports.transformString=transformString;exports.transformNumber=transformNumber;exports.default=transform;var _common=require("../common");function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||Object.prototype.toString.call(arr)==="[object Arguments]")){return;}var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function transformObjectSchemaNull(schema,rootSchema,params,values){var _params$required=params.required,isRequired=_params$required===void 0?false:_params$required,parentUri=params.uri,fieldKey=params.key;var uri=(0,_common.getUri)(parentUri,fieldKey);return{meta:_objectSpread({uri:uri,name:fieldKey,type:'null',schema:schema,rootSchema:rootSchema,required:isRequired},(0,_common.getDefaultValue)(schema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri)),elements:_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{field:_objectSpread({required:isRequired},(0,_common.getElementsFieldProps)(params,uri),{},(0,_common.getElementsFieldValue)(values,uri,schema),{name:uri})})};}function transformObjectSchemaBoolean(schema,rootSchema,params,values){var _params$required2=params.required,isRequired=_params$required2===void 0?false:_params$required2,parentUri=params.uri,fieldKey=params.key;var uri=(0,_common.getUri)(parentUri,fieldKey);return{meta:_objectSpread({uri:uri,name:fieldKey,type:'boolean',schema:schema,rootSchema:rootSchema,required:isRequired},(0,_common.getDefaultValue)(schema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri)),elements:_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{field:_objectSpread({required:isRequired},(0,_common.getElementsFieldProps)(params,uri),{},(0,_common.getElementsFieldValue)(values,uri,schema),{name:uri})})};}function transformObjectSchemaObject(schema,rootSchema,params,values){var _params$required3=params.required,isRequired=_params$required3===void 0?false:_params$required3,parentUri=params.uri,fieldKey=params.key;var uri=(0,_common.getUri)(parentUri,fieldKey);var meta=_objectSpread({uri:uri,name:fieldKey,type:'object',schema:schema,rootSchema:rootSchema},(0,_common.getMaxProperties)(schema),{},(0,_common.getMinProperties)(schema),{required:isRequired},(0,_common.getDefaultValue)(schema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri));var elements;if((0,_common.hasEnum)(schema)){var items=(0,_common.getEnum)(schema);elements=_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{enum:{items:items,required:isRequired}});}else{if((0,_common.hasAnyOf)(schema)){var _items=(0,_common.getAnyOf)(schema);elements=_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{anyOf:{items:_items.reduce(function(accumulator,schema,index){return accumulator.concat(transformArraySchema(schema,rootSchema,_objectSpread({},params,{required:isRequired,uri:uri,index:index}),values));},[]),required:isRequired}});}else{if((0,_common.hasOneOf)(schema)){var _items2=(0,_common.getAnyOf)(schema);elements=_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{oneOf:{items:_items2.reduce(function(accumulator,schema,index){return accumulator.concat(transformArraySchema(schema,rootSchema,_objectSpread({},params,{required:isRequired,uri:uri,index:index}),values));},[]),required:isRequired}});}else{var _schema$properties=schema.properties,properties=_schema$properties===void 0?{}:_schema$properties,_schema$required=schema.required,required=_schema$required===void 0?[]:_schema$required;elements=_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{fields:Object.entries(properties).reduce(function(accumulator,_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],schema=_ref2[1];return accumulator.concat(transformObjectSchema(schema,rootSchema,_objectSpread({},params,{required:required.includes(key),uri:uri,key:key}),values));},[])});}}}return{meta:meta,elements:elements};}function transformObjectSchemaArray(schema,rootSchema,params,values){var _params$required4=params.required,isRequired=_params$required4===void 0?false:_params$required4,parentUri=params.uri,fieldKey=params.key;var uri=(0,_common.getUri)(parentUri,fieldKey);var _schema$items=schema.items,items=_schema$items===void 0?[]:_schema$items;var fields=[].concat(items).reduce(function(accumulator,schema,index){return accumulator.concat(transformArraySchema(schema,rootSchema,_objectSpread({},params,{required:isRequired,uri:uri,index:index}),values));},[]);return{meta:_objectSpread({uri:uri,name:fieldKey,type:'array',schema:schema,rootSchema:rootSchema},(0,_common.getMinItems)(schema),{},(0,_common.getMaxItems)(schema),{},(0,_common.getHasUniqueItems)(schema),{},(0,_common.getMaxContains)(schema),{},(0,_common.getMinContains)(schema),{required:isRequired},(0,_common.getDefaultValue)(schema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri)),elements:_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{fields:fields})};}function transformObjectSchemaString(schema,rootSchema,params,values){var _params$required5=params.required,isRequired=_params$required5===void 0?false:_params$required5,parentUri=params.uri,fieldKey=params.key;var uri=(0,_common.getUri)(parentUri,fieldKey);var minLength=(0,_common.getMinLength)(schema);var maxLength=(0,_common.getMaxLength)(schema);var pattern=(0,_common.getPattern)(schema);var meta=_objectSpread({uri:uri,name:fieldKey,type:'string',schema:schema,rootSchema:rootSchema},minLength,{},maxLength,{},pattern,{required:isRequired},(0,_common.getDefaultValue)(schema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri));var elements;if((0,_common.hasEnum)(schema)){var items=(0,_common.getEnum)(schema);elements=_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{enum:_objectSpread({items:items},minLength,{},maxLength,{},pattern,{required:isRequired})});}else{if((0,_common.hasAnyOf)(schema)){var _items3=(0,_common.getAnyOf)(schema);elements=_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{anyOf:_objectSpread({items:_items3.reduce(function(accumulator,schema,index){return accumulator.concat(transformArraySchema(schema,rootSchema,_objectSpread({},params,{required:isRequired,uri:uri,index:index}),values));},[])},minLength,{},maxLength,{},pattern,{required:isRequired})});}else{if((0,_common.hasOneOf)(schema)){var _items4=(0,_common.getOneOf)(schema);elements=_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{oneOf:_objectSpread({items:_items4.reduce(function(accumulator,schema,index){return accumulator.concat(transformArraySchema(schema,rootSchema,_objectSpread({},params,{required:isRequired,uri:uri,index:index}),values));},[])},minLength,{},maxLength,{},pattern,{required:isRequired})});}else{elements=_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{field:_objectSpread({},minLength,{},maxLength,{},pattern,{required:isRequired},(0,_common.getElementsFieldProps)(params,uri),{},(0,_common.getElementsFieldValue)(values,uri,schema),{name:uri})});}}}return{meta:meta,elements:elements};}function transformObjectSchemaNumber(schema,rootSchema,params,values){var _params$required6=params.required,isRequired=_params$required6===void 0?false:_params$required6,parentUri=params.uri,fieldKey=params.key;var uri=(0,_common.getUri)(parentUri,fieldKey);var min=(0,_common.getMin)(schema);var max=(0,_common.getMax)(schema);var step=(0,_common.getStep)(schema);var meta=_objectSpread({uri:uri,name:fieldKey,type:'number',schema:schema,rootSchema:rootSchema},(0,_common.getIsExclusiveMin)(schema),{},(0,_common.getIsExclusiveMax)(schema),{},min,{},max,{},step,{required:isRequired},(0,_common.getDefaultValue)(schema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri));var elements;if((0,_common.hasEnum)(schema)){var items=(0,_common.getEnum)(schema);elements=_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{enum:_objectSpread({items:items},min,{},max,{},step,{required:isRequired})});}else{if((0,_common.hasAnyOf)(schema)){var _items5=(0,_common.getAnyOf)(schema);elements=_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{anyOf:_objectSpread({items:_items5.reduce(function(accumulator,schema,index){return accumulator.concat(transformArraySchema(schema,rootSchema,_objectSpread({},params,{index:index}),values));},[])},min,{},max,{},step,{required:isRequired})});}else{if((0,_common.hasOneOf)(schema)){var _items6=(0,_common.getOneOf)(schema);elements=_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{oneOf:_objectSpread({items:_items6.reduce(function(accumulator,schema,index){return accumulator.concat(transformArraySchema(schema,rootSchema,_objectSpread({},params,{index:index}),values));},[])},min,{},max,{},step,{required:isRequired})});}else{elements=_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{field:_objectSpread({},min,{},max,{},step,{required:isRequired},(0,_common.getElementsFieldProps)(params,uri),{},(0,_common.getElementsFieldValue)(values,uri,schema),{name:uri})});}}}return{meta:meta,elements:elements};}function transformObjectSchema(){var schema=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var rootSchema=arguments.length>1&&arguments[1]!==undefined?arguments[1]:schema;var params=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var values=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var type=schema.type;switch(type){case'null':return transformObjectSchemaNull(schema,rootSchema,params,values);case'boolean':return transformObjectSchemaBoolean(schema,rootSchema,params,values);case'object':return transformObjectSchemaObject(schema,rootSchema,params,values);case'array':return transformObjectSchemaArray(schema,rootSchema,params,values);case'string':return transformObjectSchemaString(schema,rootSchema,params,values);case'number':return transformObjectSchemaNumber(schema,rootSchema,params,values);default:throw new Error('Schema does not conform to Instance Data Model, https://json-schema.org/draft/2019-09/json-schema-core.html#rfc.section.4.2.1');}}function transformArraySchemaNull(schema,rootSchema,params,values){var _params$required7=params.required,isRequired=_params$required7===void 0?false:_params$required7,parentUri=params.uri,arrayIndex=params.index;var uri=(0,_common.getUri)(parentUri,arrayIndex);return{meta:_objectSpread({uri:uri,item:arrayIndex,type:'null',schema:schema,rootSchema:rootSchema,required:isRequired},(0,_common.getDefaultValue)(schema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri)),elements:_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{field:_objectSpread({required:isRequired},(0,_common.getElementsFieldProps)(params,uri),{},(0,_common.getElementsFieldValue)(values,uri,schema),{name:uri})})};}function transformArraySchemaBoolean(schema,rootSchema,params,values){var _params$required8=params.required,isRequired=_params$required8===void 0?false:_params$required8,parentUri=params.uri,arrayIndex=params.index;var uri=(0,_common.getUri)(parentUri,arrayIndex);return{meta:_objectSpread({uri:uri,item:arrayIndex,type:'boolean',schema:schema,rootSchema:rootSchema,required:isRequired},(0,_common.getDefaultValue)(schema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri)),elements:_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{field:_objectSpread({required:isRequired},(0,_common.getElementsFieldProps)(params,uri),{},(0,_common.getElementsFieldValue)(values,uri,schema),{name:uri})})};}function transformArraySchemaObject(schema,rootSchema,params,values){var _params$required9=params.required,isRequired=_params$required9===void 0?false:_params$required9,parentUri=params.uri,arrayIndex=params.index;var uri=(0,_common.getUri)(parentUri,arrayIndex);var meta=_objectSpread({uri:uri,item:arrayIndex,type:'object',schema:schema,rootSchema:rootSchema},(0,_common.getMaxProperties)(schema),{},(0,_common.getMinProperties)(schema),{required:isRequired},(0,_common.getDefaultValue)(schema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri));var elements;if((0,_common.hasEnum)(schema)){var items=(0,_common.getEnum)(schema);elements=_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{enum:{items:items,required:isRequired}});}else{if((0,_common.hasAnyOf)(schema)){var _items7=(0,_common.getAnyOf)(schema);elements=_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{anyOf:{items:_items7.reduce(function(accumulator,schema,index){return accumulator.concat(transformArraySchema(schema,rootSchema,_objectSpread({},params,{uri:uri,index:index}),values));},[]),required:isRequired}});}else{if((0,_common.hasOneOf)(schema)){var _items8=(0,_common.getAnyOf)(schema);elements=_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{oneOf:{items:_items8.reduce(function(accumulator,schema,index){return accumulator.concat(transformArraySchema(schema,rootSchema,_objectSpread({},params,{uri:uri,index:index}),values));},[]),required:isRequired}});}else{var _schema$properties2=schema.properties,properties=_schema$properties2===void 0?{}:_schema$properties2,_schema$required2=schema.required,required=_schema$required2===void 0?[]:_schema$required2;elements=_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{fields:Object.entries(properties).reduce(function(accumulator,_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],schema=_ref4[1];return accumulator.concat(transformObjectSchema(schema,rootSchema,_objectSpread({},params,{required:required.includes(key),uri:uri,key:key}),values));},[])});}}}return{meta:meta,elements:elements};}function transformArraySchemaArray(schema,rootSchema,params,values){var _params$required10=params.required,isRequired=_params$required10===void 0?false:_params$required10,parentUri=params.uri,arrayIndex=params.index;var uri=(0,_common.getUri)(parentUri,arrayIndex);var _schema$items2=schema.items,items=_schema$items2===void 0?[]:_schema$items2;var fields=[].concat(items).reduce(function(accumulator,schema,index){return accumulator.concat(transformArraySchema(schema,rootSchema,_objectSpread({},params,{uri:uri,index:index}),values));},[]);return{meta:_objectSpread({uri:uri,item:arrayIndex,type:'array',schema:schema,rootSchema:rootSchema},(0,_common.getMinItems)(schema),{},(0,_common.getMaxItems)(schema),{},(0,_common.getHasUniqueItems)(schema),{},(0,_common.getMaxContains)(schema),{},(0,_common.getMinContains)(schema),{required:isRequired},(0,_common.getDefaultValue)(schema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri)),elements:_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{fields:fields})};}function transformArraySchemaString(schema,rootSchema,params,values){var _params$required11=params.required,isRequired=_params$required11===void 0?false:_params$required11,parentUri=params.uri,arrayIndex=params.index;var uri=(0,_common.getUri)(parentUri,arrayIndex);var minLength=(0,_common.getMinLength)(schema);var maxLength=(0,_common.getMaxLength)(schema);var pattern=(0,_common.getPattern)(schema);return{meta:_objectSpread({uri:uri,item:arrayIndex,type:'string',schema:schema,rootSchema:rootSchema},minLength,{},maxLength,{},pattern,{required:isRequired},(0,_common.getDefaultValue)(schema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri)),elements:_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{field:_objectSpread({},minLength,{},maxLength,{},pattern,{required:isRequired},(0,_common.getElementsFieldProps)(params,uri),{},(0,_common.getElementsFieldValue)(values,uri,schema),{name:uri})})};}function transformArraySchemaNumber(schema,rootSchema,params,values){var _params$required12=params.required,isRequired=_params$required12===void 0?false:_params$required12,parentUri=params.uri,arrayIndex=params.index;var uri=(0,_common.getUri)(parentUri,arrayIndex);var min=(0,_common.getMin)(schema);var max=(0,_common.getMax)(schema);var step=(0,_common.getStep)(schema);return{meta:_objectSpread({uri:uri,item:arrayIndex,type:'number',schema:schema,rootSchema:rootSchema},(0,_common.getIsExclusiveMin)(schema),{},(0,_common.getIsExclusiveMax)(schema),{},min,{},max,{},step,{required:isRequired},(0,_common.getDefaultValue)(schema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri)),elements:_objectSpread({},(0,_common.getTitle)(schema),{},(0,_common.getDescription)(schema),{field:_objectSpread({},min,{},max,{},step,{required:isRequired},(0,_common.getElementsFieldProps)(params,uri),{},(0,_common.getElementsFieldValue)(values,uri,schema),{name:uri})})};}function transformArraySchema(){var schema=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var rootSchema=arguments.length>1&&arguments[1]!==undefined?arguments[1]:schema;var params=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var values=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var type=schema.type;switch(type){case'null':return transformArraySchemaNull(schema,rootSchema,params,values);case'boolean':return transformArraySchemaBoolean(schema,rootSchema,params,values);case'object':return transformArraySchemaObject(schema,rootSchema,params,values);case'array':return transformArraySchemaArray(schema,rootSchema,params,values);case'string':return transformArraySchemaString(schema,rootSchema,params,values);case'number':return transformArraySchemaNumber(schema,rootSchema,params,values);default:throw new Error('Schema does not conform to Instance Data Model, https://json-schema.org/draft/2019-09/json-schema-core.html#rfc.section.4.2.1');}}function transformNull(rootSchema,params,values){var uri=(0,_common.getUri)();return{meta:_objectSpread({uri:uri,type:'null',schema:rootSchema},(0,_common.getDefaultValue)(rootSchema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri)),elements:_objectSpread({},(0,_common.getTitle)(rootSchema),{},(0,_common.getDescription)(rootSchema),{field:_objectSpread({},(0,_common.getElementsFieldProps)(params,uri),{},(0,_common.getElementsFieldValue)(values,uri,rootSchema),{name:uri})})};}function transformBoolean(rootSchema,params,values){var uri=(0,_common.getUri)();return{meta:_objectSpread({uri:uri,type:'boolean',schema:rootSchema},(0,_common.getDefaultValue)(rootSchema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri)),elements:_objectSpread({},(0,_common.getTitle)(rootSchema),{},(0,_common.getDescription)(rootSchema),{field:_objectSpread({},(0,_common.getElementsFieldProps)(params,uri),{},(0,_common.getElementsFieldValue)(values,uri,rootSchema),{name:uri})})};}function transformObject(rootSchema,params,values){var _rootSchema$propertie=rootSchema.properties,properties=_rootSchema$propertie===void 0?{}:_rootSchema$propertie,_rootSchema$required=rootSchema.required,required=_rootSchema$required===void 0?[]:_rootSchema$required;var uri=(0,_common.getUri)();var meta=_objectSpread({uri:uri,type:'object',schema:rootSchema},(0,_common.getDefaultValue)(rootSchema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri));var elements;if((0,_common.hasEnum)(rootSchema)){var items=(0,_common.getEnum)(rootSchema);elements=_objectSpread({},(0,_common.getTitle)(rootSchema),{},(0,_common.getDescription)(rootSchema),{enum:{items:items}});}else{if((0,_common.hasAnyOf)(rootSchema)){var _items9=(0,_common.getAnyOf)(rootSchema);elements=_objectSpread({},(0,_common.getTitle)(rootSchema),{},(0,_common.getDescription)(rootSchema),{anyOf:{items:_items9.reduce(function(accumulator,schema,index){return accumulator.concat(transformArraySchema(schema,rootSchema,_objectSpread({},params,{index:index}),values));},[])}});}else{if((0,_common.hasOneOf)(rootSchema)){var _items10=(0,_common.getOneOf)(rootSchema);elements=_objectSpread({},(0,_common.getTitle)(rootSchema),{},(0,_common.getDescription)(rootSchema),{oneOf:{items:_items10.reduce(function(accumulator,schema,index){return accumulator.concat(transformArraySchema(schema,rootSchema,_objectSpread({},params,{index:index}),values));},[])}});}else{elements=_objectSpread({},(0,_common.getTitle)(rootSchema),{},(0,_common.getDescription)(rootSchema),{fields:Object.entries(properties).reduce(function(accumulator,_ref5){var _ref6=_slicedToArray(_ref5,2),key=_ref6[0],schema=_ref6[1];return accumulator.concat(transformObjectSchema(schema,rootSchema,_objectSpread({},params,{required:required.includes(key),key:key}),values));},[])});}}}return{meta:meta,elements:elements};}function transformArray(rootSchema,params,values){var _rootSchema$items=rootSchema.items,items=_rootSchema$items===void 0?[]:_rootSchema$items;var uri=(0,_common.getUri)();var fields=[].concat(items).reduce(function(accumulator,schema,index){return accumulator.concat(transformArraySchema(schema,rootSchema,_objectSpread({},params,{index:index}),values));},[]);return{meta:_objectSpread({uri:uri,type:'array',schema:rootSchema},(0,_common.getMinItems)(rootSchema),{},(0,_common.getMaxItems)(rootSchema),{},(0,_common.getHasUniqueItems)(rootSchema),{},(0,_common.getMaxContains)(rootSchema),{},(0,_common.getMinContains)(rootSchema),{},(0,_common.getDefaultValue)(rootSchema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri)),elements:_objectSpread({},(0,_common.getTitle)(rootSchema),{},(0,_common.getDescription)(rootSchema),{fields:fields})};}function transformString(rootSchema,params,values){var uri=(0,_common.getUri)();var minLength=(0,_common.getMinLength)(rootSchema);var maxLength=(0,_common.getMaxLength)(rootSchema);var pattern=(0,_common.getPattern)(rootSchema);return{meta:_objectSpread({uri:uri,type:'string',schema:rootSchema},minLength,{},maxLength,{},pattern,{},(0,_common.getDefaultValue)(rootSchema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri)),elements:_objectSpread({},(0,_common.getTitle)(rootSchema),{},(0,_common.getDescription)(rootSchema),{field:_objectSpread({},minLength,{},maxLength,{},pattern,{},(0,_common.getElementsFieldProps)(params,uri),{},(0,_common.getElementsFieldValue)(values,uri,rootSchema),{name:uri})})};}function transformNumber(rootSchema,params,values){var uri=(0,_common.getUri)();var min=(0,_common.getMin)(rootSchema);var max=(0,_common.getMax)(rootSchema);var step=(0,_common.getStep)(rootSchema);return{meta:_objectSpread({uri:uri,type:'number',schema:rootSchema},(0,_common.getIsExclusiveMin)(rootSchema),{},(0,_common.getIsExclusiveMax)(rootSchema),{},min,{},max,{},step,{},(0,_common.getDefaultValue)(rootSchema,uri),{},(0,_common.getValue)(values,uri),{},(0,_common.getMetaProps)(params,uri)),elements:_objectSpread({},(0,_common.getTitle)(rootSchema),{},(0,_common.getDescription)(rootSchema),{field:_objectSpread({},min,{},max,{},step,{},(0,_common.getElementsFieldProps)(params,uri),{},(0,_common.getElementsFieldValue)(values,uri,rootSchema),{name:uri})})};}function transform(){var rootSchema=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var values=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var type=rootSchema.type;switch(type){case'null':return transformNull(rootSchema,params,values);case'boolean':return transformBoolean(rootSchema,params,values);case'object':return transformObject(rootSchema,params,values);case'array':return transformArray(rootSchema,params,values);case'number':return transformNumber(rootSchema,params,values);case'string':return transformString(rootSchema,params,values);default:throw new Error('Schema does not conform to Instance Data Model, https://json-schema.org/draft/2019-09/json-schema-core.html#rfc.section.4.2.1');}}